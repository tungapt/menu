/*! Build Time: 11/11/2024, 3:39:20 PM */
/*!  */
var Arf=function(e){"use strict";function t(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const n={},i=[],r=()=>{},s=()=>!1,o=/^on[^a-z]/,a=e=>o.test(e),l=e=>e.startsWith("onUpdate:"),c=Object.assign,u=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},h=Object.prototype.hasOwnProperty,d=(e,t)=>h.call(e,t),p=Array.isArray,f=e=>"[object Map]"===E(e),m=e=>"[object Set]"===E(e),g=e=>"function"==typeof e,v=e=>"string"==typeof e,y=e=>"symbol"==typeof e,_=e=>null!==e&&"object"==typeof e,w=e=>_(e)&&g(e.then)&&g(e.catch),b=Object.prototype.toString,E=e=>b.call(e),T=e=>E(e).slice(8,-1),S=e=>"[object Object]"===E(e),A=e=>v(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,C=t(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),I=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},O=/-(\w)/g,P=I((e=>e.replace(O,((e,t)=>t?t.toUpperCase():"")))),L=/\B([A-Z])/g,R=I((e=>e.replace(L,"-$1").toLowerCase())),N=I((e=>e.charAt(0).toUpperCase()+e.slice(1))),x=I((e=>e?`on${N(e)}`:"")),k=(e,t)=>!Object.is(e,t),D=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},M=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},U=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let $;const F=()=>$||($="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function V(e){if(p(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=v(i)?z(i):V(i);if(r)for(const e in r)t[e]=r[e]}return t}return v(e)||_(e)?e:void 0}const j=/;(?![^(]*\))/g,G=/:([^]+)/,B=/\/\*[^]*?\*\//g;function z(e){const t={};return e.replace(B,"").split(j).forEach((e=>{if(e){const n=e.split(G);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function H(e){let t="";if(v(e))t=e;else if(p(e))for(let n=0;n<e.length;n++){const i=H(e[n]);i&&(t+=i+" ")}else if(_(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const W=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Z(e){return!!e||""===e}let q;class K{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=q,!e&&q&&(this.index=(q.scopes||(q.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=q;try{return q=this,e()}finally{q=t}}}on(){q=this}off(){q=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}const J=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Q=e=>(e.w&te)>0,Y=e=>(e.n&te)>0,X=new WeakMap;let ee=0,te=1;const ne=30;let ie;const re=Symbol(""),se=Symbol("");class oe{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,function(e,t=q){t&&t.active&&t.effects.push(e)}(this,n)}run(){if(!this.active)return this.fn();let e=ie,t=le;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ie,ie=this,le=!0,te=1<<++ee,ee<=ne?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=te})(this):ae(this),this.fn()}finally{ee<=ne&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];Q(r)&&!Y(r)?r.delete(e):t[n++]=r,r.w&=~te,r.n&=~te}t.length=n}})(this),te=1<<--ee,ie=this.parent,le=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ie===this?this.deferStop=!0:this.active&&(ae(this),this.onStop&&this.onStop(),this.active=!1)}}function ae(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let le=!0;const ce=[];function ue(){ce.push(le),le=!1}function he(){const e=ce.pop();le=void 0===e||e}function de(e,t,n){if(le&&ie){let t=X.get(e);t||X.set(e,t=new Map);let i=t.get(n);i||t.set(n,i=J()),pe(i)}}function pe(e,t){let n=!1;ee<=ne?Y(e)||(e.n|=te,n=!Q(e)):n=!e.has(ie),n&&(e.add(ie),ie.deps.push(e))}function fe(e,t,n,i,r,s){const o=X.get(e);if(!o)return;let a=[];if("clear"===t)a=[...o.values()];else if("length"===n&&p(e)){const e=Number(i);o.forEach(((t,n)=>{("length"===n||n>=e)&&a.push(t)}))}else switch(void 0!==n&&a.push(o.get(n)),t){case"add":p(e)?A(n)&&a.push(o.get("length")):(a.push(o.get(re)),f(e)&&a.push(o.get(se)));break;case"delete":p(e)||(a.push(o.get(re)),f(e)&&a.push(o.get(se)));break;case"set":f(e)&&a.push(o.get(re))}if(1===a.length)a[0]&&me(a[0]);else{const e=[];for(const t of a)t&&e.push(...t);me(J(e))}}function me(e,t){const n=p(e)?e:[...e];for(const i of n)i.computed&&ge(i);for(const i of n)i.computed||ge(i)}function ge(e,t){(e!==ie||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const ve=t("__proto__,__v_isRef,__isVue"),ye=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(y)),_e=Ae(),we=Ae(!1,!0),be=Ae(!0),Ee=Te();function Te(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=lt(this);for(let t=0,r=this.length;t<r;t++)de(n,0,t+"");const i=n[t](...e);return-1===i||!1===i?n[t](...e.map(lt)):i}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){ue();const n=lt(this)[t].apply(this,e);return he(),n}})),e}function Se(e){const t=lt(this);return de(t,0,e),t.hasOwnProperty(e)}function Ae(e=!1,t=!1){return function(n,i,r){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_isShallow"===i)return t;if("__v_raw"===i&&r===(e?t?et:Xe:t?Ye:Qe).get(n))return n;const s=p(n);if(!e){if(s&&d(Ee,i))return Reflect.get(Ee,i,r);if("hasOwnProperty"===i)return Se}const o=Reflect.get(n,i,r);return(y(i)?ye.has(i):ve(i))?o:(e||de(n,0,i),t?o:ft(o)?s&&A(i)?o:o.value:_(o)?e?nt(o):tt(o):o)}}function Ce(e=!1){return function(t,n,i,r){let s=t[n];if(st(s)&&ft(s)&&!ft(i))return!1;if(!e&&(ot(i)||st(i)||(s=lt(s),i=lt(i)),!p(t)&&ft(s)&&!ft(i)))return s.value=i,!0;const o=p(t)&&A(n)?Number(n)<t.length:d(t,n),a=Reflect.set(t,n,i,r);return t===lt(r)&&(o?k(i,s)&&fe(t,"set",n,i):fe(t,"add",n,i)),a}}const Ie={get:_e,set:Ce(),deleteProperty:function(e,t){const n=d(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&fe(e,"delete",t,void 0),i},has:function(e,t){const n=Reflect.has(e,t);return y(t)&&ye.has(t)||de(e,0,t),n},ownKeys:function(e){return de(e,0,p(e)?"length":re),Reflect.ownKeys(e)}},Oe={get:be,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},Pe=c({},Ie,{get:we,set:Ce(!0)}),Le=e=>e,Re=e=>Reflect.getPrototypeOf(e);function Ne(e,t,n=!1,i=!1){const r=lt(e=e.__v_raw),s=lt(t);n||(t!==s&&de(r,0,t),de(r,0,s));const{has:o}=Re(r),a=i?Le:n?ht:ut;return o.call(r,t)?a(e.get(t)):o.call(r,s)?a(e.get(s)):void(e!==r&&e.get(t))}function xe(e,t=!1){const n=this.__v_raw,i=lt(n),r=lt(e);return t||(e!==r&&de(i,0,e),de(i,0,r)),e===r?n.has(e):n.has(e)||n.has(r)}function ke(e,t=!1){return e=e.__v_raw,!t&&de(lt(e),0,re),Reflect.get(e,"size",e)}function De(e){e=lt(e);const t=lt(this);return Re(t).has.call(t,e)||(t.add(e),fe(t,"add",e,e)),this}function Me(e,t){t=lt(t);const n=lt(this),{has:i,get:r}=Re(n);let s=i.call(n,e);s||(e=lt(e),s=i.call(n,e));const o=r.call(n,e);return n.set(e,t),s?k(t,o)&&fe(n,"set",e,t):fe(n,"add",e,t),this}function Ue(e){const t=lt(this),{has:n,get:i}=Re(t);let r=n.call(t,e);r||(e=lt(e),r=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return r&&fe(t,"delete",e,void 0),s}function $e(){const e=lt(this),t=0!==e.size,n=e.clear();return t&&fe(e,"clear",void 0,void 0),n}function Fe(e,t){return function(n,i){const r=this,s=r.__v_raw,o=lt(s),a=t?Le:e?ht:ut;return!e&&de(o,0,re),s.forEach(((e,t)=>n.call(i,a(e),a(t),r)))}}function Ve(e,t,n){return function(...i){const r=this.__v_raw,s=lt(r),o=f(s),a="entries"===e||e===Symbol.iterator&&o,l="keys"===e&&o,c=r[e](...i),u=n?Le:t?ht:ut;return!t&&de(s,0,l?se:re),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function je(e){return function(...t){return"delete"!==e&&this}}function Ge(){const e={get(e){return Ne(this,e)},get size(){return ke(this)},has:xe,add:De,set:Me,delete:Ue,clear:$e,forEach:Fe(!1,!1)},t={get(e){return Ne(this,e,!1,!0)},get size(){return ke(this)},has:xe,add:De,set:Me,delete:Ue,clear:$e,forEach:Fe(!1,!0)},n={get(e){return Ne(this,e,!0)},get size(){return ke(this,!0)},has(e){return xe.call(this,e,!0)},add:je("add"),set:je("set"),delete:je("delete"),clear:je("clear"),forEach:Fe(!0,!1)},i={get(e){return Ne(this,e,!0,!0)},get size(){return ke(this,!0)},has(e){return xe.call(this,e,!0)},add:je("add"),set:je("set"),delete:je("delete"),clear:je("clear"),forEach:Fe(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((r=>{e[r]=Ve(r,!1,!1),n[r]=Ve(r,!0,!1),t[r]=Ve(r,!1,!0),i[r]=Ve(r,!0,!0)})),[e,n,t,i]}const[Be,ze,He,We]=Ge();function Ze(e,t){const n=t?e?We:He:e?ze:Be;return(t,i,r)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get(d(n,i)&&i in t?n:t,i,r)}const qe={get:Ze(!1,!1)},Ke={get:Ze(!1,!0)},Je={get:Ze(!0,!1)},Qe=new WeakMap,Ye=new WeakMap,Xe=new WeakMap,et=new WeakMap;function tt(e){return st(e)?e:it(e,!1,Ie,qe,Qe)}function nt(e){return it(e,!0,Oe,Je,Xe)}function it(e,t,n,i,r){if(!_(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const o=(a=e).__v_skip||!Object.isExtensible(a)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(T(a));var a;if(0===o)return e;const l=new Proxy(e,2===o?i:n);return r.set(e,l),l}function rt(e){return st(e)?rt(e.__v_raw):!(!e||!e.__v_isReactive)}function st(e){return!(!e||!e.__v_isReadonly)}function ot(e){return!(!e||!e.__v_isShallow)}function at(e){return rt(e)||st(e)}function lt(e){const t=e&&e.__v_raw;return t?lt(t):e}function ct(e){return M(e,"__v_skip",!0),e}const ut=e=>_(e)?tt(e):e,ht=e=>_(e)?nt(e):e;function dt(e){le&&ie&&pe((e=lt(e)).dep||(e.dep=J()))}function pt(e,t){const n=(e=lt(e)).dep;n&&me(n)}function ft(e){return!(!e||!0!==e.__v_isRef)}function mt(e){return function(e,t){if(ft(e))return e;return new gt(e,t)}(e,!1)}class gt{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:lt(e),this._value=t?e:ut(e)}get value(){return dt(this),this._value}set value(e){const t=this.__v_isShallow||ot(e)||st(e);e=t?e:lt(e),k(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:ut(e),pt(this))}}const vt={get:(e,t,n)=>{return ft(i=Reflect.get(e,t,n))?i.value:i;var i},set:(e,t,n,i)=>{const r=e[t];return ft(r)&&!ft(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function yt(e){return rt(e)?e:new Proxy(e,vt)}class _t{constructor(e,t,n,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new oe(e,(()=>{this._dirty||(this._dirty=!0,pt(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=lt(this);return dt(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function wt(e,t,n,i){let r;try{r=i?e(...i):e()}catch(s){Et(s,t,n)}return r}function bt(e,t,n,i){if(g(e)){const r=wt(e,t,n,i);return r&&w(r)&&r.catch((e=>{Et(e,t,n)})),r}const r=[];for(let s=0;s<e.length;s++)r.push(bt(e[s],t,n,i));return r}function Et(e,t,n,i=!0){t&&t.vnode;if(t){let i=t.parent;const r=t.proxy,s=n;for(;i;){const t=i.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,s))return;i=i.parent}const o=t.appContext.config.errorHandler;if(o)return void wt(o,null,10,[e,r,s])}}let Tt=!1,St=!1;const At=[];let Ct=0;const It=[];let Ot=null,Pt=0;const Lt=Promise.resolve();let Rt=null;function Nt(e){const t=Rt||Lt;return e?t.then(this?e.bind(this):e):t}function xt(e){At.length&&At.includes(e,Tt&&e.allowRecurse?Ct+1:Ct)||(null==e.id?At.push(e):At.splice(function(e){let t=Ct+1,n=At.length;for(;t<n;){const i=t+n>>>1;Ut(At[i])<e?t=i+1:n=i}return t}(e.id),0,e),kt())}function kt(){Tt||St||(St=!0,Rt=Lt.then(Ft))}function Dt(e,t=(Tt?Ct+1:0)){for(;t<At.length;t++){const e=At[t];e&&e.pre&&(At.splice(t,1),t--,e())}}function Mt(e){if(It.length){const e=[...new Set(It)];if(It.length=0,Ot)return void Ot.push(...e);for(Ot=e,Ot.sort(((e,t)=>Ut(e)-Ut(t))),Pt=0;Pt<Ot.length;Pt++)Ot[Pt]();Ot=null,Pt=0}}const Ut=e=>null==e.id?1/0:e.id,$t=(e,t)=>{const n=Ut(e)-Ut(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Ft(e){St=!1,Tt=!0,At.sort($t);try{for(Ct=0;Ct<At.length;Ct++){const e=At[Ct];e&&!1!==e.active&&wt(e,null,14)}}finally{Ct=0,At.length=0,Mt(),Tt=!1,Rt=null,(At.length||It.length)&&Ft()}}function Vt(e,t,...i){if(e.isUnmounted)return;const r=e.vnode.props||n;let s=i;const o=t.startsWith("update:"),a=o&&t.slice(7);if(a&&a in r){const e=`${"modelValue"===a?"model":a}Modifiers`,{number:t,trim:o}=r[e]||n;o&&(s=i.map((e=>v(e)?e.trim():e))),t&&(s=i.map(U))}let l,c=r[l=x(t)]||r[l=x(P(t))];!c&&o&&(c=r[l=x(R(t))]),c&&bt(c,e,6,s);const u=r[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,bt(u,e,6,s)}}function jt(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(void 0!==r)return r;const s=e.emits;let o={},a=!1;if(!g(e)){const i=e=>{const n=jt(e,t,!0);n&&(a=!0,c(o,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return s||a?(p(s)?s.forEach((e=>o[e]=null)):c(o,s),_(e)&&i.set(e,o),o):(_(e)&&i.set(e,null),null)}function Gt(e,t){return!(!e||!a(t))&&(t=t.slice(2).replace(/Once$/,""),d(e,t[0].toLowerCase()+t.slice(1))||d(e,R(t))||d(e,t))}let Bt=null,zt=null;function Ht(e){const t=Bt;return Bt=e,zt=e&&e.type.__scopeId||null,t}function Wt(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:s,propsOptions:[o],slots:a,attrs:c,emit:u,render:h,renderCache:d,data:p,setupState:f,ctx:m,inheritAttrs:g}=e;let v,y;const _=Ht(e);try{if(4&n.shapeFlag){const e=r||i;v=xi(h.call(e,e,d,s,f,p,m)),y=c}else{const e=t;0,v=xi(e.length>1?e(s,{attrs:c,slots:a,emit:u}):e(s,null)),y=t.props?c:Zt(c)}}catch(b){gi.length=0,Et(b,e,1),v=Pi(fi)}let w=v;if(y&&!1!==g){const e=Object.keys(y),{shapeFlag:t}=w;e.length&&7&t&&(o&&e.some(l)&&(y=qt(y,o)),w=Li(w,y))}return n.dirs&&(w=Li(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),v=w,Ht(_),v}const Zt=e=>{let t;for(const n in e)("class"===n||"style"===n||a(n))&&((t||(t={}))[n]=e[n]);return t},qt=(e,t)=>{const n={};for(const i in e)l(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function Kt(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!Gt(n,s))return!0}return!1}const Jt={};function Qt(e,t,n){return Yt(e,t,n)}function Yt(e,t,{immediate:i,deep:s,flush:o,onTrack:a,onTrigger:l}=n){var c;const h=q===(null==(c=ji)?void 0:c.scope)?ji:null;let d,f,m=!1,v=!1;if(ft(e)?(d=()=>e.value,m=ot(e)):rt(e)?(d=()=>e,s=!0):p(e)?(v=!0,m=e.some((e=>rt(e)||ot(e))),d=()=>e.map((e=>ft(e)?e.value:rt(e)?tn(e):g(e)?wt(e,h,2):void 0))):d=g(e)?t?()=>wt(e,h,2):()=>{if(!h||!h.isUnmounted)return f&&f(),bt(e,h,3,[_])}:r,t&&s){const e=d;d=()=>tn(e())}let y,_=e=>{f=T.onStop=()=>{wt(e,h,4)}};if(Zi){if(_=r,t?i&&bt(t,h,3,[d(),v?[]:void 0,_]):d(),"sync"!==o)return r;{const e=Xi();y=e.__watcherHandles||(e.__watcherHandles=[])}}let w=v?new Array(e.length).fill(Jt):Jt;const b=()=>{if(T.active)if(t){const e=T.run();(s||m||(v?e.some(((e,t)=>k(e,w[t]))):k(e,w)))&&(f&&f(),bt(t,h,3,[e,w===Jt?void 0:v&&w[0]===Jt?[]:w,_]),w=e)}else T.run()};let E;b.allowRecurse=!!t,"sync"===o?E=b:"post"===o?E=()=>li(b,h&&h.suspense):(b.pre=!0,h&&(b.id=h.uid),E=()=>xt(b));const T=new oe(d,E);t?i?b():w=T.run():"post"===o?li(T.run.bind(T),h&&h.suspense):T.run();const S=()=>{T.stop(),h&&h.scope&&u(h.scope.effects,T)};return y&&y.push(S),S}function Xt(e,t,n){const i=this.proxy,r=v(e)?e.includes(".")?en(i,e):()=>i[e]:e.bind(i,i);let s;g(t)?s=t:(s=t.handler,n=t);const o=ji;Bi(this);const a=Yt(r,s.bind(i),n);return o?Bi(o):zi(),a}function en(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function tn(e,t){if(!_(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),ft(e))tn(e.value,t);else if(p(e))for(let n=0;n<e.length;n++)tn(e[n],t);else if(m(e)||f(e))e.forEach((e=>{tn(e,t)}));else if(S(e))for(const n in e)tn(e[n],t);return e}function nn(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(ue(),bt(l,n,8,[e.el,a,e,t]),he())}}const rn=e=>!!e.type.__asyncLoader,sn=e=>e.type.__isKeepAlive;function on(e,t){ln(e,"a",t)}function an(e,t){ln(e,"da",t)}function ln(e,t,n=ji){const i=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(un(t,i,n),n){let e=n.parent;for(;e&&e.parent;)sn(e.parent.vnode)&&cn(i,t,n,e),e=e.parent}}function cn(e,t,n,i){const r=un(t,e,i,!0);vn((()=>{u(i[t],r)}),n)}function un(e,t,n=ji,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;ue(),Bi(n);const r=bt(t,n,e,i);return zi(),he(),r});return i?r.unshift(s):r.push(s),s}}const hn=e=>(t,n=ji)=>(!Zi||"sp"===e)&&un(e,((...e)=>t(...e)),n),dn=hn("bm"),pn=hn("m"),fn=hn("bu"),mn=hn("u"),gn=hn("bum"),vn=hn("um"),yn=hn("sp"),_n=hn("rtg"),wn=hn("rtc");function bn(e,t=ji){un("ec",e,t)}const En=Symbol.for("v-ndc");function Tn(e,t,n,i){let r;const s=n&&n[i];if(p(e)||v(e)){r=new Array(e.length);for(let n=0,i=e.length;n<i;n++)r[n]=t(e[n],n,void 0,s&&s[n])}else if("number"==typeof e){r=new Array(e);for(let n=0;n<e;n++)r[n]=t(n+1,n,void 0,s&&s[n])}else if(_(e))if(e[Symbol.iterator])r=Array.from(e,((e,n)=>t(e,n,void 0,s&&s[n])));else{const n=Object.keys(e);r=new Array(n.length);for(let i=0,o=n.length;i<o;i++){const o=n[i];r[i]=t(e[o],o,i,s&&s[i])}}else r=[];return n&&(n[i]=r),r}const Sn=e=>e?Hi(e)?Ji(e)||e.proxy:Sn(e.parent):null,An=c(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Sn(e.parent),$root:e=>Sn(e.root),$emit:e=>e.emit,$options:e=>xn(e),$forceUpdate:e=>e.f||(e.f=()=>xt(e.update)),$nextTick:e=>e.n||(e.n=Nt.bind(e.proxy)),$watch:e=>Xt.bind(e)}),Cn=(e,t)=>e!==n&&!e.__isScriptSetup&&d(e,t),In={get({_:e},t){const{ctx:i,setupState:r,data:s,props:o,accessCache:a,type:l,appContext:c}=e;let u;if("$"!==t[0]){const l=a[t];if(void 0!==l)switch(l){case 1:return r[t];case 2:return s[t];case 4:return i[t];case 3:return o[t]}else{if(Cn(r,t))return a[t]=1,r[t];if(s!==n&&d(s,t))return a[t]=2,s[t];if((u=e.propsOptions[0])&&d(u,t))return a[t]=3,o[t];if(i!==n&&d(i,t))return a[t]=4,i[t];Pn&&(a[t]=0)}}const h=An[t];let p,f;return h?("$attrs"===t&&de(e,0,t),h(e)):(p=l.__cssModules)&&(p=p[t])?p:i!==n&&d(i,t)?(a[t]=4,i[t]):(f=c.config.globalProperties,d(f,t)?f[t]:void 0)},set({_:e},t,i){const{data:r,setupState:s,ctx:o}=e;return Cn(s,t)?(s[t]=i,!0):r!==n&&d(r,t)?(r[t]=i,!0):!d(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=i,!0))},has({_:{data:e,setupState:t,accessCache:i,ctx:r,appContext:s,propsOptions:o}},a){let l;return!!i[a]||e!==n&&d(e,a)||Cn(t,a)||(l=o[0])&&d(l,a)||d(r,a)||d(An,a)||d(s.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:d(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function On(e){return p(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let Pn=!0;function Ln(e){const t=xn(e),n=e.proxy,i=e.ctx;Pn=!1,t.beforeCreate&&Rn(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:a,watch:l,provide:c,inject:u,created:h,beforeMount:d,mounted:f,beforeUpdate:m,updated:v,activated:y,deactivated:w,beforeDestroy:b,beforeUnmount:E,destroyed:T,unmounted:S,render:A,renderTracked:C,renderTriggered:I,errorCaptured:O,serverPrefetch:P,expose:L,inheritAttrs:R,components:N,directives:x,filters:k}=t;if(u&&function(e,t,n=r){p(e)&&(e=Un(e));for(const i in e){const n=e[i];let r;r=_(n)?"default"in n?Hn(n.from||i,n.default,!0):Hn(n.from||i):Hn(n),ft(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:e=>r.value=e}):t[i]=r}}(u,i,null),a)for(const r in a){const e=a[r];g(e)&&(i[r]=e.bind(n))}if(s){const t=s.call(n,n);_(t)&&(e.data=tt(t))}if(Pn=!0,o)for(const p in o){const e=o[p],t=g(e)?e.bind(n,n):g(e.get)?e.get.bind(n,n):r,s=!g(e)&&g(e.set)?e.set.bind(n):r,a=Qi({get:t,set:s});Object.defineProperty(i,p,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e})}if(l)for(const r in l)Nn(l[r],i,n,r);if(c){const e=g(c)?c.call(n):c;Reflect.ownKeys(e).forEach((t=>{!function(e,t){if(ji){let n=ji.provides;const i=ji.parent&&ji.parent.provides;i===n&&(n=ji.provides=Object.create(i)),n[e]=t}else;}(t,e[t])}))}function D(e,t){p(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(h&&Rn(h,e,"c"),D(dn,d),D(pn,f),D(fn,m),D(mn,v),D(on,y),D(an,w),D(bn,O),D(wn,C),D(_n,I),D(gn,E),D(vn,S),D(yn,P),p(L))if(L.length){const t=e.exposed||(e.exposed={});L.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});A&&e.render===r&&(e.render=A),null!=R&&(e.inheritAttrs=R),N&&(e.components=N),x&&(e.directives=x)}function Rn(e,t,n){bt(p(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Nn(e,t,n,i){const r=i.includes(".")?en(n,i):()=>n[i];if(v(e)){const n=t[e];g(n)&&Qt(r,n)}else if(g(e))Qt(r,e.bind(n));else if(_(e))if(p(e))e.forEach((e=>Nn(e,t,n,i)));else{const i=g(e.handler)?e.handler.bind(n):t[e.handler];g(i)&&Qt(r,i,e)}}function xn(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:r.length||n||i?(l={},r.length&&r.forEach((e=>kn(l,e,o,!0))),kn(l,t,o)):l=t,_(t)&&s.set(t,l),l}function kn(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&kn(e,s,n,!0),r&&r.forEach((t=>kn(e,t,n,!0)));for(const o in t)if(i&&"expose"===o);else{const i=Dn[o]||n&&n[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const Dn={data:Mn,props:Vn,emits:Vn,methods:Fn,computed:Fn,beforeCreate:$n,created:$n,beforeMount:$n,mounted:$n,beforeUpdate:$n,updated:$n,beforeDestroy:$n,beforeUnmount:$n,destroyed:$n,unmounted:$n,activated:$n,deactivated:$n,errorCaptured:$n,serverPrefetch:$n,components:Fn,directives:Fn,watch:function(e,t){if(!e)return t;if(!t)return e;const n=c(Object.create(null),e);for(const i in t)n[i]=$n(e[i],t[i]);return n},provide:Mn,inject:function(e,t){return Fn(Un(e),Un(t))}};function Mn(e,t){return t?e?function(){return c(g(e)?e.call(this,this):e,g(t)?t.call(this,this):t)}:t:e}function Un(e){if(p(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function $n(e,t){return e?[...new Set([].concat(e,t))]:t}function Fn(e,t){return e?c(Object.create(null),e,t):t}function Vn(e,t){return e?p(e)&&p(t)?[...new Set([...e,...t])]:c(Object.create(null),On(e),On(null!=t?t:{})):t}function jn(){return{app:null,config:{isNativeTag:s,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gn=0;function Bn(e,t){return function(n,i=null){g(n)||(n=c({},n)),null==i||_(i)||(i=null);const r=jn(),s=new Set;let o=!1;const a=r.app={_uid:Gn++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:er,get config(){return r.config},set config(e){},use:(e,...t)=>(s.has(e)||(e&&g(e.install)?(s.add(e),e.install(a,...t)):g(e)&&(s.add(e),e(a,...t))),a),mixin:e=>(r.mixins.includes(e)||r.mixins.push(e),a),component:(e,t)=>t?(r.components[e]=t,a):r.components[e],directive:(e,t)=>t?(r.directives[e]=t,a):r.directives[e],mount(s,l,c){if(!o){const u=Pi(n,i);return u.appContext=r,l&&t?t(u,s):e(u,s,c),o=!0,a._container=s,s.__vue_app__=a,Ji(u.component)||u.component.proxy}},unmount(){o&&(e(null,a._container),delete a._container.__vue_app__)},provide:(e,t)=>(r.provides[e]=t,a),runWithContext(e){zn=a;try{return e()}finally{zn=null}}};return a}}let zn=null;function Hn(e,t,n=!1){const i=ji||Bt;if(i||zn){const r=i?null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:zn._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&g(t)?t.call(i&&i.proxy):t}}function Wn(e,t,n,i=!1){const r={},s={};M(s,Ai,1),e.propsDefaults=Object.create(null),Zn(e,t,r,s);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:it(r,!1,Pe,Ke,Ye):e.type.props?e.props=r:e.props=s,e.attrs=s}function Zn(e,t,i,r){const[s,o]=e.propsOptions;let a,l=!1;if(t)for(let n in t){if(C(n))continue;const c=t[n];let u;s&&d(s,u=P(n))?o&&o.includes(u)?(a||(a={}))[u]=c:i[u]=c:Gt(e.emitsOptions,n)||n in r&&c===r[n]||(r[n]=c,l=!0)}if(o){const t=lt(i),r=a||n;for(let n=0;n<o.length;n++){const a=o[n];i[a]=qn(s,t,a,r[a],e,!d(r,a))}}return l}function qn(e,t,n,i,r,s){const o=e[n];if(null!=o){const e=d(o,"default");if(e&&void 0===i){const e=o.default;if(o.type!==Function&&!o.skipFactory&&g(e)){const{propsDefaults:s}=r;n in s?i=s[n]:(Bi(r),i=s[n]=e.call(null,t),zi())}else i=e}o[0]&&(s&&!e?i=!1:!o[1]||""!==i&&i!==R(n)||(i=!0))}return i}function Kn(e,t,r=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const a=e.props,l={},u=[];let h=!1;if(!g(e)){const n=e=>{h=!0;const[n,i]=Kn(e,t,!0);c(l,n),i&&u.push(...i)};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}if(!a&&!h)return _(e)&&s.set(e,i),i;if(p(a))for(let i=0;i<a.length;i++){const e=P(a[i]);Jn(e)&&(l[e]=n)}else if(a)for(const n in a){const e=P(n);if(Jn(e)){const t=a[n],i=l[e]=p(t)||g(t)?{type:t}:c({},t);if(i){const t=Xn(Boolean,i.type),n=Xn(String,i.type);i[0]=t>-1,i[1]=n<0||t<n,(t>-1||d(i,"default"))&&u.push(e)}}}const f=[l,u];return _(e)&&s.set(e,f),f}function Jn(e){return"$"!==e[0]}function Qn(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:null===e?"null":""}function Yn(e,t){return Qn(e)===Qn(t)}function Xn(e,t){return p(t)?t.findIndex((t=>Yn(t,e))):g(t)&&Yn(t,e)?0:-1}const ei=e=>"_"===e[0]||"$stable"===e,ti=e=>p(e)?e.map(xi):[xi(e)],ni=(e,t,n)=>{if(t._n)return t;const i=function(e,t=Bt,n){if(!t)return e;if(e._n)return e;const i=(...n)=>{i._d&&wi(-1);const r=Ht(t);let s;try{s=e(...n)}finally{Ht(r),i._d&&wi(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}(((...e)=>ti(t(...e))),n);return i._c=!1,i},ii=(e,t,n)=>{const i=e._ctx;for(const r in e){if(ei(r))continue;const n=e[r];if(g(n))t[r]=ni(0,n,i);else if(null!=n){const e=ti(n);t[r]=()=>e}}},ri=(e,t)=>{const n=ti(t);e.slots.default=()=>n},si=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=lt(t),M(t,"_",n)):ii(t,e.slots={})}else e.slots={},t&&ri(e,t);M(e.slots,Ai,1)},oi=(e,t,i)=>{const{vnode:r,slots:s}=e;let o=!0,a=n;if(32&r.shapeFlag){const e=t._;e?i&&1===e?o=!1:(c(s,t),i||1!==e||delete s._):(o=!t.$stable,ii(t,s)),a=t}else t&&(ri(e,t),a={default:1});if(o)for(const n in s)ei(n)||n in a||delete s[n]};function ai(e,t,i,r,s=!1){if(p(e))return void e.forEach(((e,n)=>ai(e,t&&(p(t)?t[n]:t),i,r,s)));if(rn(r)&&!s)return;const o=4&r.shapeFlag?Ji(r.component)||r.component.proxy:r.el,a=s?null:o,{i:l,r:c}=e,h=t&&t.r,f=l.refs===n?l.refs={}:l.refs,m=l.setupState;if(null!=h&&h!==c&&(v(h)?(f[h]=null,d(m,h)&&(m[h]=null)):ft(h)&&(h.value=null)),g(c))wt(c,l,12,[a,f]);else{const t=v(c),n=ft(c);if(t||n){const r=()=>{if(e.f){const n=t?d(m,c)?m[c]:f[c]:c.value;s?p(n)&&u(n,o):p(n)?n.includes(o)||n.push(o):t?(f[c]=[o],d(m,c)&&(m[c]=f[c])):(c.value=[o],e.k&&(f[e.k]=c.value))}else t?(f[c]=a,d(m,c)&&(m[c]=a)):n&&(c.value=a,e.k&&(f[e.k]=a))};a?(r.id=-1,li(r,i)):r()}}}const li=function(e,t){var n;t&&t.pendingBranch?p(e)?t.effects.push(...e):t.effects.push(e):(p(n=e)?It.push(...n):Ot&&Ot.includes(n,n.allowRecurse?Pt+1:Pt)||It.push(n),kt())};function ci(e){return function(e,t){F().__VUE__=!0;const{insert:s,remove:o,patchProp:a,createElement:l,createText:c,createComment:u,setText:h,setElementText:p,parentNode:f,nextSibling:m,setScopeId:g=r,insertStaticContent:v}=e,y=(e,t,n,i=null,r=null,s=null,o=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Si(e,t)&&(i=X(e),Z(e,r,s,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case pi:_(e,t,n,i);break;case fi:b(e,t,n,i);break;case mi:null==e&&E(t,n,i,o);break;case di:M(e,t,n,i,r,s,o,a,l);break;default:1&h?A(e,t,n,i,r,s,o,a,l):6&h?U(e,t,n,i,r,s,o,a,l):(64&h||128&h)&&c.process(e,t,n,i,r,s,o,a,l,te)}null!=u&&r&&ai(u,e&&e.ref,s,t||e,!t)},_=(e,t,n,i)=>{if(null==e)s(t.el=c(t.children),n,i);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},b=(e,t,n,i)=>{null==e?s(t.el=u(t.children||""),n,i):t.el=e.el},E=(e,t,n,i)=>{[e.el,e.anchor]=v(e.children,t,n,i,e.el,e.anchor)},T=({el:e,anchor:t},n,i)=>{let r;for(;e&&e!==t;)r=m(e),s(e,n,i),e=r;s(t,n,i)},S=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=m(e),o(e),e=n;o(t)},A=(e,t,n,i,r,s,o,a,l)=>{o=o||"svg"===t.type,null==e?I(t,n,i,r,s,o,a,l):N(e,t,r,s,o,a,l)},I=(e,t,n,i,r,o,c,u)=>{let h,d;const{type:f,props:m,shapeFlag:g,transition:v,dirs:y}=e;if(h=e.el=l(e.type,o,m&&m.is,m),8&g?p(h,e.children):16&g&&L(e.children,h,null,i,r,o&&"foreignObject"!==f,c,u),y&&nn(e,null,i,"created"),O(h,e,e.scopeId,c,i),m){for(const t in m)"value"===t||C(t)||a(h,t,null,m[t],o,e.children,i,r,Y);"value"in m&&a(h,"value",null,m.value),(d=m.onVnodeBeforeMount)&&Mi(d,i,e)}y&&nn(e,null,i,"beforeMount");const _=(!r||r&&!r.pendingBranch)&&v&&!v.persisted;_&&v.beforeEnter(h),s(h,t,n),((d=m&&m.onVnodeMounted)||_||y)&&li((()=>{d&&Mi(d,i,e),_&&v.enter(h),y&&nn(e,null,i,"mounted")}),r)},O=(e,t,n,i,r)=>{if(n&&g(e,n),i)for(let s=0;s<i.length;s++)g(e,i[s]);if(r){if(t===r.subTree){const t=r.vnode;O(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},L=(e,t,n,i,r,s,o,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?ki(e[c]):xi(e[c]);y(null,l,t,n,i,r,s,o,a)}},N=(e,t,i,r,s,o,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:h,dirs:d}=t;u|=16&e.patchFlag;const f=e.props||n,m=t.props||n;let g;i&&ui(i,!1),(g=m.onVnodeBeforeUpdate)&&Mi(g,i,t,e),d&&nn(t,e,i,"beforeUpdate"),i&&ui(i,!0);const v=s&&"foreignObject"!==t.type;if(h?x(e.dynamicChildren,h,c,i,r,v,o):l||B(e,t,c,null,i,r,v,o,!1),u>0){if(16&u)k(c,t,f,m,i,r,s);else if(2&u&&f.class!==m.class&&a(c,"class",null,m.class,s),4&u&&a(c,"style",f.style,m.style,s),8&u){const n=t.dynamicProps;for(let t=0;t<n.length;t++){const o=n[t],l=f[o],u=m[o];u===l&&"value"!==o||a(c,o,l,u,s,e.children,i,r,Y)}}1&u&&e.children!==t.children&&p(c,t.children)}else l||null!=h||k(c,t,f,m,i,r,s);((g=m.onVnodeUpdated)||d)&&li((()=>{g&&Mi(g,i,t,e),d&&nn(t,e,i,"updated")}),r)},x=(e,t,n,i,r,s,o)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===di||!Si(l,c)||70&l.shapeFlag)?f(l.el):n;y(l,c,u,null,i,r,s,o,!0)}},k=(e,t,i,r,s,o,l)=>{if(i!==r){if(i!==n)for(const n in i)C(n)||n in r||a(e,n,i[n],null,l,t.children,s,o,Y);for(const n in r){if(C(n))continue;const c=r[n],u=i[n];c!==u&&"value"!==n&&a(e,n,u,c,l,t.children,s,o,Y)}"value"in r&&a(e,"value",i.value,r.value)}},M=(e,t,n,i,r,o,a,l,u)=>{const h=t.el=e?e.el:c(""),d=t.anchor=e?e.anchor:c("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(s(h,n,i),s(d,n,i),L(t.children,n,d,r,o,a,l,u)):p>0&&64&p&&f&&e.dynamicChildren?(x(e.dynamicChildren,f,n,r,o,a,l),(null!=t.key||r&&t===r.subTree)&&hi(e,t,!0)):B(e,t,n,d,r,o,a,l,u)},U=(e,t,n,i,r,s,o,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?r.ctx.activate(t,n,i,o,l):$(t,n,i,r,s,o,l):V(e,t,l)},$=(e,t,i,r,s,o,a)=>{const l=e.component=function(e,t,i){const r=e.type,s=(t?t.appContext:e.appContext)||Ui,o={uid:$i++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new K(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Kn(r,s),emitsOptions:jt(r,s),emit:null,emitted:null,propsDefaults:n,inheritAttrs:r.inheritAttrs,ctx:n,data:n,props:n,attrs:n,slots:n,refs:n,setupState:n,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};o.ctx={_:o},o.root=t?t.root:o,o.emit=Vt.bind(null,o),e.ce&&e.ce(o);return o}(e,r,s);if(sn(e)&&(l.ctx.renderer=te),function(e,t=!1){Zi=t;const{props:n,children:i}=e.vnode,r=Hi(e);Wn(e,n,r,t),si(e,i);const s=r?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ct(new Proxy(e.ctx,In));const{setup:i}=n;if(i){const n=e.setupContext=i.length>1?function(e){const t=t=>{e.exposed=t||{}};return{get attrs(){return function(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get:(t,n)=>(de(e,0,"$attrs"),t[n])}))}(e)},slots:e.slots,emit:e.emit,expose:t}}(e):null;Bi(e),ue();const r=wt(i,e,0,[e.props,n]);if(he(),zi(),w(r)){if(r.then(zi,zi),t)return r.then((n=>{qi(e,n,t)})).catch((t=>{Et(t,e,0)}));e.asyncDep=r}else qi(e,r,t)}else Ki(e,t)}(e,t):void 0;Zi=!1}(l),l.asyncDep){if(s&&s.registerDep(l,j),!e.el){const e=l.subTree=Pi(fi);b(null,e,t,i)}}else j(l,e,t,i,s,o,a)},V=(e,t,n)=>{const i=t.component=e.component;if(function(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!r&&!a||a&&a.$stable)||i!==o&&(i?!o||Kt(i,o,c):!!o);if(1024&l)return!0;if(16&l)return i?Kt(i,o,c):!!o;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==i[n]&&!Gt(c,n))return!0}}return!1}(e,t,n)){if(i.asyncDep&&!i.asyncResolved)return void G(i,t,n);i.next=t,function(e){const t=At.indexOf(e);t>Ct&&At.splice(t,1)}(i.update),i.update()}else t.el=e.el,i.vnode=t},j=(e,t,n,i,r,s,o)=>{const a=()=>{if(e.isMounted){let t,{next:n,bu:i,u:a,parent:l,vnode:c}=e,u=n;ui(e,!1),n?(n.el=c.el,G(e,n,o)):n=c,i&&D(i),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Mi(t,l,n,c),ui(e,!0);const h=Wt(e),d=e.subTree;e.subTree=h,y(d,h,f(d.el),X(d),e,r,s),n.el=h.el,null===u&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,h.el),a&&li(a,r),(t=n.props&&n.props.onVnodeUpdated)&&li((()=>Mi(t,l,n,c)),r)}else{let o;const{el:a,props:l}=t,{bm:c,m:u,parent:h}=e,d=rn(t);if(ui(e,!1),c&&D(c),!d&&(o=l&&l.onVnodeBeforeMount)&&Mi(o,h,t),ui(e,!0),a&&ie){const n=()=>{e.subTree=Wt(e),ie(a,e.subTree,e,r,null)};d?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{const o=e.subTree=Wt(e);y(null,o,n,i,e,r,s),t.el=o.el}if(u&&li(u,r),!d&&(o=l&&l.onVnodeMounted)){const e=t;li((()=>Mi(o,h,e)),r)}(256&t.shapeFlag||h&&rn(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&li(e.a,r),e.isMounted=!0,t=n=i=null}},l=e.effect=new oe(a,(()=>xt(c)),e.scope),c=e.update=()=>l.run();c.id=e.uid,ui(e,!0),c()},G=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=e,a=lt(r),[l]=e.propsOptions;let c=!1;if(!(i||o>0)||16&o){let i;Zn(e,t,r,s)&&(c=!0);for(const s in a)t&&(d(t,s)||(i=R(s))!==s&&d(t,i))||(l?!n||void 0===n[s]&&void 0===n[i]||(r[s]=qn(l,a,s,void 0,e,!0)):delete r[s]);if(s!==a)for(const e in s)t&&d(t,e)||(delete s[e],c=!0)}else if(8&o){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let o=n[i];if(Gt(e.emitsOptions,o))continue;const u=t[o];if(l)if(d(s,o))u!==s[o]&&(s[o]=u,c=!0);else{const t=P(o);r[t]=qn(l,a,t,u,e,!1)}else u!==s[o]&&(s[o]=u,c=!0)}}c&&fe(e,"set","$attrs")}(e,t.props,i,n),oi(e,t.children,n),ue(),Dt(),he()},B=(e,t,n,i,r,s,o,a,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:d,shapeFlag:f}=t;if(d>0){if(128&d)return void H(c,h,n,i,r,s,o,a,l);if(256&d)return void z(c,h,n,i,r,s,o,a,l)}8&f?(16&u&&Y(c,r,s),h!==c&&p(n,h)):16&u?16&f?H(c,h,n,i,r,s,o,a,l):Y(c,r,s,!0):(8&u&&p(n,""),16&f&&L(h,n,i,r,s,o,a,l))},z=(e,t,n,r,s,o,a,l,c)=>{t=t||i;const u=(e=e||i).length,h=t.length,d=Math.min(u,h);let p;for(p=0;p<d;p++){const i=t[p]=c?ki(t[p]):xi(t[p]);y(e[p],i,n,null,s,o,a,l,c)}u>h?Y(e,s,o,!0,!1,d):L(t,n,r,s,o,a,l,c,d)},H=(e,t,n,r,s,o,a,l,c)=>{let u=0;const h=t.length;let d=e.length-1,p=h-1;for(;u<=d&&u<=p;){const i=e[u],r=t[u]=c?ki(t[u]):xi(t[u]);if(!Si(i,r))break;y(i,r,n,null,s,o,a,l,c),u++}for(;u<=d&&u<=p;){const i=e[d],r=t[p]=c?ki(t[p]):xi(t[p]);if(!Si(i,r))break;y(i,r,n,null,s,o,a,l,c),d--,p--}if(u>d){if(u<=p){const e=p+1,i=e<h?t[e].el:r;for(;u<=p;)y(null,t[u]=c?ki(t[u]):xi(t[u]),n,i,s,o,a,l,c),u++}}else if(u>p)for(;u<=d;)Z(e[u],s,o,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=p;u++){const e=t[u]=c?ki(t[u]):xi(t[u]);null!=e.key&&g.set(e.key,u)}let v,_=0;const w=p-m+1;let b=!1,E=0;const T=new Array(w);for(u=0;u<w;u++)T[u]=0;for(u=f;u<=d;u++){const i=e[u];if(_>=w){Z(i,s,o,!0);continue}let r;if(null!=i.key)r=g.get(i.key);else for(v=m;v<=p;v++)if(0===T[v-m]&&Si(i,t[v])){r=v;break}void 0===r?Z(i,s,o,!0):(T[r-m]=u+1,r>=E?E=r:b=!0,y(i,t[r],n,null,s,o,a,l,c),_++)}const S=b?function(e){const t=e.slice(),n=[0];let i,r,s,o,a;const l=e.length;for(i=0;i<l;i++){const l=e[i];if(0!==l){if(r=n[n.length-1],e[r]<l){t[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<l?s=a+1:o=a;l<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}s=n.length,o=n[s-1];for(;s-- >0;)n[s]=o,o=t[o];return n}(T):i;for(v=S.length-1,u=w-1;u>=0;u--){const e=m+u,i=t[e],d=e+1<h?t[e+1].el:r;0===T[u]?y(null,i,n,d,s,o,a,l,c):b&&(v<0||u!==S[v]?W(i,n,d,2):v--)}}},W=(e,t,n,i,r=null)=>{const{el:o,type:a,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void W(e.component.subTree,t,n,i);if(128&u)return void e.suspense.move(t,n,i);if(64&u)return void a.move(e,t,n,te);if(a===di){s(o,t,n);for(let e=0;e<c.length;e++)W(c[e],t,n,i);return void s(e.anchor,t,n)}if(a===mi)return void T(e,t,n);if(2!==i&&1&u&&l)if(0===i)l.beforeEnter(o),s(o,t,n),li((()=>l.enter(o)),r);else{const{leave:e,delayLeave:i,afterLeave:r}=l,a=()=>s(o,t,n),c=()=>{e(o,(()=>{a(),r&&r()}))};i?i(o,a,c):c()}else s(o,t,n)},Z=(e,t,n,i=!1,r=!1)=>{const{type:s,props:o,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=e;if(null!=a&&ai(a,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const p=1&u&&d,f=!rn(e);let m;if(f&&(m=o&&o.onVnodeBeforeUnmount)&&Mi(m,t,e),6&u)Q(e.component,n,i);else{if(128&u)return void e.suspense.unmount(n,i);p&&nn(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,r,te,i):c&&(s!==di||h>0&&64&h)?Y(c,t,n,!1,!0):(s===di&&384&h||!r&&16&u)&&Y(l,t,n),i&&q(e)}(f&&(m=o&&o.onVnodeUnmounted)||p)&&li((()=>{m&&Mi(m,t,e),p&&nn(e,null,t,"unmounted")}),n)},q=e=>{const{type:t,el:n,anchor:i,transition:r}=e;if(t===di)return void J(n,i);if(t===mi)return void S(e);const s=()=>{o(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:i}=r,o=()=>t(n,s);i?i(e.el,s,o):o()}else s()},J=(e,t)=>{let n;for(;e!==t;)n=m(e),o(e),e=n;o(t)},Q=(e,t,n)=>{const{bum:i,scope:r,update:s,subTree:o,um:a}=e;i&&D(i),r.stop(),s&&(s.active=!1,Z(o,e,t,n)),a&&li(a,t),li((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Y=(e,t,n,i=!1,r=!1,s=0)=>{for(let o=s;o<e.length;o++)Z(e[o],t,n,i,r)},X=e=>6&e.shapeFlag?X(e.component.subTree):128&e.shapeFlag?e.suspense.next():m(e.anchor||e.el),ee=(e,t,n)=>{null==e?t._vnode&&Z(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,n),Dt(),Mt(),t._vnode=e},te={p:y,um:Z,m:W,r:q,mt:$,mc:L,pc:B,pbc:x,n:X,o:e};let ne,ie;t&&([ne,ie]=t(te));return{render:ee,hydrate:ne,createApp:Bn(ee,ne)}}(e)}function ui({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function hi(e,t,n=!1){const i=e.children,r=t.children;if(p(i)&&p(r))for(let s=0;s<i.length;s++){const e=i[s];let t=r[s];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=r[s]=ki(r[s]),t.el=e.el),n||hi(e,t)),t.type===pi&&(t.el=e.el)}}const di=Symbol.for("v-fgt"),pi=Symbol.for("v-txt"),fi=Symbol.for("v-cmt"),mi=Symbol.for("v-stc"),gi=[];let vi=null;function yi(e=!1){gi.push(vi=e?null:[])}let _i=1;function wi(e){_i+=e}function bi(e){return e.dynamicChildren=_i>0?vi||i:null,gi.pop(),vi=gi[gi.length-1]||null,_i>0&&vi&&vi.push(e),e}function Ei(e,t,n,i,r,s){return bi(Oi(e,t,n,i,r,s,!0))}function Ti(e,t,n,i,r){return bi(Pi(e,t,n,i,r,!0))}function Si(e,t){return e.type===t.type&&e.key===t.key}const Ai="__vInternal",Ci=({key:e})=>null!=e?e:null,Ii=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?v(e)||ft(e)||g(e)?{i:Bt,r:e,k:t,f:!!n}:e:null);function Oi(e,t=null,n=null,i=0,r=null,s=(e===di?0:1),o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ci(t),ref:t&&Ii(t),scopeId:zt,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Bt};return a?(Di(l,n),128&s&&e.normalize(l)):n&&(l.shapeFlag|=v(n)?8:16),_i>0&&!o&&vi&&(l.patchFlag>0||6&s)&&32!==l.patchFlag&&vi.push(l),l}const Pi=function(e,t=null,n=null,i=0,r=null,s=!1){e&&e!==En||(e=fi);if(o=e,o&&!0===o.__v_isVNode){const i=Li(e,t,!0);return n&&Di(i,n),_i>0&&!s&&vi&&(6&i.shapeFlag?vi[vi.indexOf(e)]=i:vi.push(i)),i.patchFlag|=-2,i}var o;(function(e){return g(e)&&"__vccOpts"in e})(e)&&(e=e.__vccOpts);if(t){t=function(e){return e?at(e)||Ai in e?c({},e):e:null}(t);let{class:e,style:n}=t;e&&!v(e)&&(t.class=H(e)),_(n)&&(at(n)&&!p(n)&&(n=c({},n)),t.style=V(n))}const a=v(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:_(e)?4:g(e)?2:0;return Oi(e,t,n,i,r,a,s,!0)};function Li(e,t,n=!1){const{props:i,ref:r,patchFlag:s,children:o}=e,l=t?function(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=H([t.class,i.class]));else if("style"===e)t.style=V([t.style,i.style]);else if(a(e)){const n=t[e],r=i[e];!r||n===r||p(n)&&n.includes(r)||(t[e]=n?[].concat(n,r):r)}else""!==e&&(t[e]=i[e])}return t}(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Ci(l),ref:t&&t.ref?n&&r?p(r)?r.concat(Ii(t)):[r,Ii(t)]:Ii(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==di?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Li(e.ssContent),ssFallback:e.ssFallback&&Li(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ri(e=" ",t=0){return Pi(pi,null,e,t)}function Ni(e="",t=!1){return t?(yi(),Ti(fi,null,e)):Pi(fi,null,e)}function xi(e){return null==e||"boolean"==typeof e?Pi(fi):p(e)?Pi(di,null,e.slice()):"object"==typeof e?ki(e):Pi(pi,null,String(e))}function ki(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Li(e)}function Di(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if(p(t))n=16;else if("object"==typeof t){if(65&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),Di(e,n()),n._c&&(n._d=!0)))}{n=32;const i=t._;i||Ai in t?3===i&&Bt&&(1===Bt.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Bt}}else g(t)?(t={default:t,_ctx:Bt},n=32):(t=String(t),64&i?(n=16,t=[Ri(t)]):n=8);e.children=t,e.shapeFlag|=n}function Mi(e,t,n,i=null){bt(e,t,7,[n,i])}const Ui=jn();let $i=0;let Fi,Vi,ji=null,Gi="__VUE_INSTANCE_SETTERS__";(Vi=F()[Gi])||(Vi=F()[Gi]=[]),Vi.push((e=>ji=e)),Fi=e=>{Vi.length>1?Vi.forEach((t=>t(e))):Vi[0](e)};const Bi=e=>{Fi(e),e.scope.on()},zi=()=>{ji&&ji.scope.off(),Fi(null)};function Hi(e){return 4&e.vnode.shapeFlag}let Wi,Zi=!1;function qi(e,t,n){g(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:_(t)&&(e.setupState=yt(t)),Ki(e,n)}function Ki(e,t,n){const i=e.type;if(!e.render){if(!t&&Wi&&!i.render){const t=i.template||xn(e).template;if(t){const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:s,compilerOptions:o}=i,a=c(c({isCustomElement:n,delimiters:s},r),o);i.render=Wi(t,a)}}e.render=i.render||r}Bi(e),ue(),Ln(e),he(),zi()}function Ji(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(yt(ct(e.exposed)),{get:(t,n)=>n in t?t[n]:n in An?An[n](e):void 0,has:(e,t)=>t in e||t in An}))}const Qi=(e,t)=>function(e,t,n=!1){let i,s;const o=g(e);return o?(i=e,s=r):(i=e.get,s=e.set),new _t(i,s,o||!s,n)}(e,0,Zi),Yi=Symbol.for("v-scx"),Xi=()=>Hn(Yi),er="3.3.4",tr="undefined"!=typeof document?document:null,nr=tr&&tr.createElement("template"),ir={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?tr.createElementNS("http://www.w3.org/2000/svg",e):tr.createElement(e,n?{is:n}:void 0);return"select"===e&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:e=>tr.createTextNode(e),createComment:e=>tr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>tr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),r!==s&&(r=r.nextSibling););else{nr.innerHTML=i?`<svg>${e}</svg>`:e;const r=nr.content;if(i){const e=r.firstChild;for(;e.firstChild;)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};const rr=/\s*!important$/;function sr(e,t,n){if(p(n))n.forEach((n=>sr(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=function(e,t){const n=ar[t];if(n)return n;let i=P(t);if("filter"!==i&&i in e)return ar[t]=i;i=N(i);for(let r=0;r<or.length;r++){const n=or[r]+i;if(n in e)return ar[t]=n}return t}(e,t);rr.test(n)?e.setProperty(R(i),n.replace(rr,""),"important"):e[i]=n}}const or=["Webkit","Moz","ms"],ar={};const lr="http://www.w3.org/1999/xlink";function cr(e,t,n,i,r=null){const s=e._vei||(e._vei={}),o=s[t];if(i&&o)o.value=i;else{const[n,a]=function(e){let t;if(ur.test(e)){let n;for(t={};n=e.match(ur);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):R(e.slice(2));return[n,t]}(t);if(i){const o=s[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();bt(function(e,t){if(p(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=pr(),n}(i,r);!function(e,t,n,i){e.addEventListener(t,n,i)}(e,n,o,a)}else o&&(!function(e,t,n,i){e.removeEventListener(t,n,i)}(e,n,o,a),s[t]=void 0)}}const ur=/(?:Once|Passive|Capture)$/;let hr=0;const dr=Promise.resolve(),pr=()=>hr||(dr.then((()=>hr=0)),hr=Date.now());const fr=/^on[a-z]/;const mr=c({patchProp:(e,t,n,i,r=!1,s,o,c,u)=>{"class"===t?function(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,i,r):"style"===t?function(e,t,n){const i=e.style,r=v(n);if(n&&!r){if(t&&!v(t))for(const e in t)null==n[e]&&sr(i,e,"");for(const e in n)sr(i,e,n[e])}else{const s=i.display;r?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=s)}}(e,n,i):a(t)?l(t)||cr(e,t,0,i,o):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,i){if(i)return"innerHTML"===t||"textContent"===t||!!(t in e&&fr.test(t)&&g(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(fr.test(t)&&v(n))return!1;return t in e}(e,t,i,r))?function(e,t,n,i,r,s,o){if("innerHTML"===t||"textContent"===t)return i&&o(i,r,s),void(e[t]=null==n?"":n);const a=e.tagName;if("value"===t&&"PROGRESS"!==a&&!a.includes("-")){e._value=n;const i=null==n?"":n;return("OPTION"===a?e.getAttribute("value"):e.value)!==i&&(e.value=i),void(null==n&&e.removeAttribute(t))}let l=!1;if(""===n||null==n){const i=typeof e[t];"boolean"===i?n=Z(n):null==n&&"string"===i?(n="",l=!0):"number"===i&&(n=0,l=!0)}try{e[t]=n}catch(c){}l&&e.removeAttribute(t)}(e,t,i,s,o,c,u):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),function(e,t,n,i,r){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(lr,t.slice(6,t.length)):e.setAttributeNS(lr,t,n);else{const i=W(t);null==n||i&&!Z(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}(e,t,i,r))}},ir);let gr;const vr=(...e)=>{const t=(gr||(gr=ci(mr))).createApp(...e),{mount:n}=t;return t.mount=e=>{const i=function(e){if(v(e)){return document.querySelector(e)}return e}(e);if(!i)return;const r=t._component;g(r)||r.render||r.template||(r.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function yr(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}}const _r="function"==typeof Proxy,wr="devtools-plugin:setup";let br,Er;function Tr(){return void 0!==br||("undefined"!=typeof window&&window.performance?(br=!0,Er=window.performance):"undefined"!=typeof global&&(null===(e=global.perf_hooks)||void 0===e?void 0:e.performance)?(br=!0,Er=global.perf_hooks.performance):br=!1),br?Er.now():Date.now();var e}class Sr{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const o in e.settings){const t=e.settings[o];n[o]=t.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let r=Object.assign({},n);try{const e=localStorage.getItem(i),t=JSON.parse(e);Object.assign(r,t)}catch(s){}this.fallbacks={getSettings:()=>r,setSettings(e){try{localStorage.setItem(i,JSON.stringify(e))}catch(s){}r=e},now:()=>Tr()},t&&t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function Ar(e,t){const n=e,i=yr(),r=yr().__VUE_DEVTOOLS_GLOBAL_HOOK__,s=_r&&n.enableEarlyProxy;if(!r||!i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&s){const e=s?new Sr(n,r):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else r.emit(wr,e,t)}
/*!
   * vuex v4.0.2
   * (c) 2021 Evan You
   * @license MIT
   */var Cr="store";function Ir(e){return void 0===e&&(e=null),Hn(null!==e?e:Cr)}function Or(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function Pr(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function Lr(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Nr(e,n,[],e._modules.root,!0),Rr(e,n,t)}function Rr(e,t,n){var i=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var r=e._wrappedGetters,s={};Or(r,(function(t,n){s[n]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,n,{get:function(){return s[n]()},enumerable:!0})})),e._state=tt({data:t}),e.strict&&function(e){Qt((function(){return e._state.data}),(function(){}),{deep:!0,flush:"sync"})}(e),i&&n&&e._withCommit((function(){i.data=null}))}function Nr(e,t,n,i,r){var s=!n.length,o=e._modules.getNamespace(n);if(i.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=i),!s&&!r){var a=kr(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit((function(){a[l]=i.state}))}var c=i.context=function(e,t,n){var i=""===t,r={dispatch:i?e.dispatch:function(n,i,r){var s=Dr(n,i,r),o=s.payload,a=s.options,l=s.type;return a&&a.root||(l=t+l),e.dispatch(l,o)},commit:i?e.commit:function(n,i,r){var s=Dr(n,i,r),o=s.payload,a=s.options,l=s.type;a&&a.root||(l=t+l),e.commit(l,o,a)}};return Object.defineProperties(r,{getters:{get:i?function(){return e.getters}:function(){return xr(e,t)}},state:{get:function(){return kr(e.state,n)}}}),r}(e,o,n);i.forEachMutation((function(t,n){!function(e,t,n,i){var r=e._mutations[t]||(e._mutations[t]=[]);r.push((function(t){n.call(e,i.state,t)}))}(e,o+n,t,c)})),i.forEachAction((function(t,n){var i=t.root?n:o+n,r=t.handler||t;!function(e,t,n,i){var r=e._actions[t]||(e._actions[t]=[]);r.push((function(t){var r,s=n.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},t);return(r=s)&&"function"==typeof r.then||(s=Promise.resolve(s)),e._devtoolHook?s.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):s}))}(e,i,r,c)})),i.forEachGetter((function(t,n){!function(e,t,n,i){if(e._wrappedGetters[t])return;e._wrappedGetters[t]=function(e){return n(i.state,i.getters,e.state,e.getters)}}(e,o+n,t,c)})),i.forEachChild((function(i,s){Nr(e,t,n.concat(s),i,r)}))}function xr(e,t){if(!e._makeLocalGettersCache[t]){var n={},i=t.length;Object.keys(e.getters).forEach((function(r){if(r.slice(0,i)===t){var s=r.slice(i);Object.defineProperty(n,s,{get:function(){return e.getters[r]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function kr(e,t){return t.reduce((function(e,t){return e[t]}),e)}function Dr(e,t,n){var i;return null!==(i=e)&&"object"==typeof i&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var Mr="vuex:mutations",Ur="vuex:actions",$r="vuex",Fr=0;function Vr(e,t){Ar({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:["vuex bindings"]},(function(n){n.addTimelineLayer({id:Mr,label:"Vuex Mutations",color:jr}),n.addTimelineLayer({id:Ur,label:"Vuex Actions",color:jr}),n.addInspector({id:$r,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===$r)if(n.filter){var i=[];Hr(i,t._modules.root,n.filter,""),n.rootNodes=i}else n.rootNodes=[zr(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===$r){var i=n.nodeId;xr(t,i),n.state=function(e,t,n){t="root"===n?t:t[n];var i=Object.keys(t),r={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(i.length){var s=function(e){var t={};return Object.keys(e).forEach((function(n){var i=n.split("/");if(i.length>1){var r=t,s=i.pop();i.forEach((function(e){r[e]||(r[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),r=r[e]._custom.value})),r[s]=Wr((function(){return e[n]}))}else t[n]=Wr((function(){return e[n]}))})),t}(t);r.getters=Object.keys(s).map((function(e){return{key:e.endsWith("/")?Br(e):e,editable:!1,value:Wr((function(){return s[e]}))}}))}return r}((r=t._modules,(o=(s=i).split("/").filter((function(e){return e}))).reduce((function(e,t,n){var i=e[t];if(!i)throw new Error('Missing module "'+t+'" for path "'+s+'".');return n===o.length-1?i:i._children}),"root"===s?r:r.root._children)),"root"===i?t.getters:t._makeLocalGettersCache,i)}var r,s,o})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===$r){var i=n.nodeId,r=n.path;"root"!==i&&(r=i.split("/").filter(Boolean).concat(r)),t._withCommit((function(){n.set(t._state.data,r,n.state.value)}))}})),t.subscribe((function(e,t){var i={};e.payload&&(i.payload=e.payload),i.state=t,n.notifyComponentUpdate(),n.sendInspectorTree($r),n.sendInspectorState($r),n.addTimelineEvent({layerId:Mr,event:{time:Date.now(),title:e.type,data:i}})})),t.subscribeAction({before:function(e,t){var i={};e.payload&&(i.payload=e.payload),e._id=Fr++,e._time=Date.now(),i.state=t,n.addTimelineEvent({layerId:Ur,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:i}})},after:function(e,t){var i={},r=Date.now()-e._time;i.duration={_custom:{type:"duration",display:r+"ms",tooltip:"Action duration",value:r}},e.payload&&(i.payload=e.payload),i.state=t,n.addTimelineEvent({layerId:Ur,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:i}})}})}))}var jr=8702998,Gr={label:"namespaced",textColor:16777215,backgroundColor:6710886};function Br(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function zr(e,t){return{id:t||"root",label:Br(t),tags:e.namespaced?[Gr]:[],children:Object.keys(e._children).map((function(n){return zr(e._children[n],t+n+"/")}))}}function Hr(e,t,n,i){i.includes(n)&&e.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:t.namespaced?[Gr]:[]}),Object.keys(t._children).forEach((function(r){Hr(e,t._children[r],n,i+r+"/")}))}function Wr(e){try{return e()}catch(t){return t}}var Zr=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},qr={namespaced:{configurable:!0}};qr.namespaced.get=function(){return!!this._rawModule.namespaced},Zr.prototype.addChild=function(e,t){this._children[e]=t},Zr.prototype.removeChild=function(e){delete this._children[e]},Zr.prototype.getChild=function(e){return this._children[e]},Zr.prototype.hasChild=function(e){return e in this._children},Zr.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},Zr.prototype.forEachChild=function(e){Or(this._children,e)},Zr.prototype.forEachGetter=function(e){this._rawModule.getters&&Or(this._rawModule.getters,e)},Zr.prototype.forEachAction=function(e){this._rawModule.actions&&Or(this._rawModule.actions,e)},Zr.prototype.forEachMutation=function(e){this._rawModule.mutations&&Or(this._rawModule.mutations,e)},Object.defineProperties(Zr.prototype,qr);var Kr=function(e){this.register([],e,!1)};function Jr(e,t,n){if(t.update(n),n.modules)for(var i in n.modules){if(!t.getChild(i))return;Jr(e.concat(i),t.getChild(i),n.modules[i])}}Kr.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},Kr.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},Kr.prototype.update=function(e){Jr([],this.root,e)},Kr.prototype.register=function(e,t,n){var i=this;void 0===n&&(n=!0);var r=new Zr(t,n);0===e.length?this.root=r:this.get(e.slice(0,-1)).addChild(e[e.length-1],r);t.modules&&Or(t.modules,(function(t,r){i.register(e.concat(r),t,n)}))},Kr.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],i=t.getChild(n);i&&i.runtime&&t.removeChild(n)},Kr.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var Qr=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var i=e.strict;void 0===i&&(i=!1);var r=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Kr(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=r;var s=this,o=this.dispatch,a=this.commit;this.dispatch=function(e,t){return o.call(s,e,t)},this.commit=function(e,t,n){return a.call(s,e,t,n)},this.strict=i;var l=this._modules.root.state;Nr(this,l,[],this._modules.root),Rr(this,l),n.forEach((function(e){return e(t)}))},Yr={state:{configurable:!0}};Qr.prototype.install=function(e,t){e.provide(t||Cr,this),e.config.globalProperties.$store=this,void 0!==this._devtools&&this._devtools&&Vr(e,this)},Yr.state.get=function(){return this._state.data},Yr.state.set=function(e){},Qr.prototype.commit=function(e,t,n){var i=this,r=Dr(e,t,n),s=r.type,o=r.payload,a={type:s,payload:o},l=this._mutations[s];l&&(this._withCommit((function(){l.forEach((function(e){e(o)}))})),this._subscribers.slice().forEach((function(e){return e(a,i.state)})))},Qr.prototype.dispatch=function(e,t){var n=this,i=Dr(e,t),r=i.type,s=i.payload,o={type:r,payload:s},a=this._actions[r];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(o,n.state)}))}catch(c){}var l=a.length>1?Promise.all(a.map((function(e){return e(s)}))):a[0](s);return new Promise((function(e,t){l.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(o,n.state)}))}catch(c){}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(o,n.state,e)}))}catch(c){}t(e)}))}))}},Qr.prototype.subscribe=function(e,t){return Pr(e,this._subscribers,t)},Qr.prototype.subscribeAction=function(e,t){return Pr("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},Qr.prototype.watch=function(e,t,n){var i=this;return Qt((function(){return e(i.state,i.getters)}),t,Object.assign({},n))},Qr.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},Qr.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),Nr(this,this.state,e,this._modules.get(e),n.preserveState),Rr(this,this.state)},Qr.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){delete kr(t.state,e.slice(0,-1))[e[e.length-1]]})),Lr(this)},Qr.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},Qr.prototype.hotUpdate=function(e){this._modules.update(e),Lr(this,!0)},Qr.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(Qr.prototype,Yr);const Xr={shareType:{single:"single",multiple:"multiple"},revenueType:{pageLoad:{value:"pageLoad",pieces:3,priority:2,isForce:!0},pr:{value:"pr",pieces:1,priority:1,isForce:!0},cpd:{value:"cpd",pieces:3,priority:3,isForce:!1},relative:{value:"relative",priority:4,isForce:!1},cpm:{value:"cpm",priority:5,isForce:!1},pb:{value:"pb",priority:6,isForce:!1,isBackup:!0},default:{value:"default",priority:7,isForce:!1,isBackup:!0}},bannerCondition:{type:{channel:["channel"].map((e=>e.toLocaleLowerCase())),variable:["variable","globalVariable"].map((e=>e.toLocaleLowerCase())),pageUrl:["pageUrl","Site Page-URL","url"].map((e=>e.toLocaleLowerCase())),referringPage:["referringPage","Site - Referring Page"].map((e=>e.toLocaleLowerCase())),category:["category"].map((e=>e.toLocaleLowerCase()))}}};function es(e,t,n){const i=`${e}`.toLowerCase(),r=`${t}`.toLowerCase();return-1!==i.indexOf(r,n)}function ts(e){let t=e.replace(/.*\/([gimuy]*)$/,"$1");t===e&&(t="");const n=t?e.replace(new RegExp(`^/(.*?)/${t}$`),"$1"):e;try{return new RegExp(n,t)}catch(i){return null}}class ns{constructor(e,t){this.comparison=e,this.valueCompare=t}isPassVariable(e){let t;return t=isNaN(e)&&null!=e?decodeURIComponent(`${e}`):e,this.checking(t)}isPassUrl(e){const t=decodeURIComponent(e);return this.checking(t)}checking(e){switch(this.comparison){case">":return e>this.valueCompare;case">=":return e>=this.valueCompare;case"<":return e<this.valueCompare;case"<=":return e<=this.valueCompare;case"==":return e==this.valueCompare;case"!=":return e!=this.valueCompare;case"=~":return es(e,this.valueCompare,0);case"!~":return!es(e,this.valueCompare,0);case"=x":return ts(this.valueCompare).test(e);case"!x":return!ts(this.valueCompare).test(e);default:return!1}}}function is(e){const t=document.URL,n=document.referrer;let i="pageUrl"===e?t.replace(/\?i=([0-9]+)&bz=([0-9]+)&z=([0-9]+)#([0-9_0-9]+)/g,""):n.replace(/\?i=([0-9]+)&bz=([0-9]+)&z=([0-9]+)#([0-9_0-9]+)/g,"");const r=i.match(/([^|]+)/i);return r&&(i=`${r[0]}`),i.toLowerCase()}class rs{now(){return(new Date).getTime()}Value(e){try{return new Date(e)}catch(t){return 0}}}function ss(e,t){const n=new rs,i=!e||n.Value(e)<=n.now(),r=!t||n.Value(t)>=n.now();return i&&r}class os{constructor(e){this.id=e.id,this.type=e.type,this.value=e.value,this.logical=e.logical,this.comparison=e.comparison,this.optionBannerChannels=e.optionBannerChannels,this.startTime=e.startTime,this.endTime=e.endTime,this.isUrlPattern=e.isUrlPattern}}function as(e,t){const n=window[e];return null!=n?n:t?t.variables?t.variables[e]:null:Ua.state.ENV.variables?Ua.state.ENV.variables[e]:null}class ls extends os{constructor(e,t,n){super(e),this.env=t,this.defaultLogical=n,this.url=t?t.url:null,this.referrerUrl=t?t.referrerUrl:null,this.name=e.name,this.globalVariables=e.globalVariables,this.optionChannelType=e.optionChannelType,this.logicalSelect=e.logicalSelect}getType(){return this.isChannel?Xr.bannerCondition.type.channel:this.isVariable?Xr.bannerCondition.type.variable:this.isUrl?Xr.bannerCondition.type.pageUrl:this.isReffererUrl?Xr.bannerCondition.type.referringPage:null}get isChannel(){return this.type&&-1!==Xr.bannerCondition.type.channel.indexOf(this.type.toLowerCase())}get isVariable(){return this.optionChannelType?!0===this.optionChannelType.isVariable||this.optionChannelType.isMultiSelect&&this.optionChannelType.isGlobal:this.type&&-1!==Xr.bannerCondition.type.variable.indexOf(this.type.toLowerCase())}get isUrl(){return this.optionChannelType?!0===this.optionChannelType.isInputLink&&-1!==Xr.bannerCondition.type.pageUrl.indexOf(this.optionChannelType.name.toLowerCase()):this.type&&-1!==Xr.bannerCondition.type.pageUrl.indexOf(this.type.toLowerCase())}get isReffererUrl(){return this.optionChannelType?!0===this.optionChannelType.isInputLink&&-1!==Xr.bannerCondition.type.referringPage.indexOf(this.optionChannelType.name.toLowerCase()):this.type&&-1!==Xr.bannerCondition.type.referringPage.indexOf(this.type.toLowerCase())}get getGlobalVariables(){return this.globalVariables?this.globalVariables.split(","):[]}get isNegativeForVariable(){return!(!this.logicalSelect||!this.comparison||"!="!==this.comparison)}get getComparison(){return this.logicalSelect?this.logicalSelect.split(","):[this.comparison]}get getValues(){return this.value?this.value.split(","):this.value}get isAvailable(){return ss(this.startTime,this.endTime)}getLogicalExpression(){return this.logical?"and"===this.logical?"&&":"||":this.defaultLogical}getGlobalVariableValue(e){if(e){const t=as(e,this.env);return null!=t?decodeURIComponent(t.toString()):void 0}}getPageUrl(){return this.url||is("pageUrl")}getReferrerUrl(){return this.referrerUrl||is()}pageUrl(e,t,n){if(!this.isAvailable)return!0;const i=e||this.getPageUrl();return new ns(t,n).isPassUrl(i)}multiPageUrl(e){const t=e||this.getPageUrl(),n=this.getValues,i=this.getComparison[0];let r=!1;for(let s=0;s<n.length;s+=1)r=s>0&&r||this.pageUrl(t,i,n[s]);return r}referringPage(e,t,n){if(!this.isAvailable)return!0;const i=e||this.getReferrerUrl();return new ns(t,n).isPassUrl(i)}multiReferringPage(e){const t=e||this.getReferrerUrl(),n=this.getValues,i=this.getComparison[0];let r=!1;for(let s=0;s<n.length;s+=1)r=s>0&&r||this.referringPage(t,i,n[s]);return r}variable(e,t,n){if(!this.isAvailable)return!0;let i,r;return isNaN(n)||isNaN(e)?(r=n,i=e):(r=parseFloat(n),i=parseFloat(e)),"undefined"===r&&(r=void 0),new ns(t,r).isPassVariable(i)}multiVariable(){const e=this.getGlobalVariables;let t=!1;for(let n=0;n<e.length;n+=1){const i=e[n],r=this.getGlobalVariableValue(i),s=this.getComparison[n],o=this.getValues[n];t=n>0&&t||this.variable(r,s,o)}return this.isNegativeForVariable&&(t=!t),t}category(){if(!this.isAvailable)return!0;const e=this.getValues;let t=!1;for(let n=0;n<e.length;n+=1)t=n>0&&t||!0;return t}}class cs extends os{constructor(e,t){super(e),this.env=t}listConditions(){try{return this.optionBannerChannels.map((e=>e.channel.optionChannels.map((e=>e instanceof ls?e:new ls(e,this.env)))))}catch(e){return[]}}isPass(){let e=!1;const t=this.listConditions();for(let n=0;n<t.length;n+=1){const i=t[n];e=e||this.isPassOptionBannerChannel(i)}return e}isPassOptionBannerChannel(e){const t=e;if(!t)return!0;if(t.length>0){let e=!0;for(let n=0;n<t.length;n+=1){let i=!0;const r=t[n];i=r.getType()===Xr.bannerCondition.type.pageUrl?r.multiPageUrl():r.getType()===Xr.bannerCondition.type.referringPage?r.multiReferringPage():r.getType()!==Xr.bannerCondition.type.variable||r.multiVariable(),n>0?e+=r.getLogicalExpression()+i:e=i}return window.eval(e)}return!0}}class us extends os{constructor(e,t,n){let i;super(e),this.defaultLogical=n;const r=new ls(e,t,this.defaultLogical);window.ArfChannel=window.ArfChannel||{},r.getType()===Xr.bannerCondition.type.channel?(i=new cs(e,t).isPass(),"!="===this.comparison&&(i=!i),Ua.commit("PUSH_OPTION_CHANNEL_FILTER",{id:e.id,isPass:i})):i=r.getType()===Xr.bannerCondition.type.pageUrl?r.multiPageUrl():r.getType()===Xr.bannerCondition.type.referringPage?r.multiReferringPage():r.getType()!==Xr.bannerCondition.type.variable||r.multiVariable(),this.isPass=i,this.logical=r.getLogicalExpression()}}class hs{constructor(e,t,n){this.optionBanners=e,this.defaultLogical=n,this.env=t}get isPass(){try{let e;if(this.optionBanners&&this.optionBanners.length>0){let t;for(let e=0;e<this.optionBanners.length;e+=1){const n=new us(this.optionBanners[e],this.env,this.defaultLogical);e>0?t+=n.logical+n.isPass:t=n.isPass,this.optionBanners[e].isPass=n.isPass}e=window.eval(t)}else e=!0;return e}catch(e){return!1}}}const ds=["_ADM_Channel"];function ps(){for(let e=0;e<ds.length;e+=1){const t=ds[e];if(window[t])return"undefined"==window[t]?null:window[t]}return null}const fs="day",ms="year";function gs(e){const{value:t}=e,n=e.unit;return t||n}const vs={pageLoad:{name:"_pls"},trackLoad:{name:"_tilo",expire:gs({value:30,unit:"minute"})},frequency:{name:"_frq",expire:gs({value:10,unit:fs})},uid:{name:"_uidcms",expire:gs({value:5,unit:ms})}};class ys{constructor(e,t,n,i,r){this.placements=e||[],this.shareId=t||"",this.structure=n||[],this.pageLoadId=i||"",this.cpmFlag=r||!1}}class _s{constructor(e,t){this.turns=e.turns||[],this.nextTurn=e.nextTurn||new ys,this.totalShare=e.totalShare||3,this.turnsLeft=e.turnsLeft||this.totalShare,this.totalPageload=t||3,this.isPageLoad=e.isPageLoad||!0,this.banners=e.banners||[],e.turnsLeft<=0&&(this.turnsLeft=this.totalShare,this.isPageLoad&&(this.turns=[])),this.turns.length>=this.getLowestCommonMultiple()&&(this.turns=[])}addTurn(e){const t=e instanceof ys?e:new ys(e);this.turns.push(t)}getLowestCommonMultiple(){const e=(()=>{let e=Math.abs(this.totalShare),t=Math.abs(this.totalPageload);if(0===e||0===t)return e+t;for(;e!==t;)e>t?e-=t:t-=e;return e})();return Math.abs(this.totalShare)*Math.abs(this.totalPageload)/e}countTurnsLeft(e){return this.turnsLeft=null!=e?e:this.turnsLeft,this.turnsLeft-=1,this.turnsLeft}}function ws(e){const t=function(e){const t=document.URL,n=document.referrer;let i="pageUrl"===e?t.replace(/\?i=([0-9]+)&bz=([0-9]+)&z=([0-9]+)#([0-9_0-9]+)/g,""):n.replace(/\?i=([0-9]+)&bz=([0-9]+)&z=([0-9]+)#([0-9_0-9]+)/g,"");const r=i.match(/([^|]+)/i);return r&&(i=`${r[0]}`),i.toLowerCase()}(e);return t}class bs{constructor(){this.timestamp="timestamp_",this.storage=function(){try{return window.localStorage||window.sessionStorage}catch(e){return null}}()}getExpires(e,t,n,i){if(!this.storage)return null;const r=`${e}`,s=r.indexOf(t,n),o=r.length-1;if(-1!==s){let e=r.indexOf(i,s);return-1===e&&(e=o),r.substring(s,e)}return""}setItem(e,t,n){if(!this.storage)return;let i="";let r=(new Date).getTime();const s=this.timestamp;r+=0===n||""===n?864e5:6*n*1e4,i="_azs"===e?";":",";const o=this.getExpires(t,s,0,i);let a=t;""===o?a+=s+r.toString()+i:a=t.replace(o,s+r.toString()),this.storage.setItem(e,a)}getItem(e,t){if(!this.storage)return null;let n=this.storage.getItem(e),i="";const r=(new Date).getTime(),s=this.timestamp;if(""===n||null===n)return"";i="_azs"===e?";":",";let o=this.getExpires(n,s,0,i);return o=o.replace(s,""),""===o||isNaN(parseInt(o,10))||parseInt(o,10)<r?"":(void 0!==t&&(n=n.replace(s+o+i,"")),n)}removeItem(e){this.storage&&this.storage.removeItem(e)}flush(){this.storage&&this.storage.clear()}}const Es="a25qbmtjY2g=";function Ts(e){return decodeURIComponent(atob(e).split("").map((e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`)).join(""))}function Ss(e,t){let n="",i="";i=e.toString();for(let r=0;r<i.length;r+=1){const e=i.charCodeAt(r)^t;n+=String.fromCharCode(e)}return n}function As(e,t,n){return function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode(`0x${t}`))))}(Ss(e,t&&n?Ss(Ts(t),n):Ss(Ts(Es),90)))}const Cs="7Ziv7Zir7Ziq7Zit7Zis";function Is(e){return t=Cs,n=54814,Ss(Ts(e),t&&n?Ss(Ts(t),n):Ss(Ts(Es),90));var t,n}class Os{constructor(){void 0===window.checkLocalStorage&&(window.checkLocalStorage=function(){try{window.localStorage.setItem("_arfStorage",""),window.localStorage.removeItem("_arfStorage")}catch(e){return!1}return!0}()),void 0===window.checkSessionStorage&&(window.checkSessionStorage=function(){try{window.sessionStorage.setItem("_arfStorage",""),window.sessionStorage.removeItem("_arfStorage")}catch(e){return!1}return!0}()),this.isEncrypt=!0,this.localStorage=new bs}setStorage(e,t,n,i,r,s){!this.isEncrypt||"__R"===e&&"__RC"===e||(t=As(t,Cs,54814)),window.checkLocalStorage?(this.localStorage.setItem(e,t,n),"__R"!==e&&"__RC"!==e||this.setCookie(e,t,n,i,r,s)):this.setCookie(e,t,n,i,r,s)}getStorage(e){let t;if(window.checkLocalStorage){if("__R"===e||"__RC"===e)return this.getCookie(e);t=this.localStorage.getItem(e)}else t=this.getCookie(e);return t=t.replace(/([,;]|)+(timestamp)\w+([,;])/g,""),t=this.isEncrypt?Is(t):t,t}setCookie(e,t,n,i,r,s){const o=""===i?"/":i;let a=n;a=0===n||""===n?new Date(+new Date+864e5).toGMTString():new Date(+new Date+6e4*n).toGMTString();const l=[`${e}=${decodeURIComponent(t)}`],c={expires:a,path:o,domain:r};return Object.keys(c).map((function(e){l.push(`${e}=${c[e]}`)})),s&&l.push("secure"),document.cookie=l.join(";"),!0}getCookie(e){if(document.cookie.length>0){let t=document.cookie.indexOf(`${e}=`);if(-1!==t){t=t+e.length+1;let n=document.cookie.indexOf(";",t);return-1===n&&(n=document.cookie.length),decodeURIComponent(document.cookie.substring(t,n))}}return""}subCookie(e,t,n){const i=e.indexOf(t,n),r=e.length-1;if(-1!==i){let t=e.indexOf(";",i);return-1===t&&(t=r),e.substring(i,t)}return""}}const Ps=["abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789._-/","abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789._"],Ls="https?://[^/]*|//[^/]*";function Rs(e,t,n,i){t=t||0,i=i||Math.floor(Math.random()*(Ps[t].length-1-1)+1);const r=["fbook","googl","fcbok","gogle"],s=e.match(new RegExp(Ls))?e.match(new RegExp(Ls))[0]:"",o=Ps[t].length;let a="";s&&(e=e.replace(`${s}/`,""));let l="";if(e.indexOf("?")>0){const t=e.split("?");e=t[0],l=`?${t[1]}`}1===t&&(e=r[0]+e);for(let h=0;h<e.length;h+=1){const n=Ps[t].indexOf(e.charAt(h));a+=n+i<o&&n>=0?Ps[t][n+i]:n<0?e.charAt(h):Ps[t][n+i-o]}let c=`${n?`https://${n}/`:""}0${Ps[t].charAt(i)}${a}?v=1`;1===t&&(c=`${n?`https://${n}/`:""}0${Ps[t].charAt(i)}${a}${l}`);try{Ua&&Ua.commit("PUSH_ENCRYPTED_URL",{str:e,encrypt:c})}catch(u){}return c}function Ns(e,t,n){if(t=t||0,!e)return e;let i=e.match(new RegExp(Ls))?e.match(new RegExp(Ls))[0]:"",r=i?e.replace(`${i}/`,""):e;if("0"!=r.charAt(0))return e;let s="";if(r.indexOf("?")>0){const e=r.split("?");r=e[0],s=`?${e[1]}`}const o=r,a=o.charAt(1),l=Ps[t].indexOf(a);let c="";const u=Ps[t].length;for(let h=2;h<o.length;h+=1){const e=Ps[t].indexOf(o.charAt(h)),n=e<0?o.charAt(h):"",i=Ps[t].charAt(e-l)||Ps[t].charAt(u-l+e);c+=n||i}return n&&(i=`https://${n}`),1===t&&c.match(/\bfbook|googl|fcbok|gogle/)?(i?`${i}/`:"")+c.replace(/fbook|googl|fcbok|gogle/,"")+s:(i?`${i}/`:"")+c+s}const xs=document.currentScript?document.currentScript.src:"",ks=window.ADMStorageFileCDN;function Ds(e){return xs?xs.indexOf("nanda")>=0||xs.indexOf("media1")>=0:!e||(e.indexOf("nanda")>=0||e.indexOf("media1")>=0)}const Ms=Ds();function Us(e){return xs&&!Ms?Rs(e):e}const $s={url:ks?`//${ks.logging}`:Ns("0HO00WZ:GGSNuDSVNNPUNDHKTPJYVD2U")},Fs=["068-ae2l/klnn28ge","0379nbZ/7gc.TQZ5db"],Vs=[Rs(xs.split("/")[2]).replace("?v=1","")||"0GSKJOGtCGJSOIXUC1T","0GSKJOGtCGJSOIXUC1T"];function js(){return Ms?"0GSKJOGtCGJSOIXUC1T":Ms||"object"==typeof ks?"object"==typeof ks&&ks.coreEncrypt?ks.coreEncrypt:Vs[Vs.length-1]:Vs[0]}const Gs={url:`//${Ns(js())}/`,urlNoSlash:`${Ns(js())}`,arf:Us("cms/Arf.min.js"),admcorearf:Us("core/admcorearf.js"),commons:Ms?null:"https://nhl.formalhood.com/tf/commons.min.js",mb_core:Us("core/mb_core.js"),bantrackingmb:Us("core/bantrackingmb.js"),bantracking:Us("core/bantracking.js"),lozad:"https://static.mediacdn.vn/common/js/lozad.min.js"},Bs={domainCore:Gs,domainLog:$s,currentScript:xs,staticDomain:Fs,ADMStorageFileCDN:ks,domainList:Vs,isNotDynamicLoad:Ds},zs={zonesDisable:{name:"_ArfListZoneDisable"},zoneHidden:{name:"_ADM_ZONE_HIDE"},gifVideoNotAllowedSite:["tuoitre.vn","thanhnien.vn"]},Hs={admGroupPage:"_ADM_Group_page"},Ws={AdsType:Xr,cookieConfig:vs,loggingConfig:{url:$s.url,zone:{path:"advbcms",param:{dmn:"dmn",zid:"zid",pgid:"pgid",uid:"uid",ui:"ui",cr:"cr",lc:"lc"}},banner:{path:"cpx_cms",param:{dmn:"dmn",zid:"zid",pli:"pli",cmpg:"cmpg",items:"items",cat:"cat",cov:"cov",pgid:"pgid",uid:"uid",re:"re",lc:"lc"}}},rotateConfig:{share:{default:3e4,minimum:1e4},placement:{default:2e4,minimum:5e3}},roundingError:.2,siteConfig:zs,domain:Bs,variables:Hs};class Zs{constructor(e){this.set=e}setChecking(){return this.set.length>0}baseOnWeight(e){if(!this.setChecking())return null;const t=100*Math.random(),n=this.set.reduce(((t,n)=>n.weightValue(e)+t),0)/100;if(!n)return this.random();return this.set.reduce(((i,r)=>{const s=i+r.weightValue(e)/n;return"object"==typeof i?i:t>=i&&t<s?r:s}),0)}baseOnField(e){if(!this.setChecking())return null;const t=100*Math.random(),n=this.set.reduce(((t,n)=>n[e]+t),0)/100;if(!n)return this.random();return this.set.reduce(((i,r)=>{const s=i+r[e]/n;return"object"==typeof i?i:t>=i&&t<s?r:s}),0)}random(){return this.setChecking()?this.set[Math.floor(Math.random()*this.set.length)]:null}}function qs(e,t){for(const n in e){let i;if((Object.prototype.hasOwnProperty.call(e,n)||{}.hasOwnProperty.call(e,n))&&(i=t(n)),"break"===i)break}}function Ks(e){const t=typeof e;return"function"===t||e&&"object"===t||!1}function Js(e,t){const n=Ks(t),i=Ks(e);return n||i?n&&i?(Object.keys(t).forEach((n=>{void 0===e[n]&&(e[n]=t[n])})),e):n?t:e:t}function Qs(e,t,n){for(let i=0,r=e.length;i<r;i++){const r=t.call(n,e[i],i,e);if(void 0!==r)return r}}function Ys(e){return e&&1===e.nodeType||!1}function Xs(){}function eo(e){const t=e||window;return{height:t.innerHeight,width:t.innerWidth}}function to(e,t){return(t||window).getComputedStyle(e,null)}function no(e,t){return e.getPropertyValue(t)}function io(e,t){t||(t=to(e));if("none"===no(t,"display"))return!1;const n=e.parentNode;return!Ys(n)||io(n)}function ro(e,t){if(e===(t||window).document)return!0;if(!e||!e.parentNode)return!1;const n=to(e,t),i=no(n,"visibility");return"hidden"!==i&&"collapse"!==i&&io(e,n)}function so(e,t){return!(!e||e.width<=0||e.height<=0)&&(e.bottom>0&&e.right>0&&e.top<t.height&&e.left<t.width)}function oo(e,t){const n=e.getBoundingClientRect(),i=eo(t);if(!so(n,i)||!ro(e))return 0;let r=0,s=0;return n.top>=0?r=Math.min(n.height,i.height-n.top):n.bottom>0&&(r=Math.min(i.height,n.bottom)),n.left>=0?s=Math.min(n.width,i.width-n.left):n.right>0&&(s=Math.min(i.width,n.right)),r*s/(n.height*n.width)}function ao(e){return function(e,t){const n=(e,t)=>({property:e,event:t}),i="visibilitychange";return Qs([n("webkitHidden",`webkit${i}`),n("msHidden",`ms${i}`),n("mozHidden",`moz${i}`),n("hidden",i)],(t=>{if(undefined!==e[t.property])return{isHidden:()=>!!e[t.property]||!1,onVisibilityChange:n=>(e.addEventListener(t.event,n,!1),()=>e.removeEventListener(t.event,n,!1))}}))||{isHidden:()=>!1,onVisibilityChange:()=>Xs}}((e||window).document)}const lo=[0,"hidden"],co=[1,"visible"],uo=[2,"fullyvisible"];function ho(e,t,n){return n&&delete n.previous,{code:e[0],state:e[1],percentage:t,previous:n||{},fullyvisible:e[0]===uo[0],visible:e[0]===co[0]||e[0]===uo[0],hidden:e[0]===lo[0]}}const po={hidden:(e,t)=>ho(lo,e,t),visible:(e,t)=>ho(co,e,t),fullyvisible:(e,t)=>ho(uo,e,t)},fo=oo,mo=ao;class go{constructor(e,t){if(!(this instanceof go))return new go(e,t);if(!Ys(e))throw new Error("not an element node");this._element=e,this._config=Js(t,{fullyvisible:1,hidden:0,referenceWindow:window,percentageHook:fo,precision:3,visibilityHooks:[]});const n=this._config.precision<=0?1:Math.pow(10,this._config.precision||3);this._round=function(e){return Math.round(e*n)/n};const i=mo(this._config.referenceWindow);this._config.visibilityHooks.push((()=>!i.isHidden()))}element(){return this._element}referenceWindow(){return this._config.referenceWindow}isFullyVisible(){return this.state().fullyvisible}isVisible(){return this.state().visible}isHidden(){return this.state().hidden}percentage(){return this.state().percentage}state(){return Qs(this._config.visibilityHooks,(e=>{if(!e(this._element))return po.hidden(0)}),this)||function(e,t,n){const i=e._round(n.percentageHook(t,n.referenceWindow));return i<=n.hidden?po.hidden(i):i>=n.fullyvisible?po.fullyvisible(i):po.visible(i)}(this,this._element,this._config)}}function vo(e,t){const n=setTimeout(e,t||0);return()=>{clearTimeout(n)}}function yo(e,t){return function(){const n=arguments;return vo((()=>e(...n)),t||0)}}function _o(e){return"function"==typeof e||!1}function wo(e,t,n){let i=-1;const r=Object.keys(t),s=r.length,o=_o(n);for(;++i<s;){const s=r[i];e[s]=o?n(e[s],t[s],s,e,t):t[s]}return e}function bo(e){return e&&"object"==typeof e&&"number"==typeof e.length&&"[object Array]"===Object.prototype.toString.call(e)||!1}function Eo(e){try{return e.self!==e.top}catch(t){return!0}}function To(){return(new Date).getTime()}function So(e,t,n){let i=Xs,r=!1;return()=>{const s=To(),o=arguments,a=()=>{r=s,e.apply(n,o)};r&&s<r+t?(i(),i=vo(a,t)):(r=s,vo(a,0))}}const Ao=oo,Co=eo,Io=so,Oo=io,Po=no,Lo=to,Ro=ro,No=function(e){return!ao(e||window).isHidden()},xo=ao,ko={async:yo,debounce:function(e,t){let n=Xs;return()=>{const i=this,r=arguments;n(),n=vo((()=>{e.apply(i,r)}),t)}},defaults:Js,defer:vo,extend:wo,forEach:Qs,identity:function(e){return e},isArray:bo,isDefined:function(e){return void 0!==e},isElement:Ys,isFriendlyIframeContext:function(e){try{if(!Eo(e))return!1;const t=e.self.location,n=e.top.location;return t.protocol===n.protocol&&t.host===n.host&&t.port===n.port}catch(t){return!1}},isFunction:_o,isIframeContext:Eo,isObject:Ks,noop:Xs,now:To,once:function(e){let t,n=!1;return()=>(n||(t=e(...arguments),n=!0),t)},throttle:So,VisibilityApi:xo(),createVisibilityApi:xo,isPageVisible:No,isVisibleByStyling:Ro,percentage:Ao,_viewport:Co,_isInViewport:Io,_isDisplayed:Oo,_computedStyle:Lo,_styleProperty:Po};class Do{init(e){}start(e){}stop(e){}}class Mo extends Do{constructor(e){super(),this._strategies=e?bo(e)?e:[e]:[]}init(e){this._strategies.filter((e=>_o(e.init))).forEach((t=>t.init(e)))}start(e){this._strategies.filter((e=>_o(e.start))).forEach((t=>t.start(e)))}stop(e){this._strategies.filter((e=>_o(e.stop))).forEach((t=>t.stop(e)))}}class Uo extends Do{constructor(e){super(),this._config=Js(e,{interval:1e3}),this._started=!1}start(e){if(!this._started){const t=setInterval((()=>e.update()),this._config.interval);this._clearInterval=()=>clearInterval(t),this._started=!0}return this._started}stop(){return!!this._started&&(this._clearInterval(),this._started=!1,!0)}}const $o=ao;class Fo extends Do{constructor(e){super(),this._config=Js(e,{throttle:50}),this._config.debounce>0&&(this._config.throttle=+this._config.debounce),this._started=!1}start(e){return this._started||(this._removeEventListeners=(t=>{const n=e.visobj().referenceWindow(),i=$o(n).onVisibilityChange(t);return n.addEventListener("scroll",t,!1),n.addEventListener("resize",t,!1),n.addEventListener("touchmove",t,!1),()=>{n.removeEventListener("touchmove",t,!1),n.removeEventListener("resize",t,!1),n.removeEventListener("scroll",t,!1),i()}})(So((()=>e.update()),this._config.throttle)),this._started=!0),this._started}stop(){return!!this._started&&(this._removeEventListeners(),this._started=!1,!0)}}const Vo=(e,t)=>e.forEach((e=>e(t)));class jo{constructor(e){this._cache={},this._onAnyCache=[],this._config=Js(e,{async:!1,anyTopicName:"*"})}on(e,t){if(!_o(t))return Xs;const n=e=>t(...e||[]),i=this._config.async?yo(n):n,r=(e,t,n)=>()=>{const n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)};return e===this._config.anyTopicName?(this._onAnyCache.push(i),r(i,this._onAnyCache)):(this._cache[e]||(this._cache[e]=[]),this._cache[e].push(i),r(i,this._cache[e]))}publish(e,t){const n=(this._cache[e]||[]).concat(e===this._config.anyTopicName?[]:this._onAnyCache);let i=null;return i=!!this._config.async?yo(Vo):(e,t)=>(Vo(e,t),Xs),i(n,t||[])}}class Go{constructor(e,t){const n=Js(t,{strategy:[new Uo,new Fo],async:!1});this._visobj=e,this._state={},this._started=!1;const i=`*#${To()}`;this._pubsub=new jo({async:n.async,anyTopicName:i}),this._events=[i,"start","stop","update","hidden","visible","fullyvisible","percentagechange","visibilitychange"],this._strategy=new Mo(n.strategy),this._strategy.init(this),this._pubsub.on("update",(e=>{const t=e._state.percentage,n=e._state.previous.percentage;t!==n&&e._pubsub.publish("percentagechange",[e,t,n])})),this._pubsub.on("update",(e=>{e._state.code!==e._state.previous.code&&e._pubsub.publish("visibilitychange",[e])})),this._pubsub.on("visibilitychange",(e=>{e._state.visible&&!e._state.previous.visible&&e._pubsub.publish("visible",[e])})),this._pubsub.on("visibilitychange",(e=>{e._state.fullyvisible&&e._pubsub.publish("fullyvisible",[e])})),this._pubsub.on("visibilitychange",(e=>{e._state.hidden&&e._pubsub.publish("hidden",[e])})),Qs(this._events,(function(e){_o(n[e])&&this.on(e,n[e])}),this)}visobj(){return this._visobj}publish(e,t){if(this._events.indexOf(e)>=0)throw new Error(`Cannot publish internal event "${e}" from external scope.`);return this._pubsub.publish(e,t)}state(){return this._state}start(e){if(this._started)return this;const t=Js(e,{async:!1});return this._cancelAsyncStart&&this._cancelAsyncStart(),t.async?this.startAsync():(this._started=!0,this.update(),this._pubsub.publish("start",[this]),this._strategy.start(this),this)}startAsync(e){this._cancelAsyncStart&&this._cancelAsyncStart();const t=vo((()=>this.start(wo(Js(e,{}),{async:!1}))));return this._cancelAsyncStart=()=>{t(),this._cancelAsyncStart=null},this}stop(){this._cancelAsyncStart&&this._cancelAsyncStart(),this._started&&(this._strategy.stop(this),this._pubsub.publish("stop",[this])),this._started=!1}update(){this._started&&(this._state=function(e,t){const n=e.state(),i=n.percentage;return t&&i===t.percentage&&t.percentage===t.previous.percentage?t:n.hidden?po.hidden(i,t):n.fullyvisible?po.fullyvisible(i,t):po.visible(i,t)}(this._visobj,this._state),this._pubsub.publish("update",[this]))}on(e,t){return this._pubsub.on(e,t)}}function Bo(e,t,n){const i=ko.defaults(n,{percentageLimit:1,timeLimit:1e3,interval:100,strategy:void 0}),r=Math.max(i.percentageLimit-.001,0);let s=null;const o=Go.Builder(new go(e.element(),{hidden:r,referenceWindow:e.referenceWindow()})).set("strategy",i.strategy).on("visible",(e=>{null===s&&(s=function(e,t,n){let i=0,r=null,s=n.timeLimit,o=n.percentageLimit,a=n.interval;return Go.Builder(e.visobj()).strategy(new Uo({interval:a})).on("update",(n=>{const a=n.state().percentage;if(o>a)r=null;else{const e=ko.now();r=r||e,i=e-r}i>=s&&(n.stop(),e.stop(),t(n))})).on("stop",(()=>{r=null})).build()}(e,t,i)),s.start()})).on("hidden",(()=>{null!==s&&s.stop()})).on("stop",(()=>{null!==s&&s.stop()})).build();return o.start(),function(){o.stop(),s=null}}function zo(e,t){return new go(e,t)}Go.Builder=function(e){const t={},n=[],i=[];let r=!1,s=null;return{set(e,n){return t[e]=n,this},strategy(e){return n.push(e),this},on(e,t){return i.push([e,t]),this},build(o){const a=r?s:function(){const o=((e,t)=>{let n=null;const i=!1===e.strategy;if(!i&&(e.strategy||t.length>0)){const i=!!e.strategy,r=bo(e.strategy);n=(i?r?e.strategy:[e.strategy]:[]).concat(t)}else n=i?[]:e.strategy;return n})(t,n);t.strategy=o;const a=e.monitor(t);return Qs(i,(e=>a.on(e[0],e[1]))),r=!0,s=a,s}();return _o(o)?o(a):a}}},go.prototype.monitor=function(e){return new Go(this,e)},go.prototype.onPercentageTimeTestPassed=function(e,t){return Bo(this,e,t)},go.prototype.checkView=function(e,t,n){return function(e,t){const n=t.config||{percentageLimit:.5,timeLimit:1e3,interval:100},i=t.inView,r=t.outView;let s=!1;const o=e.monitor({visible(){s||(s=!0,e.onPercentageTimeTestPassed((e=>{i(e),s=!1}),n))},hidden(e){r(e)}});return o.start(),o}(this,e)},Do.CompositeStrategy=Mo,Do.PollingStrategy=Uo,Do.EventStrategy=Fo,Go.Strategy=Do,zo.Utils=ko,zo.VisMon=Go,zo.VisState=po,zo.of=(e,t)=>zo(e,t),zo.fn=go.prototype;let Ho=!1,Wo=!1,Zo=window.document.createElement("div");try{const e="<P><I></P></I>";Zo.innerHTML=e,Ho=Zo.innerHTML!==e}catch(oc){Ho=!1}try{Zo.innerHTML="<P><i><P></P></i></P>",Wo=2===Zo.childNodes.length}catch(oc){Wo=!1}Zo=null;const qo={tagSoup:Ho,selfClose:Wo};function Ko(e,t=""){return e?e.replace(/([^"]*)"/g,((e,t)=>/\\/.test(t)?`${t}"`:`${t}\\"`)):t}class Jo{constructor(e,t){this.type="comment",this.length=t||(e?e.length:0),this.text="",this.content=e}toString(){return`\x3c!--${this.content}`}}class Qo{constructor(e){this.type="chars",this.length=e,this.text=""}toString(){return this.text}}class Yo{constructor(e,t,n,i,r){this.type=e,this.length=n,this.text="",this.tagName=t,this.attrs=i,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1}static formatTag(e,t=null){let n=`<${e.tagName}`;for(const i in e.attrs)if(e.attrs.hasOwnProperty(i)){n+=` ${i}`;const t=e.attrs[i];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[i]||(n+=`="${Ko(t)}"`)}return e.rest&&(n+=` ${e.rest}`),e.unary&&!e.html5Unary?n+="/>":n+=">",null!=t&&(n+=`${t}</${e.tagName}>`),n}}class Xo{constructor(e,t,n,i,r,s){this.type="startTag",this.length=t,this.text="",this.tagName=e,this.attrs=n,this.booleanAttrs=i,this.html5Unary=!1,this.unary=r,this.rest=s}toString(){return Yo.formatTag(this)}}class ea{constructor(e,t,n,i,r){this.type="atomicTag",this.length=t,this.text="",this.tagName=e,this.attrs=n,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1,this.content=r}toString(){return Yo.formatTag(this,this.content)}}class ta{constructor(e,t){this.type="endTag",this.length=t,this.text="",this.tagName=e}toString(){return`</${this.tagName}>`}}const na={startTag:/^<([\-A-Za-z0-9_!:]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_:]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i};function ia(e){if(-1!==e.indexOf(">")){const t=e.match(na.startTag);if(t){const e={},n={};let i=t[2];return t[2].replace(na.attr,(function(t,r){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(e[arguments[5]]="",n[arguments[5]]=!0):e[r]=arguments[2]||arguments[3]||arguments[4]||na.fillAttr.test(r)&&r||"":e[r]="",i=i.replace(t,"")})),new Xo(t[1],t[0].length,e,n,!!t[3],i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))}}}const ra=Object.freeze(Object.defineProperty({__proto__:null,comment:function(e){const t=e.indexOf("--\x3e");if(t>=0)return new Jo(e.substr(4,t-1),t+3)},chars:function(e){const t=e.indexOf("<");return new Qo(t>=0?t:e.length)},startTag:ia,atomicTag:function(e){const t=ia(e);if(t){const n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){const e=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(e)return new ea(t.tagName,e[0].length+t.length,t.attrs,t.booleanAttrs,e[1])}}},endTag:function(e){const t=e.match(na.endTag);if(t)return new ta(t[1],t[0].length)}},Symbol.toStringTag,{value:"Module"})),sa=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,oa=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i;function aa(e){return e&&"startTag"===e.type&&(e.unary=sa.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function la(e,t){const n=t.pop();e.prepend(`</${n.tagName}>`)}function ca(e,t,n){const i=function(){const e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){const t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(let t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e}(),r={startTag(n){const r=n.tagName;"TR"===r.toUpperCase()&&i.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&oa.test(r)&&i.containsTagName(r)?i.lastTagNameEq(r)?la(e,i):(e.prepend(`</${n.tagName}>`),s()):n.unary||i.push(n)},endTag(r){i.last()?t.tagSoupFix&&!i.lastTagNameEq(r.tagName)?la(e,i):i.pop():t.tagSoupFix&&(n(),s())}};function s(){const t=function(e,t){const n=e.stream,i=aa(t());return e.stream=n,i}(e,n);t&&r[t.type]&&r[t.type](t)}return function(){return s(),aa(n())}}const ua={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/};class ha{constructor(e="",t={}){this.stream=e;let n=!1;const i={};for(const r in qo)qo.hasOwnProperty(r)&&(t.autoFix&&(i[`${r}Fix`]=!0),n=n||i[`${r}Fix`]);n?(this._readToken=ca(this,i,(()=>this._readTokenImpl())),this._peekToken=ca(this,i,(()=>this._peekTokenImpl()))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}append(e){this.stream+=e}prepend(e){this.stream=e+this.stream}_readTokenImpl(){const e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e}_peekTokenImpl(){for(const e in ua)if(ua.hasOwnProperty(e)&&ua[e].test(this.stream)){const t=ra[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}}peekToken(){return this._peekToken()}readToken(){return this._readToken()}readTokens(e){let t;for(;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return}clear(){const e=this.stream;return this.stream="",e}rest(){return this.stream}}ha.tokenToString=e=>e.toString(),ha.escapeAttributes=e=>{const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=Ko(e[n],null));return t},ha.supports=qo;for(const ac in qo)qo.hasOwnProperty(ac)&&(ha.browserHasFlaw=ha.browserHasFlaw||!qo[ac]&&ac);function da(e){return null!=e}function pa(e){return"function"==typeof e}function fa(e,t,n){for(const i in e)e.hasOwnProperty(i)&&t.call(n,i,e[i])}function ma(e){try{return Array.prototype.slice.call(e)}catch(oc){const n=[];return function(e,t,n){let i;const r=e&&e.length||0;for(i=0;i<r;i++)t.call(n,e[i],i)}(e,(e=>{n.push(e)})),n}}function ga(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e))&&!!~e.tagName.toLowerCase().indexOf(t)}function va(e){return ga(e,"script")}function ya(e){return ga(e,"style")}const _a="data-ps-",wa="ps-style",ba="ps-script";function Ea(e,t){const n=_a+t,i=e.getAttribute(n);return da(i)?String(i):i}function Ta(e,t,n=null){const i=_a+t;da(n)&&""!==n?e.setAttribute(i,n):e.removeAttribute(i)}class Sa{constructor(e,t={}){this.root=e,this.options=t,this.doc=e.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new ha("",{autoFix:t.autoFix}),this.actuals=[e],this.proxyHistory="",this.proxyRoot=this.doc.createElement(e.nodeName),this.scriptStack=[],this.writeQueue=[],this.firstQueue="",this.deeplLevel=0,Ta(this.proxyRoot,"proxyof",0)}write(...e){for(this.writeQueue.push(...e),""===this.firstQueue&&(this.firstQueue=e[0]);!this.deferredRemote&&this.writeQueue.length;){const e=this.writeQueue.shift();pa(e)?this._callFunction(e):(this.deeplLevel+=1,this._writeImpl(e))}}_callFunction(e){const t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)}_writeImpl(e){let t,n,i;this.parser.append(e);const r=[];for(;(t=this.parser.readToken())&&!(n=va(t))&&!(i=ya(t));)t=this.options.beforeWriteToken(t),t&&r.push(t);if(r.length>0&&this._writeStaticTokens(r),n){{this._handleScriptToken(t);const e=Ir();e&&e.commit("PUSH_REMOTE_SCRIPT_LOADED",t.attrs.src||t.attrs.SRC)}}i&&this._handleStyleToken(t)}_writeStaticTokens(e){const t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,this._walkChunk(),t):null}_buildChunk(e){let t=this.actuals.length;const n=[],i=[],r=[],s=e.length;for(let o=0;o<s;o++){const s=e[o],a=s.toString();if(n.push(a),s.attrs){if(!/^noscript$/i.test(s.tagName)){const e=t++;i.push(a.replace(/(\/?>)/,` ${_a}id=${e} $1`)),s.attrs.id!==ba&&s.attrs.id!==wa&&r.push("atomicTag"===s.type?"":`<${s.tagName} ${_a}proxyof=${e}${s.unary?" />":">"}`)}}else i.push(a),r.push("endTag"===s.type?a:"")}return{tokens:e,raw:n.join(""),actual:i.join(""),proxy:r.join("")}}_walkChunk(){let e;const t=[this.proxyRoot];for(;da(e=t.shift());){const n=1===e.nodeType;if(!(n&&Ea(e,"proxyof"))){n&&(this.actuals[Ea(e,"id")]=e,Ta(e,"id"));const t=e.parentNode&&Ea(e.parentNode,"proxyof");t&&this.actuals[t].appendChild(e)}t.unshift(...ma(e.childNodes))}}_handleScriptToken(e){const t=this.parser.clear();t&&this.writeQueue.unshift(t),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(()=>{this._onScriptDone(e)})))}_handleStyleToken(e){const t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()}_writeStyleToken(e){const t=this._buildStyle(e);this._insertCursor(t,wa),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))}_buildStyle(e){const t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),fa(e.attrs,((e,n)=>{t.setAttribute(e,n)})),t}_insertCursor(e,t){this._writeImpl(`<span id="${t}"/>`);const n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)}_onScriptStart(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)}_onScriptDone(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})}_writeScriptToken(e,t){const n=this._buildScript(e),i=this._shouldRelease(n),r=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,i?r:()=>{t(),r()}));try{this._insertCursor(n,ba),n.src&&!i||t()}catch(oc){this.options.error(oc),t()}}_buildScript(e){const t=this.doc.createElement(e.tagName);return fa(e.attrs,((e,n)=>{t.setAttribute(e,n)})),e.content&&(t.text=e.content),t}_scriptLoadHandler(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null}const i=this.options.error;function r(){n(),null!=t&&t(),t=null}function s(e){n(),i(e),null!=t&&t(),t=null}function o(e,t){const n=e[`on${t}`];null!=n&&(e[`_on${t}`]=n)}o(e,"load"),o(e,"error"),Object.assign(e,{onload(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){s({msg:`onload handler failed ${t} @ ${e.src}`})}r()},onerror(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void s({msg:`onerror handler failed ${t} @ ${e.src}`})}s({msg:`remote script failed ${e.src}`})},onreadystatechange(){/^(loaded|complete)$/.test(e.readyState)&&r()}})}_shouldRelease(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))}}function Aa(){}const Ca={afterAsync:Aa,afterDequeue:Aa,afterStreamStart:Aa,afterWrite:Aa,autoFix:!0,beforeEnqueue:Aa,beforeWriteToken:e=>e,beforeWrite:e=>e,done:Aa,error(e){throw new Error(e.msg)},releaseAsync:!1,avoidConflictDocWrite:!1};let Ia,Oa,Pa,La=0,Ra=[],Na=null;function xa(){const e=Ra.shift();if(e){const n=(t=e)[t.length-1];n.afterDequeue(),e.stream=function(e,t,n){Na=new Sa(e,n),Na.id=La++,Na.name=n.name||Na.id,ka.streams[Na.name]=Na;const i=e.ownerDocument,r={close:i.close,open:i.open,write:i.write,writeln:i.writeln,from:e};function s(e){e=n.beforeWrite(e),Na.write(e),n.afterWrite(e)}Ia=i,Oa=r,Object.assign(i,{write:(...e)=>s(e.join("")),writeln:(...e)=>s(`${e.join("")}\n`)});const o=Na.win.onerror||Aa;return Pa=o,Na.win.onerror=(e,t,i)=>{n.error({msg:`${e} - ${t}: ${i}`}),o.apply(Na.win,[e,t,i])},Na.write(t,(()=>{Object.assign(i,r),Na.win.onerror=o,n.done(),Na=null,xa()})),Na}(...e),n.afterStreamStart()}var t}function ka(e,t,n){if(pa(n))n={done:n};else if("clear"===n)return Ra=[],Na=null,void(La=0);n=function(e,t){return e=e||{},fa(t,((t,n)=>{da(e[t])||(e[t]=n)})),e}(n,Ca);const i=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];if(e.writeDomAsync={cancel:()=>{i.stream?i.stream.abort():i[1]=Aa}},n.avoidConflictDocWrite){let e=!1;"loading"===document.readyState?(document.addEventListener("DOMContentLoaded",(()=>{e||(n.beforeEnqueue(i),Ra.push(i),Na||(e=!0,xa()))})),setTimeout((()=>{e||(n.beforeEnqueue(i),Ra.push(i),Na||(e=!0,xa()))}),5e3)):(n.beforeEnqueue(i),Ra.push(i),Na||(e=!0,xa()))}else{n.beforeEnqueue(i),Ra.push(i);let e=!1;setTimeout((()=>{e||(Object.assign(Ia,Oa),xa(),Na&&(Na.win.onerror=Pa))}),2e3),Na||(e=!0,xa())}return e.writeDomAsync}Object.assign(ka,{streams:{},queue:Ra,WriteStream:Sa});const Da=new Os,Ma=ps()||ws("pageUrl"),Ua=new Qr({state:()=>({CURRENT_CHANNEL:Ma,ENV:null,CONFIG:{},ORDER_RENDER:[],MESSAGE:[],ZONE_DATA:{},BANNER_DATA:{},TRACKING_VIEW:[],BANNER_RENDERED:[],RELATIVE:[],PAGE_LOAD:{CHANNEL:Ma,IS_SET:!1,TOTAL_PAGELOAD:3,CAMPAIGNS:[],EXIST_MONOPOLY:!1,activePageLoad:{},monopolyCampaign:{}},REMOTE_SCRIPT_REGISTER:[],REMOTE_SCRIPT_LOADED:[],REDRAW_SIGN:[],ADD_SHARE_SIGN:[],TRACK_LOAD:{},LOAD_ID:null,UID:null,GLOBAL_FILTER:[],ARF_CONFIG:Ws,IS_PREVIEW:!1,CORE_LOADED:[],CHANNEL_FILTER:{},OPTION_CHANNEL_FILTER:{},GLOBAL_FILTER_RESULT:{},CPD_FORCE:null,FULL_CPM:null,IS_FULL_CPM:!1,TURNS_LEFT:3,TOTAL_SHARE:3,TOTAL_CPD_RUNNING:[],ZONE_BANNERS:{},ZONE_FULL_CPD:[],ZONE_PERFORMANCE:{},ENCRYPTED_URL:{},$shareRenderDone:null,$renderBannerDone:null,$placementRenderDone:null,$zoneRenderDone:null,$arfConfig:Ws,viewTracking:zo,writeDomAsync:ka,PUSHED_DATA:[]}),getters:{zoneTrackLoad:()=>(e,t)=>Va.readZone(e,t),relative:e=>e.RELATIVE,isScriptExecuted:e=>t=>e.REMOTE_SCRIPT_LOADED.filter((e=>e===t)).length>0,getMessage:e=>e.MESSAGE,getGlobalFilterResult:e=>(t,n)=>{try{if(e.ENV.isUpdate){const t=ws("pageUrl"),n=ws(),r=ps()||ws("pageUrl");try{const n=window.parent?window.parent.document.URL:document.URL;e.env.url=n||window.__admURL||t}catch(i){e.env.url=window.__admURL||t}e.env.referrerUrl=n,e.env.currentChannel=r,new hs(e.GLOBAL_FILTER,e.ENV,"&&"),e.env.isUpdate=!1}let t=!0;for(let i=0;i<e.GLOBAL_FILTER.length;i+=1){const r=e.GLOBAL_FILTER[i],{listZoneId:s,conditionZone:o}=r,a=s?s.split(","):[],l="except"===o&&a.indexOf(n)>-1||"include"===o&&a.indexOf(n)<0;t=t&&(r.isPass||l)}return t}catch(i){return e.GLOBAL_FILTER_RESULT[t]}},getZonePerformance:e=>e.ZONE_PERFORMANCE},mutations:{INIT_ENV(e,t){e.ENV&&1==!t.isUpdate||(e.ENV=t,e.ENV.variables=e.ENV.variables||{})},SET_ENV_VARIABLE(e,t){e.ENV.variables[t.name]=t.value},SET_ENV_PROPERTY(e,t,n){e.ENV.key=n},RENEW_CPM_CPD_FLAG(e,t=!0){t||(za=3),e.TURNS_LEFT=t?za:3,e.FULL_CPM=null,e.CPD_FORCE=null,Ba=null,Ha(),Ba.value&&(e.IS_FULL_CPM=!0),t&&(za-=1,za<=0&&(za=3))},INIT_ZONE_DATA(e,t){e.ZONE_DATA=t},PUSH_ZONE(e,t){try{const n=t.propsData.model.id;e.ZONE_DATA[n]||(e.ZONE_DATA[n]=t)}catch(n){}},PUSH_ORDER_RENDER(e,t){e.ORDER_RENDER.push(t)},CORE_LOADED(e,t){try{e.CORE_LOADED.push(t)}catch(n){}},ZONE_FULL_CPD(e,t){e.ZONE_FULL_CPD.push(t)},SET_ACTIVE_SHARE(e,t){e.ZONE_DATA[t.zoneId].activeShare=t},REMOVE_ZONE(e,t){delete e.ZONE_DATA[t]},REMOTE_SCRIPT_REGISTER(e,t){if(t.remove){const n=e.REMOTE_SCRIPT_REGISTER.indexOf(t.url);e.REMOTE_SCRIPT_REGISTER.splice(n,1)}else e.REMOTE_SCRIPT_REGISTER.push(t.url)},PUSH_BANNER(e,t){try{const n=("string"==typeof t.el?document.getElementById(t.el.replace(/(#)/,"")):t.el)||document.getElementById(t.propsData.model.id);e.BANNER_DATA[n.id]=t}catch(n){}},REMOVE_BANNER(e,t){delete e.BANNER_DATA[t]},SET_ACTIVE_PAGE_LOAD(e,t){t.loadId=e.LOAD_ID,e.PAGE_LOAD.activePageLoad.loadId!==e.LOAD_ID&&(e.PAGE_LOAD.activePageLoad=t,Va.pushPageloadLog(t),Va.write(),window._ADMpageloadAds=window._ADMpageloadAds?`${window._ADMpageloadAds},${t.campaignId}`:t.campaignId)},PUSH_CONFIG_PAGELOAD(e,t){try{e.PAGE_LOAD.IS_SET||"object"!=typeof t||void 0!==t.existMonopoly||(e.PAGE_LOAD.TOTAL_PAGELOAD=t.totalPageload,t.campaigns.forEach((t=>{0===e.PAGE_LOAD.CAMPAIGNS.filter((e=>e.campaignId===t.campaignId)).length&&e.PAGE_LOAD.CAMPAIGNS.push(t)})),e.PAGE_LOAD.IS_SET=!1),t.existMonopoly&&!e.PAGE_LOAD.monopolyCampaign.campaignId&&(e.PAGE_LOAD.EXIST_MONOPOLY=t.existMonopoly,e.PAGE_LOAD.monopolyCampaign=t.monopolyCampaign),Da.setStorage(Ws.cookieConfig.pageLoad.name,JSON.stringify(e.PAGE_LOAD),"","/",e.CURRENT_CHANNEL)}catch(n){}},BANNER_CHECK(e,t){const{zoneId:n,totalShare:i,banners:r}=t;((e,t)=>{for(let n=0;n<e.length;n+=1){const i=e[n];if(-1===t.indexOf(i))return!1}return e.length>0||0===t.length})(Va.readZone(n,i).banners,r)||(Wa||(Wa=!0,Ua.state.TURNS_LEFT=3,za=3,Ga=!1,Ha(),za-=1,Da.setStorage("_tl",za,"","/",Ua.state.CURRENT_CHANNEL)),Va.init(t)),e.ZONE_BANNERS[n]=r},TRACK_TURN(e,t){const{zoneId:n,turn:i,totalShare:r,isPageLoad:s}=t;if(!i)return;const o=Va.readZone(n,r),a=Va.formatZoneData(o,e.PAGE_LOAD.TOTAL_PAGELOAD);a.turns.push(i),a.isPageLoad=s,a.countTurnsLeft(s?e.TURNS_LEFT:null),Va.changeInStore(n,a)},SAVE_TRACK_LOAD_DATA(e){Va.write()},SYNC_TURN(e,t){const{syncId:n,withId:i}=t,r=Va.readZone(n),s=Va.readZone(i);r.turnsLeft=s.turnsLeft},SAVE_BANNER_RENDERED(e,t){e.BANNER_RENDERED.push(t)},SET_RELATIVE_PLACEMENT(e,t){0!==e.RELATIVE.filter((e=>e.relativeCode===t.relativeCode&&e.campaignId===t.campaignId)).length||e.RELATIVE.push(t)},SET_GLOBAL_FILTER(e,t){try{t.map((t=>0===e.GLOBAL_FILTER.filter((e=>e.id===t.id)).length?e.GLOBAL_FILTER.push(t):""))}catch(n){}},PUSH_REMOTE_SCRIPT_LOADED(e,t){t&&e.REMOTE_SCRIPT_LOADED.push(t)},PUSH_REDRAW_SIGN(e,t){t&&e.REDRAW_SIGN.push({placementId:t})},SET_PREVIEW_MODE(e,t){e.IS_PREVIEW=t},PUSH_ADD_SHARE_SIGN(e,t){t&&e.ADD_SHARE_SIGN.push(t)},PUSH_MESSAGE(e,t){e.MESSAGE.push(t)},PUSH_CHANNEL_FILTER(e,t){e.CHANNEL_FILTER[t.bannerId]=t.result},PUSH_OPTION_CHANNEL_FILTER(e,t){e.OPTION_CHANNEL_FILTER[t.id]=t},GLOBAL_FILTER_RESULT(e,t){e.GLOBAL_FILTER_RESULT[t.siteId]=t.isPassGlobalFilter},CPD_FORCE(e,t){Ba.value||null===e.CPD_FORCE&&(e.CPD_FORCE=t)},FULL_CPM(e,t){e.FULL_CPM=e.FULL_CPM&&t},TOTAL_CPD_RUNNING(e,t){e.TOTAL_CPD_RUNNING.push(t)},PUSH_TRACKING_VIEW(e,t){"object"==typeof t&&t.bid&&t.callback&&t.type&&e.TRACKING_VIEW.push(t)},SET_ZONELOG_PARAM(e,t){e[t.key]=t.value},SET_ZONE_PERFORMANCE(e,t){e.ZONE_PERFORMANCE[t.id].endTime=t.endTime,e.ZONE_PERFORMANCE[t.id].total=t.total,e.ZONE_PERFORMANCE[t.id].renderedBanners=t.banner},SET_ZONE_PERFORMANCE_START(e,t){e.ZONE_PERFORMANCE[t.id]={startTime:Date.now()}},PUSH_ENCRYPTED_URL(e,t){e.ENCRYPTED_URL[t.str]=t.encrypt}},actions:{trackingZone(e,t){if(window[Hs.admGroupPage]=window[Hs.admGroupPage]||[],t.id&&t.addslot&&t.listzone){if(0===window[Hs.admGroupPage].filter((e=>e.addslot===t.addslot)).length){const e={};e.listzone=t.listzone,e.loaded={},e.addslot=t.addslot,window[Hs.admGroupPage].push(e)}for(let e=0;e<window[Hs.admGroupPage].length;e+=1){const n=window[Hs.admGroupPage][e];n.addslot===t.addslot&&(n.loaded[t.id]=t.status,window[Hs.admGroupPage][e]=n)}}}}});if(!Ua.state.LOAD_ID){const e=(new Date).getTime(),t=Math.floor(1e6*Math.random());Ua.state.LOAD_ID=`${e}${t}`}let $a=Da.getCookie("_uidcms"),Fa=Da.getCookie("__uif");if(Fa){let e=Fa.split("|")[0];0==e.indexOf("__uid:")&&($a=e.slice(6))}$a=$a||Ua.state.LOAD_ID,Da.setCookie("_uidcms",$a,3e6,"/",`.${window.location.hostname}`),Ua.state.UID||(Ua.state.UID=$a);const Va=new class{constructor(e,t){this.arfStorage=e,this.trackLoadConfig=vs.trackLoad,this.expired=30,this.currentChannelLink=t;let n=this.arfStorage.getStorage(this.trackLoadConfig.name);if(""===n)n={};else try{n=JSON.parse(n)}catch(i){n={}}this.history=n.history||{},this.pageload=Array.isArray(n.pageload)?n.pageload:[],this.timestamp=n.timestamp||this.getTimestamp(),this.getExpired()<=this.getTimestamp()&&(this.history={},this.pageload=[],this.timestamp=this.getTimestamp())}getTimestamp(){return(new Date).getTime()}getExpired(){const e=new Date(this.timestamp);return e.setMinutes(e.getMinutes()+this.expired)}init(e){const{zoneId:t,totalShare:n,banners:i}=e,r=new _s(e||{banners:i,totalShare:n});this.history[t]=r}pushPageloadLog(e){try{const{campaignId:t,pageLoad:n,loadId:i}=e;this.pageload.push({campaignId:t,pageLoad:n,loadId:i})}catch(t){}}clearPageload(){this.pageload=[]}changeInStore(e,t){for(const n in this.history[e])if(this.history[e].hasOwnProperty(n)){const i=t[n];this.history[e][n]=i}else delete this.history[e][n]}readZone(e,t){void 0===this.history[e]&&(this.history[e]={});let n=this.history[e];if(void 0===n){const i=new _s(t?{totalShare:t}:{});this.history[e]=i,n=i}const i=n.totalShare;if(t&&t!==i){const i=new _s({totalShare:t});this.history[e]=i,n=i}return new _s(n)}formatZoneData(e,t){return e instanceof _s?e:new _s(e,t)}write(){const e=JSON.stringify({channel:this.currentChannelLink,history:this.history,pageload:this.pageload,timestamp:this.timestamp});this.arfStorage.setStorage(this.trackLoadConfig.name,e,"","/",this.currentChannelLink)}clearTrack(){this.arfStorage.setStorage(this.trackLoadConfig.name,"","","/",this.currentChannelLink)}}(Da,Ua.state.CURRENT_CHANNEL);Ua.state.TRACK_LOAD=Va;let ja=Da.getStorage(Ws.cookieConfig.pageLoad.name)?JSON.parse(Da.getStorage(Ws.cookieConfig.pageLoad.name)):Ua.state.PAGE_LOAD;Va.pageload.length>=ja.TOTAL_PAGELOAD&&Va.clearPageload();let Ga=(()=>{try{return JSON.parse(Da.getStorage("_cpmfullpage"))||!1}catch(e){return!1}})();Ua.state.IS_FULL_CPM=Ga;let Ba,za=(()=>{try{return JSON.parse(Da.getStorage("_tl"))||ja.TOTAL_PAGELOAD||3}catch(e){return 3}})();function Ha(){za===ja.TOTAL_PAGELOAD&&(Ua.state.IS_FULL_CPM=!1,Ga=!1,Da.setStorage("_cpmfullpage",!1,"","/",Ua.state.CURRENT_CHANNEL));const e=new Zs([{value:!0,wei:Ga?0:1/3},{value:!1,wei:Ga?9999:2/3}]);Ba=e.baseOnField("wei"),1!==za||Ga||(Ba={value:!0,wei:Ga?0:1/3}),Ua.state.FULL_CPM=Ba.value,Ba.value&&(Ua.state.IS_FULL_CPM=!0,Ua.state.CPD_FORCE=!1,Da.setStorage("_cpmfullpage",Ba.value,"","/",Ua.state.CURRENT_CHANNEL),Ga=Ba.value)}Ua.state.TURNS_LEFT=za,za===ja.TOTAL_PAGELOAD&&(qs(Va.history,(e=>{try{const t=Va.readZone(e);t.isPageLoad&&(t.turns=[])}catch(t){Va.clearTrack()}})),Va.clearPageload(),Ga=!1),Ha(),za-=1,za<=0&&(za=3),Da.setStorage("_tl",za,"","/",Ua.state.CURRENT_CHANNEL);let Wa=!1;class Za{constructor(e){this.id=e.id,this.width=e.width,this.height=e.height,this.css=e.css,this.weight=e.weight,this.css=e.css,this.outputCss=e.outputCss,this.tree=e.tree,this.query=e.query,this.store=Ua,this.config=Ws,this.revenueType=e.revenueType}weightValue(e){return this[e]}}class qa{constructor(e){this.config=e}createLinkLogging(e,t){const n=t.reduce(((e,t)=>e?t.value||void 0!==t.value?`${e}&${t.name}=${t.value}`:`${e}`:t.value||void 0!==t.value?`?${t.name}=${t.value}`:""),0);return`${this.config.url}/${e}${n}`}logging(e){(new Image).src=e}createParamsArray(e,t){const n=[];return qs(this.config[e].param,(e=>{if("re"===e&&1!==t.cov)return"continue";n.push({name:e,value:t[e]})})),n}bannerLoggingUrl(e,t){const n=this.createParamsArray("banner",e);return this.createLinkLogging(this.config.banner.path,n)}zoneLoggingUrl(e){const t=this.createParamsArray("zone",e);return this.createLinkLogging(this.config.zone.path,t)}}var Ka=!1,Ja=[],Qa=function(){if(!document.body)return setTimeout(Qa,13);for(var e=0;e<Ja.length;e++)Ja[e]();Ja=[]};let Ya=[{macro:"%%WIDTH%%",type:"width",param:"width"},{macro:"%%HEIGHT%%",type:"height",param:"height"},{macro:"%%CLICK_URL_ESC%%",type:"clickUrlEsc",param:"cue"},{macro:"%%CLICK_URL_UNESC%%",type:"clickUrlUnEsc",param:"cuu"},{macro:"%%CACHEBUSTER%%",type:"cacheBuster",param:"ord",value:()=>`${(new Date).getTime()}`},{macro:"%%ARF_CONTENT%%",type:"adsFormat"},{macro:"%%TRUE_VIEW_REPORT%%",type:"trueView"},{macro:"%%VIEW_REPORT%%",type:"views"},{macro:"%%CLICK_REPORT%%",type:"click"},{macro:"%%ZONE_ID%%",type:["tree","zoneId"]},{macro:"%%POSITION_ON_SHARE%%",type:"positionOnShare"},{macro:"%%VIEW_EXPAND%%",type:"expandLog"},{macro:"%%VAST_TAGS_URL%%",type:"vast"},{macro:"%%VAST_TAGS_URL_UNESC%%",type:"vast",value:e=>decodeURIComponent(e.vast)},{macro:"%%NO_BRAND%%",type:"domain",value:()=>!1},{macro:"[timestamp]",value:()=>`${(new Date).getTime()}`}];const Xa="1.admicro.vn",el=[{macro:"static-cmsads.admicro.vn",type:"domain",value:()=>Ns(Fs[0])},{macro:"media"+Xa,value:()=>Ns(Gs.urlNoSlash)},{macro:"sspapi.admicro.vn",type:"domain",value:()=>"object"==typeof ks?ks.ssp:"sspapi.admicro.vn"},{macro:"adi.admicro.vn",type:"domain",value:()=>"object"==typeof ks?ks.adi:"adi.admicro.vn"},{macro:"viewplus.admicro.vn",type:"domain",value:()=>"object"==typeof ks?"vp.cdnstoremedia.com":"viewplus.admicro.vn"}];xs.indexOf("media"+Xa)<0&&"object"==typeof ks&&(Ya=Ya.concat(el));class tl{constructor(e,t){this.stringInput=e,this.obj=t}get macroTemplate(){return Ya}getAllMacroInString(){const e=this.stringInput.match(/%%(.+?)%%/g)||[],t=this.stringInput.match(/\[(.+?)\]/g)||[];return e.concat(t)}macroValidate(e){return this.macroTemplate.filter((t=>t.macro===e)).length>0}getValueOfMacro(e,t){if(t&&t.filter((t=>t.macro===e))[0])return t.filter((t=>t.macro===e))[0].value;const n=this.macroTemplate.filter((t=>t.macro===e))[0];if(!n)return null;const i=n.type;if(n.value)return n.value(this.obj);if(Array.isArray(i)){let e=null;const t=this;for(let n=0;n<i.length;n+=1){const r=i[n];e="function"==typeof(e||t.obj)[r]?(e||t.obj)[r].bind(t.obj)():(e||t.obj)[r]}return e}const r=void 0!==this.obj[i]||null!==this.obj[i]?this.obj[i]:"";if("function"==typeof r){const t=this.getIndex(e);return r.bind(this.obj)(t)}return r}getIndex(e){try{return/(?:\[)(.+?)(?:\])/g.exec(e)[1]}catch(t){return 0}}replaceMacro(e,t,n){try{const i=this.getAllMacroInString();let r=this.stringInput;for(let s=0;s<i.length;s+=1){const o=i[s];if(!this.macroValidate(o))continue;const a=e?"":this.getValueOfMacro(i[s],n);r=r.replace(o,t?encodeURIComponent(a):a)}return r}catch(i){return this.stringInput}}}function nl(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");const n=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function il(e){const t=e.split("/");return`${t[0]}//${t[2]}`}const rl=window.ADMCorePathBlockList||["core/ssppage.js","core/core_sticky.js"],sl="1.admicro.vn",ol=[{name:"media"+sl,value:Gs.urlNoSlash,condition:"media"+sl+"/cms"},{name:"media"+sl,value:Gs.urlNoSlash,condition:"media"+sl+"/core"},{name:"static-cmsads.admicro.vn",value:Ns(Fs[0]),condition:"static-cmsads.admicro.vn"},{name:"adi.admicro.vn",value:"ocu.kernh41.com",condition:"adi.admicro.vn"},{name:"core/core_sticky.js",value:()=>Rs("core/core_sticky.js"),condition:"core/core_sticky.js"},{name:"core/pr/pr_kenh14.vn.js",value:()=>Rs("core/pr/pr_kenh14.vn.js"),condition:"core/pr/pr_kenh14.vn.js"}];function al(e){if(!e)return"";if(Ds())return e;let t=e;const n=t.match(new RegExp(/cmsads\/\S+(?=\/.+.html)/gi));return n&&n.forEach((e=>{t=t.replace(e,Rs(`${e}fbook`,1))})),ol.forEach((e=>{t.indexOf(e.name)>=0&&t.indexOf(e.condition)>=0&&(t=t.replace(e.name,e.value))})),rl.forEach((e=>{t.indexOf(e)>=0&&(t=t.replace(e,Rs(e,0,"",1)))})),t}function ll(e){if(!e)return"";let t=e;return ol.forEach((n=>{if(e.indexOf(n.name)>=0&&e.indexOf(n.condition)>=0){const e=t.split("/").pop(),i=t.split(`${n.name}/`)[1].replace(`/${e}`,"");t=t.replace(n.name,n.value).replace(i,Rs(`${i}fbook`,1))}})),t}function cl(e,t){if(Ds())return e;let n=e;return t.forEach((t=>{e.indexOf(t.name)>=0&&e.indexOf(t.condition)&&(n=e.replace(t.name,t.value))})),n}async function ul(e,t,n,i,r,s,o){const a="boolean"!=typeof n||n;return new Promise((n=>{if(!s&&r){if(r.getters.isScriptExecuted(t))return void setTimeout((()=>{n("installScriptDone")}),i||0)}const l=document.createElement("script");if(l.type="text/javascript",l.onload=function(){"function"==typeof o&&o(),setTimeout((()=>{n("installScriptDone"),r&&r.commit("PUSH_REMOTE_SCRIPT_LOADED",t)}),i||0)},l.onerror=function(){setTimeout((()=>{n("installScriptDone"),r&&r.commit("PUSH_REMOTE_SCRIPT_LOADED",t)}),i||0)},l.async=a,l.src=t,e)e.appendChild(l);else{const e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(l,e)}}))}class hl extends Za{constructor(e){super(e),this.id=`${e.id}`,this.html=al(e.html),this.isIFrame=e.isIFrame,this.imageUrl=Ds()?e.imageUrl:ll(e.imageUrl),this.optionBanners=e.optionBanners,this.bannerType=e.bannerType,this.placementId=e.placementId,this.currentChannelLink=this.store.state.ENV.url,this.url=e.url,this.thirdPartyUrl=e.thirdPartyUrl,this.renderFrom=null,this.bannerHtmlType=e.bannerHtmlType,this.isStandAlone=e.isStandAlone,this.positionOnShare=e.positionOnShare,this.views=e.views,this.target=e.target||"_blank",this.trueView=e.trueView,this.click=e.click,this.isDocumentWrite=e.isDocumentWrite,this.isForceSSpTemp=null,this.vastTagsUrl=e.vastTagsUrl,this.ssptk=nl("ssptk"),this.sspPage=nl("ssppage"),this.averageMinutePerView=null,e.isFrequency&&(this.frequency=JSON.parse(e.frequency),this.timeConvert={day:1440,hour:60,minute:1},this.frequencyTimeInMinute=parseInt(this.frequency.frequencyNumber)*this.timeConvert[this.frequency.frequencyType],this.averageMinutePerView=this.frequencyTimeInMinute/parseInt(this.frequency.frequencyView))}isForce(){return this.checkForce()}isMobile(){try{const e=this.query.getZone("id",this.tree.zoneId)[0];return!!e&&e.isMobile}catch(e){return!1}}isResponsive(){const e=this.query.getZone("id",this.tree.zoneId)[0];return!!e&&e.isResponsive}sspTracking(){return nl("ssptk")||nl("ssppage")}isForceSSp(){if(this.isForceSSpTemp)return this.isForceSSpTemp;if(!this.ssptk&&!this.sspPage)return this.isForceSSpTemp=!1,!1;const e=-1!==this.html.indexOf(`"sspid":"${this.ssptk}`)||-1!==this.html.indexOf(`sspbid_${this.ssptk}"`)||-1!==this.html.indexOf(`ssppagebid_${this.sspPage}"`)||-1!==this.html.indexOf(`adslot_${this.sspPage}`);return this.isForceSSpTemp=e,e}checkGifVideoInViewArf(e){if(window.lozad){window.lozad(e,{threshold:.1}).observe()}function t(){let t=document.querySelectorAll(e),n=window.innerHeight,i=window.scrollY,r=i+n;t.forEach((function(e){let t=e.offsetHeight,n=e.getBoundingClientRect().top+i,s=n+t/3,o=n+t/3*2;try{o>=i+100&&s<=r?setTimeout((function(){e.play()}),100):setTimeout((function(){e.pause()}),100)}catch(a){}}))}const n=function(e,t){let n;return function(){const i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(i,r)}),t)}}(t,200);window.removeEventListener("scroll",n,!1),window.removeEventListener("resize",n,!1),window.addEventListener("scroll",n,!1),window.addEventListener("resize",n,!1),t()}async initLibrary(e){const t=Gs.lozad,n=function(){!function(e){if(Ja.push(e),"complete"==document.readyState)Qa();else if(!Ka){if(document.addEventListener){var t=function(){document.removeEventListener("DOMContentLoaded",t,!1),Qa()};document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",Qa,!1)}else if(document.attachEvent){var n=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",n),Qa())};document.attachEvent("onreadystatechange",n),window.attachEvent("onload",Qa),e=!1;try{e=null==window.frameElement}catch(r){}if(document.documentElement.doScroll&&e){var i=function(){if(0!=Ja.length){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(i,1)}Qa()}};i()}}Ka=!0}}((()=>{window.lozad(".lozad-video-arf",{threshold:.1}).observe()}))};"img"===this.bannerType.value&&this.imageUrl.includes(".gif")&&(window.lozad?n():(-1===this.store.state.REMOTE_SCRIPT_REGISTER.indexOf(t)?(this.store.commit("REMOTE_SCRIPT_REGISTER",{url:t,remove:!1}),await ul(null,t,!0,null,this.store,null,n)):(await new Promise((e=>{let t=0;const n=setInterval((()=>{(window.zoneM||t>=20)&&(clearInterval(n),e()),t+=1}),50)})),this.store.commit("REMOTE_SCRIPT_REGISTER",{url:t,remove:!0})),e&&e(t)))}checkForce(){const e=nl("bz"),t=nl("z"),n=this.sspTracking(),i=this.isForceSSp(),r=window.location.hash.split("_")[0].replace("#","");if(n&&i){const e=nl("i"),t=nl("type");return window.banTrackingParam={i:e,type:t,sspid:n,z:this.tree?this.tree.zoneId:null,bz:this.id,zsp:r},this.isMobile()?this.html=`<div id="bansptracking_${n}" data-rel="/mbdata_${n}.js"></div><div id="adm_zone${n}"  data-rel="/mbdata_${n}.js"></div>`:this.html=`<div id="bansptracking_${n}">`,i}return e&&t&&e===this.id&&t===(this.tree?this.tree.zoneId:null)}get cacheBuster(){return this.store.state.LOAD_ID}getEnv(){try{return this.store.ENV}catch(e){return{isPreviewMode:!0}}}isAvailable(e){const t=this.getEnv();if(!this.store.state.IS_PREVIEW){let n;if(e===this.config.AdsType.revenueType.default.value)n=!0;else{const e=this.store.getters.getGlobalFilterResult(this.tree.siteId,this.tree.zoneId),i=new hs(this.optionBanners,t).isPass;n=e&&i}const i={bannerId:this.id,result:n};return this.store.commit("PUSH_CHANNEL_FILTER",i),n}return!0}bannerContent(){try{let e="";if(this.bannerType.isUpload&&"img"===this.bannerType.value)if(this.imageUrl.includes(".gif")&&!zs.gifVideoNotAllowedSite.includes(window.location.hostname)){const t=Date.now();e=`<${this.url?`a href="${this.clickUrlUnEsc()}" target="${this.target}" rel="nofollow" aria-label="arf"`:"div"}>\n              <video autoplay muted loop playsinline class="lozad-video-arf" id="lozad-gif-arf-${this.id}-${t}"\n              poster="${this.imageUrl+".png"}" ${this.isMobile()&&!this.isStandAlone?'width="100%" height="auto"':`width="${this.width}" height="${this.height}"`}  >\n                <source data-src="${this.imageUrl+".mp4"}" type="video/mp4">\n               </video>\n               <script>\n                window.checkGifVideoInViewArf("#lozad-gif-arf-${this.id}-${t}");\n               <\/script>\n            </${this.url?"a":"div"}>`,window.checkGifVideoInViewArf=this.checkGifVideoInViewArf}else e=`<${this.url?`a href="${this.clickUrlUnEsc()}" target="${this.target}" rel="nofollow" aria-label="arf"`:"div"}>\n            <img loading="lazy" src="${this.imageUrl}" ${this.isMobile()&&!this.isStandAlone?'style="width: 100%;height:auto"':""} ${"truyenhinhthanhhoa.vn"==window.location.hostname?`style="width: 100%;height:auto" width="${this.width}" height="${this.height}"`:""} \n          rel="nofollow" alt="">\n          </${this.url?"a":"div"}>`;else e=this.html;return new tl(e,this).replaceMacro()}catch(e){return""}}loggingUrl(e,t,n,i=0){const r=this.tree?this.query.getPlacement("id",this.tree.placementId)[0]:null,s=r?r.campaign:null,o=s?s.id:null,a={};if(a[this.config.loggingConfig.banner.param.dmn]=encodeURIComponent(this.currentChannelLink),a[this.config.loggingConfig.banner.param.zid]=this.tree?this.tree.zoneId:null,a[this.config.loggingConfig.banner.param.pli]=this.placementId,a[this.config.loggingConfig.banner.param.items]=this.id,a[this.config.loggingConfig.banner.param.cmpg]=o,a[this.config.loggingConfig.banner.param.pgid]=this.store.state.LOAD_ID,a[this.config.loggingConfig.banner.param.uid]=this.store.state.UID,a[this.config.loggingConfig.banner.param.cov]=e,a[this.config.loggingConfig.banner.param.cat]=ps(),a[this.config.loggingConfig.banner.param.lc]=(new Os).getCookie("__RC"),1===e){let e=[];try{e=JSON.parse(this.url)}catch(u){e=[this.url]}const t=new tl(e[i],this).replaceMacro();a[this.config.loggingConfig.banner.param.re]=n?encodeURIComponent(t):t}const l=t||this.config.loggingConfig,c=this.isMobile();return new qa(l).bannerLoggingUrl(a,c)}logging(e){if(this.store.state.IS_PREVIEW)return;const t=this.config.loggingConfig;let n=[];try{n=JSON.parse(this.thirdPartyUrl)}catch(r){n=[{url:this.thirdPartyUrl,cov:0}]}const i=this;n&&n.length>0&&n.filter((t=>t.cov===e)).forEach((e=>{const t=new Image,n=new tl(e.url,i).replaceMacro();t.src=n})),new qa(t).logging(this.loggingUrl(e))}clickUrlEsc(e){return encodeURIComponent(this.loggingUrl(1,null,!0,e))}clickUrlUnEsc(e){return this.loggingUrl(1,null,!0,e)}get expandLog(){return this.loggingUrl(10,null,!0)}get vast(){try{if(""===this.vastTagsUrl)return"";const e=this.store.state.UID,t=window.__admloadPageId;let n="";return void 0!==window.ADS_CHECKER&&(n=window.__admloadPageIdc),void 0!==window.ADM_CHECKER&&(n=window.__admloadPageRdIdc),encodeURIComponent(`${this.vastTagsUrl}&domain=${encodeURIComponent(this.currentChannelLink)}&zoneId=${this.tree?this.tree.zoneId:null}&category=${ps()}&pgid=${t}&uid=${e}&dgid=${n}`)}catch(e){return""}}}function dl(e,t){const n=-Math.max(e.length%t,0);return n?e.slice(n):[]}class pl extends Za{constructor(e){super(e),this.id=`${e.id}`,this.banners=e.banners,this.startTime=e.startTime,this.endTime=e.endTime,this.relative=e.relative,this.cpdPercent=e.cpdPercent,this.isRotate=e.isRotate,this.campaign=e.campaign,this.shareId=e.shareId,this.positionOnShare=e.positionOnShare,this.campaignId=e.campaignId,this.zoneId=e.zoneId,this.shareId=e.shareId,this.rotateTime=e.rotateTime,this.bannerInvolves=e.bannerInvolves,this.tree=this.tree||{},this.trueRevenueType=e.trueRevenueType,this.passTree()}weightValue(e){return 1===this.banners.length?this.banners[0][e]:super.weightValue(e)}passTree(){this.tree.placementId=this.id;for(let e=0;e<this.banners.length;e+=1)this.banners[e].tree={zoneId:this.tree.zoneId,shareId:this.tree.shareId,sharePlacementId:this.tree.sharePlacementId,placementId:this.tree.placementId,siteId:this.tree.siteId},this.banners[e].query=this.query,this.banners[e].positionOnShare=this.positionOnShare}allBanners(){try{return this.banners.map((e=>new hl(e)))}catch(e){return[]}}getRelativeInSamePosition(e,t){try{const n=[],i=(e||this.query.getShare("id",this.tree.shareId)[0]).sharePlacements,r=i.map((e=>e.placement instanceof pl?e.placement:new pl(e.placement))).filter((e=>(e.positionOnShare===this.positionOnShare||!t)&&e.isAvailable()&&e.relative&&0!==e.relative));for(let e=0;e<r.length;e+=1){const t=r[e].getRelative();n.push(t)}return n}catch(n){return[]}}getRelativeInSamePositionInZone(){try{const e=this.query.getZone("id",this.tree.zoneId)[0];return e.shares.reduce(((e,t,n)=>0===n?t.id===this.tree.shareId?this.getRelativeInSamePosition(t,!0):this.getRelativeInSamePosition(t,!1):t.id===this.tree.shareId?e.concat(this.getRelativeInSamePosition(t,!0)):e.concat(this.getRelativeInSamePosition(t,!1))),0)}catch(e){return[]}}filterBanner(e){try{let t;t=this.allBanners().length>1&&Array.isArray(e)?this.allBanners().filter((t=>-1===e.indexOf(t.id))):this.allBanners();const n=new Os;return t.filter((e=>e.isAvailable(this.placementType())&&!n.getStorage(`arfBannerFrequency-${e.id}`)))}catch(t){return[]}}isRunThisCampaignType(e){return this.campaign.revenueType===e}getRelative(){return{zoneId:this.tree.zoneId,campaignId:this.campaign.id,relativeCode:this.relative,placementId:this.id}}sendRelativeCodeToState(){const e=this.getRelativeInSamePositionInZone(),t=this.getRelative();if(t&&t.relativeCode){t.check=!0,this.store.commit("SET_RELATIVE_PLACEMENT",t);e.filter((e=>e.campaignId!==t.campaignId&&e.relativeCode!==t.relativeCode)).map((e=>{e.check=!1,this.store.commit("SET_RELATIVE_PLACEMENT",e)}))}else e.map((e=>{e.check=!1,this.store.commit("SET_RELATIVE_PLACEMENT",e)}))}isPlacementType(e){return this.revenueType===e}forceBanner(e){return e.filter((e=>e.isForce()))}isForce(){return this.forceBanner(this.allBanners()).length>0}activeBanner(e,t){try{let n;e=e||[];const i=this.forceBanner(this.allBanners());if(n=i.length>0?i:this.filterBanner(),e.indexOf("rotate")>-1&&Array.isArray(t)&&t.length>0){const e=n.length;if(t.length>=e){const e=t[t.length-1];e&&(t=[e])}const i=dl(t,e).map((e=>e.id));n=n.filter((e=>-1===i.indexOf(e.id)))}else if(-1===e.indexOf("rotate")&&Array.isArray(t)&&t.length>0){const e=[this.config.AdsType.revenueType.cpm.value,this.config.AdsType.revenueType.pb.value,this.config.AdsType.revenueType.default.value,this.config.AdsType.revenueType.cpd.value];let i=[];for(let n=0;n<e.length;n+=1){const r=e[n],s=this.bannerInvolves.filter((e=>e.revenueType===r&&-1===t.map((e=>e.id)).indexOf(e.id)));if(s.length>0){i=s;break}}n=n.concat(i.map((e=>e instanceof hl?e:new hl(e)))).filter((e=>-1===t.map((e=>e.id)).indexOf(e.id)))}return n.length>0&&new Zs(n).baseOnWeight("weight")}catch(n){return!1}}isInPageLoad(){return this.campaignId===this.store.PAGE_LOAD.activePageLoad}placementType(){return this.campaign.revenueType===this.config.AdsType.revenueType.default.value?this.config.AdsType.revenueType.default.value:this.revenueType}isFitArea(e){return!0}turnCpd(){return this.placementType()===this.config.AdsType.revenueType.default.value?0:this.cpdPercent}isAvailable(){const e=this.campaign.startTime,t=this.campaign.endTime,n=this.filterBanner().length,i=this.isFitArea(),r=nl("ignoretime")||!0;return this.campaign.revenueType===this.config.AdsType.revenueType.default.value||(r||ss(e,t)&&ss(this.startTime,this.endTime))&&n>0&&i}}class fl extends Za{constructor(e){try{super(e),this.id=e.id,this.positionOnShare=e.positionOnShare,this.placementId=e.placementId,this.shareId=e.shareId,this.passTree(e);let t=null;e.placement instanceof pl?(t=e.placement,t.shareId=e.shareId):e.placement&&(e.placement.positionOnShare=this.positionOnShare,t=new pl(e.placement,this.store),t.shareId=e.shareId),this.placement=t,this.weight=t.weight,this.cpdPercent=t.cpdPercent}catch(t){}}passTree(e){e.placement&&(this.tree.sharePlacementId=this.id,e.placement.tree={zoneId:this.tree.zoneId,shareId:this.tree.shareId,sharePlacementId:this.tree.sharePlacementId,siteId:this.tree.siteId},e.placement.query=this.query)}isFitArea(e){return!!this.placement&&this.placement.isFitArea(e)}isForce(){return!!this.placement&&this.placement.isForce()}area(){return this.placement?{width:this.placement.width,height:this.placement.height}:null}isInPageLoad(){return!!this.placement&&this.placement.isInPageLoad()}placementType(){return this.placement?this.placement.placementType():null}isAvailable(){return!!this.placement&&(this.placement&&this.placement.isAvailable())}}function ml(e){const t={},n=[];for(let i=0;i<e.length;i+=1)t[e[i]]||(t[e[i]]=!0,n.push(e[i]));return n}class gl extends Za{constructor(e){try{super(e),this.id=`${e.id}`,this.sharePlacements=e.sharePlacements||[],this.sharePlacements=this.sharePlacements.filter((e=>e.placement)),this.type=e.type,this.format=e.format,this.structure=e.structure,this.zoneId=e.zoneId,this.siteId=e.siteId,this.totalShare=e.totalShare,this.isExtra=e.isExtra,this.isContainRelative=e.isContainRelative,this.currentTrack=null,this.isRotate=e.isRotate,this.isPageLoad=e.isPageLoad,this.rotateTime=e.rotateTime,this.relative=this.store.state.RELATIVE,this.isTemplate=e.isTemplate,this.template=al(e.template),this.reSelectRelativeFromZone=e.reSelectRelativeFromZone,this.freeTurns=e.freeTurns,this.only=e.only||!1,this.tree={zoneId:this.zoneId,shareId:this.id,siteId:this.siteId},this.shareAppearWithCpd=e.shareAppearWithCpd,this.appeared=e.appeared,"single"===this.type&&this.sharePlacements.map((e=>{e.positionOnShare=0,e.placement.positionOnShare=0})),this.passTree()}catch(t){}}passTree(){for(let e=0;e<this.sharePlacements.length;e+=1)this.tree.shareId=this.id,this.sharePlacements[e].tree={zoneId:this.tree.zoneId,shareId:this.tree.shareId,siteId:this.siteId},this.sharePlacements[e].query=this.query}cpdTurnInOnePosition(e=null,t=[]){try{const n=this.allSharePlacements().filter((n=>n.isAvailable()&&(!e||n.positionOnShare===e)&&t.indexOf(n.placement.id)<0));if(0===n.length)return{positionOnShare:e,turnCpd:0};const i=[];for(let e=0;e<n.length;e+=1){const t=n[e],r=i.filter((e=>e.positionOnShare===t.positionOnShare))[0];r?r.turnCpd+=t.placement.turnCpd():i.push({positionOnShare:t.positionOnShare,turnCpd:t.placement.turnCpd()})}let r=i[0];for(let e=0;e<i.length;e+=1){const t=i[e];r.turnCpd<t.turnCpd&&(r=t)}return r}catch(n){return 0}}totalCpd(){let e=this.isPageLoad?this.allSharePlacementsAvailableInPageLoad():this.allSharePlacementsAvailable();0===e.length&&(e=this.allSharePlacementsAvailable());const t=this.shareFormat();let n=0;for(let i=0;i<t.length;i+=1){const e=t[i].positionOnShare;n+=this.cpdTurnInOnePosition(e).turnCpd}return n}heighestCpmWeight(e){return this.allSharePlacements().filter((t=>t.isAvailable()&&(t.positionOnShare===e||!e))).reduce(((e,t)=>{const n=t.placement.revenueType===this.config.AdsType.revenueType.cpm.value?t.placement.weight:0;return e<n&&(e=n),e}),0)}allSharePlacements(){try{return this.sharePlacements.map((e=>e instanceof fl?e:new fl(e)))}catch(e){return[]}}forceSharePlacement(){return this.allSharePlacements().filter((e=>e.isForce()))[0]}allSharePlacementsAvailable(){try{return this.allSharePlacements().filter((e=>e.isAvailable()))}catch(e){return[]}}allSharePlacementsInPageLoad(e){try{if(!this.isPageLoad)return[];let t=[];const n=this.store.state.PAGE_LOAD.activePageLoad,i=this.allSharePlacementsAvailable(),r=e?this.shareFormat().filter((t=>t.positionOnShare===e)):this.shareFormat();for(let e=0;e<r.length;e+=1){const s=i.filter((t=>t.positionOnShare===r[e].positionOnShare)).filter((e=>e.placement.campaignId===n.campaignId));s.length>0&&(t=t.concat(s))}return t}catch(t){return[]}}allSharePlacementsAvailableInMonopolyCampaign(){try{let e=[];const{monopolyCampaign:t}=this.store.state.PAGE_LOAD,n=this.allSharePlacementsAvailable(),i=this.shareFormat();for(let r=0;r<i.length;r+=1){const s=n.filter((e=>e.positionOnShare===i[r].positionOnShare)),o=t?s.filter((e=>e.placement.campaignId===t.campaignId)):[];o.length>0&&(e=e.concat(o))}return e}catch(e){return[]}}isMonopoly(){return this.allSharePlacementsAvailableInMonopolyCampaign().length>0}allSharePlacementsAvailableInPageLoad(){try{let e=[];const{activePageLoad:t}=this.store.state.PAGE_LOAD,n=this.allSharePlacementsAvailable(),i=this.shareFormat();for(let r=0;r<i.length;r+=1){const s=n.filter((e=>e.positionOnShare===i[r].positionOnShare)),o=s.filter((e=>e.placement.campaignId===t.campaignId));e=o.length>0?e.concat(o):e.concat(s)}return e}catch(e){return[]}}shareFormat(){try{return this.type===this.config.AdsType.shareType.single?[{positionOnShare:0,area:{width:this.width,height:this.height},totalShare:this.totalShare||3}]:this.format.split(",").map(((e,t)=>({positionOnShare:t+1,area:parseInt(e,10),totalShare:this.totalShare||3})))}catch(e){}}sharesHistory(e){try{const t=this.store.getters.zoneTrackLoad(this.zoneId,this.totalShare);return e?t.turns:t.turns.filter((e=>e.shareId===this.id))}catch(t){}}isAvailable(){try{const e=this.allSharePlacementsAvailable(),t=e.filter((e=>0!==e.positionOnShare)),n=e.filter((e=>0===e.positionOnShare));this.type===this.config.AdsType.shareType.single||this.format.split(",").map((e=>parseInt(e,10)));return t.length>0||n.length>0}catch(e){return!1}}forceCpdFlag(){return this.store.state.CPD_FORCE}cpmFlag(){return this.store.state.FULL_CPM}isFullCpm(){return!1}filterSharePlacement(e,t,n,i){return e.filter((e=>this.relative.length>0&&t.value===n.relative.value&&t.value!==n.pr.value?this.relative.filter((t=>{const n=e.placement.getRelative();return t.campaignId===n.campaignId&&t.relativeCode===n.relativeCode&&t.check})).length>0:e.placementType()===t.value&&-1===i.indexOf(e.placement.id)))}filterSharePlacementBaseOnRevenuePriority(e,t,n,i,r,s,o){try{let a;const l=this.store.state.PAGE_LOAD.CAMPAIGNS;if((window.location.href.indexOf("tuoitre.vn")>1||window.location.href.indexOf("thanhnien.vn")>1||window.location.href.indexOf("cnnd.vn")>1)&&!this.store.state.PAGE_LOAD.EXIST_MONOPOLY){if(a=(this.store.state.PAGE_LOAD.activePageLoad.campaignId?this.allSharePlacementsAvailableInPageLoad():e).filter((e=>e.positionOnShare===i)),""==this.store.state.PAGE_LOAD.activePageLoad.campaignId){const e=a.filter((e=>{if(a.length>2&&"pb"==e.placement.revenueType)return!1;let t=0;return l.forEach((n=>{n.campaignId==e.placement.campaignId&&t++})),!(t>0)}));if(e.length)a=e;else{const e=a.filter((e=>{let t=0;return"jmq56mjl"==e.placement.campaignId&&t++,!(t>0)}));e.length&&(a=e)}}}else{const t=e.filter((e=>e.positionOnShare===i));a=t}const c=this.config.AdsType.revenueType,u=this.forceCpdFlag(),h=o||[];let d,p,f;if(qs(c,(e=>{if(-1!==h.indexOf(e)||-1!==t.indexOf(e))return"continue";const n=c[e];d?d.priority>n.priority&&(d=n):d=n})),!d.isForce&&r>0){let e=[];if(qs(c,(n=>{if(-1!==h.indexOf(n)||-1!==t.indexOf(n))return"continue";const i=c[n];i.isForce||i.isBackup||e.push(i)})),0===this.relative.length&&(e=e.filter((e=>e.value!==c.relative.value))),e.length>0){const t=this.cpdTurnInOnePosition(i,n).turnCpd;if(f=this.isFullCpm(),u&&t>0)for(let n=0;n<e.length;n+=1){const t=e[n];t.value===this.config.AdsType.revenueType.cpd.value?t.weight=100:t.weight=0}else{let n=0;const i=s<=this.store.state.TURNS_LEFT?s:r;if(i-(f?0:1)<=t&&t>0&&!1!==u){const t=e.filter((e=>e.value===this.config.AdsType.revenueType.cpd.value));t.length>0&&(e=t)}n=!1===u&&t<i?0:t/i;const o=n/(()=>i===this.totalShare?2/3:1)(),a=1-o;for(let t=0;t<e.length;t+=1){const n=e[t];n.weight=0,n.value===this.config.AdsType.revenueType.cpd.value?n.weight+=o:e.length-1>0?n.weight=a/(e.length-1):n.weight=a}}d=new Zs(e).baseOnField("weight")}}if(h.push(d.value),p=this.filterSharePlacement(a,d,c,n),!p.length>0){if(h.length!==Object.keys(c).length){return this.filterSharePlacementBaseOnRevenuePriority(e,t,n,i,r,s,h)}p=a,d=null}return{revenueType:d,sharePlacements:p}}catch(a){return{revenueType:null,sharePlacements:[]}}}activeSharePlacement(e,t,n,i,r,s,o){try{const a=this.filterSharePlacementBaseOnRevenuePriority(e,t,n,i,s,o),l=this.query.getZone("id",this.tree.zoneId)[0].isResponsive,c=a.sharePlacements.filter((e=>l||e.isFitArea(r)));if(a.revenueType&&a.revenueType.value===this.config.AdsType.revenueType.cpd.value)return new Zs(c).baseOnWeight("cpdPercent");return new Zs(c).baseOnWeight("weight")}catch(a){return null}}turnsLeft(e){return this.isPageLoad?this.store.state.TURNS_LEFT:e.turnsLeft}getTrack(){try{return this.store.getters.zoneTrackLoad(this.zoneId,this.totalShare)}catch(e){return[]}}limitTurn(){const e=this.turnsLeft(this.getTrack()),t=this.store.state.ZONE_FULL_CPD.indexOf(this.zoneId)>-1;if(this.only)return this.totalShare-this.appeared<e?this.totalShare-this.appeared:e;return(this.shareFormat().reduce(((e,n)=>{const i=n.positionOnShare,r=this.cpdTurnInOnePosition(i).turnCpd,s=this.heighestCpmWeight(i)&&!t?1:0,o=r?r+s:this.totalShare;return e<o&&(e=o),e}),0)||this.totalShare)-this.appeared}activeSharePlacements(e,t){try{const n=this.forceSharePlacement(),i=this.shareFormat(),r=[],s=this.sharesHistory(!0);let o;const a=this.allSharePlacementsAvailableInMonopolyCampaign();if(a.length>0)o=a;else if(localStorage.getItem("__flsarf"))o=e||!this.isPageLoad||this.totalShare===this.turnsLeft(this.currentTrack)?this.allSharePlacementsAvailable():this.allSharePlacementsAvailableInPageLoad();else{const t=this.totalShare===this.turnsLeft(this.currentTrack)&&!localStorage.getItem("__flsarf");o=e||!this.isPageLoad||t?this.allSharePlacementsAvailable():this.allSharePlacementsAvailableInPageLoad(),localStorage.setItem("__flsarf",1)}0===o.length&&(o=this.allSharePlacementsAvailable());for(let l=0;l<i.length;l+=1){let a=o.map((e=>e));const c=i[l].area,u=i[l].positionOnShare,h=i[l].totalShare,d=[],p=[];let f,m=null,g=[],v=0;if(n&&n.positionOnShare===u)f=n,r.push(f);else{if(e){if(e&&t.length>0){const e=a.filter((e=>e.positionOnShare===u)).length;let n=t.filter((e=>e.positionOnShare===u));if(n.length>=e){const e=n[n.length-1];n=[e],t=t.filter((e=>e.positionOnShare!==u)).push(e)}const i=dl(n,e).map((e=>e.id));a=a.filter((e=>-1===i.indexOf(e.id)))}}else{const e=a.filter((e=>e.positionOnShare===u&&e.placement.revenueType===this.config.AdsType.revenueType.pr.value));if(e.length>0)f=new Zs(e).baseOnWeight("weight");else{const e=dl(s,h).map((e=>e.placements)).filter((e=>Array.isArray(e)&&e.length>0&&e.filter((e=>e.position===u)))).map((e=>e[0])),t=this.cpdTurnInOnePosition(u).turnCpd,n=e.length>0?e.reduce(((e,t)=>{const n=this.query.getPlacement("id",t.id)[0];return n?e+n.cpdPercent:e}),0):0,i=this.store.state.TURNS_LEFT;v=(i>this.limitTurn()?this.limitTurn():i)-(t-n),ml(e.map((e=>e.id))).map((t=>{const n=e.filter((e=>e.id===t)).length,i=a.filter((e=>e.placement.id===t))[0];if(i){const e=i.placement.cpdPercent;i.placement.revenueType===this.config.AdsType.revenueType.cpd.value&&e>0&&n>=e&&p.push(t)}})),this.relative.length>0&&(g=o.filter((e=>e.positionOnShare===u&&this.relative.filter((t=>t.campaignId===e.placement.campaign.id&&t.relativeCode===e.placement.relative&&t.check)).length>0)),0===g.length&&(a=a.filter((e=>this.relative.filter((t=>t.check?0===e.placement.relative||t.campaignId===e.placement.campaign.id&&t.relativeCode===e.placement.relative:t.campaignId!==e.placement.campaign.id||t.relativeCode!==e.placement.relative)).length>0))))}}if(g.length>0){f=this.activeSharePlacement(g,d,[],u,c,v,this.limitTurn());let e=null;if(m||(m=this.relative.filter((e=>e.campaignId===f.placement.campaignId&&!0===e.check))[0]),e=this.relative.filter((e=>e.campaignId===f.placement.campaignId&&(e.campaignId!==m.campaignId||e.relativeCode!==m.relativeCode)&&!0===e.check))[0],f.placement.revenueType===this.config.AdsType.revenueType.cpd.value&&p.indexOf(f.placement.id)>-1){const t=this.zoneId,n=m.zoneId;this.store.commit("SYNC_TURN",{syncId:t,withId:n}),e&&this.store.commit("SYNC_TURN",{syncId:e.zoneId,withId:m.zoneId})}}else f=this.activeSharePlacement(a,d,p,u,c,v,this.limitTurn()),f||(f=this.activeSharePlacement(a,d,[],u,c,v,this.limitTurn()));f&&(f.placement.sendRelativeCodeToState(),r.push(f))}}return r}catch(n){return[]}}}class vl{constructor(e,t,n,i){if(this.store=e,e&&!i)this.data=e.state.ZONE_DATA;else if(t)this.data={},this.data[t.id]=t;else if(n){const e={propsData:{model:n}};this.data={},this.data[n.id]=e}else this.data=[e.state.ZONE_DATA[i]]}getZone(e,t){try{const n=[];for(const i in this.data)this.data[i].propsData.model[e]===t&&n.push(this.data[i].propsData.model);return n}catch(n){return[]}}getShare(e,t){try{const n=[];for(const i in this.data){const r=this.data[i].propsData.model.shares;if(r.length>0)for(let i=0,s=r.length;i<s;i+=1){const s=r[i];if(!s)continue;let o="";o="id"===e&&t.length>8&&"s"===t[0]?t.substring(1):t,s&&s[e]===o&&n.push(s)}}return n}catch(n){return[]}}getShareplacement(e,t){try{const n=[];for(const i in this.data){const r=this.data[i].propsData.model.shares;if(r.length>0)for(let i=0,s=r.length;i<s;i+=1){const s=r[i];if(s){s.sharePlacements=s.sharePlacements||[];for(let i=0,r=s.sharePlacements.length;i<r;i+=1){const r=s.sharePlacements[i];r&&(r&&r[e]===t&&n.push(r))}}}}return n}catch(n){return[]}}getPlacement(e,t){try{const n=[];for(const i in this.data){const r=this.data[i].propsData.model.shares;if(r.length>0)for(let i=0,s=r.length;i<s;i+=1){const s=r[i];if(s){s.sharePlacements=s.sharePlacements||[];for(let i=0,r=s.sharePlacements.length;i<r;i+=1){const r=s.sharePlacements[i].placement;if(!r)continue;let o="";o="id"===e&&t.length>8&&"p"===t[0]?t.substring(1):t,r[e]&&r[e]===o&&n.push(r)}}}}return n}catch(n){return[]}}getBanner(e,t){try{const n=[];for(const i in this.data){const r=this.data[i].propsData.model.shares;if(r.length>0)for(let i=0,s=r.length;i<s;i+=1){const s=r[i];if(s){s.sharePlacements=s.sharePlacements||[];for(let r=0,o=s.sharePlacements.length;r<o;r+=1){const o=s.sharePlacements[r];if(!o)continue;const a=o.placement.banners;for(let r=0;r<a.length;r+=1){const r=a[i];if(!r)continue;let s="";s="id"===e&&t.length>8&&"b"===t[0]?t.substring(1):t,r&&r[e]===s&&n.push(r)}}}}}return n}catch(n){return[]}}getFunction(e){return"banner"===e?this.getBanner:"placement"===e?this.getPlacement:"share"===e?this.getShare:this.getZone}}const yl=!Ds();class _l extends Za{constructor(e){try{super(e),this.id=`${e.id}`,this.shares=e.shares||[],this.globalFilters=e.site.globalFilters,this.currentChannelLink=this.store.state.ENV.url,this.trackLoad=this.store.state.TRACK_LOAD,this.relative=this.store.state.RELATIVE,this.env=this.store.state.ENV,this.tree={zoneId:this.id},this.isTemplate=e.isTemplate,this.template=al(e.template),this.site=e.site,this.isPageLoad=e.isPageLoad,this.isMobile=e.isMobile,this.groupSSP=e.groupSSP&&"string"==typeof e.groupSSP?JSON.parse(e.groupSSP):e.groupSSP,this.query=new vl(null,null,this),this.rawData=e,this.isAgency=e.site.agencyVariable,this.isAgency&&function(e,t,n){if(yl){window.agencyArf=n,window.typeAgencyArf=t,document.body.style.margin=0;const r=window.parent.document.querySelector(`#iframezone-${e} iframe`);r.scrolling="no",r.style.border="0",r.frameborder="0",r.width="100%";var i=setInterval((()=>{0!=r.contentDocument.body.clientHeight&&(r.height=r.contentDocument.body.clientHeight)}),100);setTimeout((()=>{clearInterval(i)}),5e3)}}(e.id,e.site.agencyVariable,e.site.siteSSPId),this.passTree()}catch(t){}}commitBanner(){this.store.state.ZONE_BANNERS[this.id]||this.store.commit("BANNER_CHECK",{zoneId:this.id,totalShare:this.totalShare,banners:this.banners()})}banners(){return this.shares.reduce(((e,t)=>{let n=e||[];if(!t.sharePlacements)return n;const i=t.sharePlacements.reduce(((e,t)=>{try{const n=t.placement.banners.map((e=>(e.tree={siteId:this.site.id,zoneId:this.id},new hl(e)))).filter((e=>e.isAvailable())).map((e=>e.id));let i=e||[];return i=i.concat(n),i}catch(n){return[]}}),0);return n=n.concat(i),n}),0)}passTree(){for(let e=0;e<this.shares.length;e+=1)this.shares[e].isPageLoad=this.isPageLoad,this.shares[e].siteId=this.site.id,this.shares[e].query=this.query}get totalShare(){return this.isPageLoad?this.store.state.TOTAL_SHARE:this.rawData.totalShare}turnsLeft(e){return this.isPageLoad?this.store.state.TURNS_LEFT:e.turnsLeft}passGlobalFiltersToBanner(){try{this.shares.map((e=>e.sharePlacements.filter((e=>null!==e.placement)).map((e=>e.placement.banners.map((e=>e.globalFilters=this.globalFilters))))))}catch(e){throw new Error(e)}}allShares(){try{return this.shares.map((e=>e instanceof gl?e:new gl(e,this.store)))}catch(e){return[]}}allHistory(){try{return this.store.getters.zoneTrackLoad(this.id,this.totalShare).turns}catch(e){return[]}}getTrack(){try{return this.store.getters.zoneTrackLoad(this.id,this.totalShare)}catch(e){return[]}}forceCpdFlag(){return this.store.state.CPD_FORCE}isFullCpm(){return!1}filterShare(e,t,n){try{const i=this,r=this.totalShare;let s=this.allShares().filter((e=>e.isAvailable()));if(n)return{values:s,turnAvailable:null};const o=s.filter((e=>e.isMonopoly()));o.length>0&&(s=o);const a=dl(e.turns,r),l=this.turnsLeft(e);let c=0,u=0,h=[],d=[];const p=s.filter((e=>e.allSharePlacementsInPageLoad().length>0));p.length>0&&(s=p);for(let e=0,t=s.length;e<t;e+=1){const n=s[e],r=n.cpdTurnInOnePosition().turnCpd,o=a.filter((e=>e.shareId===n.id)).reduce(((e,t)=>t.placements.reduce(((e,t)=>{const n=t.id,r=i.query.getPlacement("id",n)[0];return e||!!r&&(r.revenueType===this.config.AdsType.revenueType.cpd.value&&r.cpdPercent>0)}),0)?e+1:e),0),d=a.filter((e=>e.shareId===n.id)).length;n.shareAppearWithCpd=o,n.appeared=d;if(n.allSharePlacements().filter((e=>e.isAvailable()&&!e.placement.isRunThisCampaignType(this.config.AdsType.revenueType.default.value))).reduce(((e,t)=>e||t.placement.isPlacementType(this.config.AdsType.revenueType.pr.value)),0)){h=[n];break}if(r){const e=r-o;c+=e>0?e:0}r&&o<r&&h.push(n),u=l<c?0:l-c,e===t-1&&u>0&&s.forEach((e=>{(this.isPageLoad?e.allSharePlacementsAvailableInPageLoad():e.allSharePlacementsAvailable()).length>0&&0===h.filter((t=>t.id===e.id)).length&&h.push(e)}))}if(0===h.length&&u>0&&(h=s),t.length>0)for(let e=0;e<t.length;e+=1){const n=t[e];if(d=h.filter((e=>e.allSharePlacements().reduce(((e,t)=>e||t.placement.campaignId===n.campaignId&&t.placement.relative===n.relativeCode&&n.check),0))),0===d.length&&(d=s.filter((e=>e.allSharePlacements().reduce(((e,t)=>e||t.placement.revenueType===this.config.AdsType.revenueType.cpd.value&&t.placement.campaignId===n.campaignId&&t.placement.relative===n.relativeCode&&n.check),0)))),d.length>0){h=d;break}}return h.forEach((e=>{e.freeTurns=u})),{values:h,turnAvailable:null}}catch(i){return{values:[],turnAvailable:null}}}forceShare(e){return this.allShares().filter((t=>t.forceSharePlacement()&&(!Array.isArray(e)||-1===e.indexOf(t.id))))[0]}activeShare(e,t,n){try{const i=this.forceShare(e);if(i)return i;const r=this.getTrack(),s=this.allShares().filter((t=>!Array.isArray(e)||-1===e.indexOf(t.id)));if(0===s.length)return null;if(n){const e=s.filter((e=>e.id===n))[0];if(e)return e}const o=this.filterShare(r,this.relative,t);o.values=o.values.filter((t=>!Array.isArray(e)||-1===e.indexOf(t.id)));const a=o.values.reduce(((e,t)=>e+t.totalCpd()),0);this.store.commit("TOTAL_CPD_RUNNING",{zoneId:this.id,cpd:a});let l=s[0];if(1===o.values.length)l=o.values[0],l.only=!0;else if(""===r.nextTurn.shareId){let e=1,t=0,n=0;o.values.map((n=>{const i=n.cpdTurnInOnePosition().turnCpd/this.totalShare,r=n.heighestCpmWeight();t+=r,i>0&&(e-=i)})),e=parseFloat(e.toFixed(1));const i=this.forceCpdFlag(),r=this.isFullCpm(),s=parseFloat((2/3).toPrecision(10)),a=parseFloat((1/3).toPrecision(10));for(let l=0;l<o.values.length;l+=1){const c=o.values[l];let u=c.cpdTurnInOnePosition().turnCpd/this.totalShare;const h=c.heighestCpmWeight(),d=c.shareAppearWithCpd,p=c.cpdTurnInOnePosition().turnCpd>d;p||(u=0),0===e&&p?(c.weight=u,this.store.commit("ZONE_FULL_CPD",this.id)):(!0===i||null===i||0===t?(c.weight=0,p&&!0===i?(c.weight=u,n+=h):!0===i&&u>0?c.weight=0:!0===i&&0===u&&(c.weight=h*e/t),u>0&&(null===i||0===t)?(c.weight=u,n+=h):null===i&&(c.weight=0===t?0:h*e/(t-n)),c.weight=parseFloat(c.weight.toPrecision(10)),c.weight=parseFloat(((c.weight-(u<=0?a*(0!==h&&0!==t?h/t:0):0))/s).toPrecision(10)),!r&&t>0&&e>0&&c.cpdTurnInOnePosition().turnCpd>0&&this.turnsLeft(this.getTrack())-1<=c.cpdTurnInOnePosition().turnCpd-d&&(c.weight=9999),c.weight<0&&(c.weight=0)):!1===i&&(c.weight=0!==h&&0!==t?h/t:0),0===c.limitTurn()&&(c.weight=0))}l=new Zs(o.values).baseOnWeight("weight")}else l=o.values.filter((e=>e.id===r.nextTurn.shareId))[0];return l||e||(l=new Zs(this.allShares()).random()),l&&(l.currentTrack=r,l.totalShare=this.totalShare,l.env=this.env,l.isPageLoad=this.isPageLoad),l}catch(i){return null}}async initLibrary(e){const t=this.isMobile,n=Gs.commons||`${Gs.url}${Gs.admcorearf}`,i=`${Gs.url}${Gs.mb_core}`;t?window.zoneM||-1!==this.store.state.REMOTE_SCRIPT_REGISTER.indexOf(i)?(await new Promise((e=>{let t=0;const n=setInterval((()=>{(window.zoneM||t>=10)&&(clearInterval(n),e()),t+=1}),100)})),this.store.commit("REMOTE_SCRIPT_REGISTER",{url:i,remove:!0})):(this.store.commit("REMOTE_SCRIPT_REGISTER",{url:i,remove:!1}),await ul(null,i,!0,null,this.store)):window.ADS_CHECKER||(-1===this.store.state.REMOTE_SCRIPT_REGISTER.indexOf(n)&&(this.store.commit("REMOTE_SCRIPT_REGISTER",{url:n,remove:!1}),await ul(null,n,!0,null,this.store)),await new Promise((e=>{let t=0;if(window.ADS_CHECKER)e();else{const n=setInterval((()=>{const i=window.ADS_CHECKER;i&&(clearInterval(n),e(i)),t>=5&&(clearInterval(n),e()),t+=1}),100)}})),this.store.commit("REMOTE_SCRIPT_REGISTER",{url:n,remove:!0})),e&&e()}loggingUrl(){const e={};e[this.config.loggingConfig.zone.param.dmn]=encodeURIComponent(this.currentChannelLink),e[this.config.loggingConfig.zone.param.zid]=this.id,e[this.config.loggingConfig.zone.param.pgid]=this.store.state.LOAD_ID,e[this.config.loggingConfig.zone.param.uid]=this.store.state.UID;const t=new Os;e[this.config.loggingConfig.zone.param.lc]=t.getCookie("__RC");const n=t.getCookie("__uif");try{if(n){const t={};n.split("|").forEach((e=>{const[n,i]=e.split(":");t[n]=i}));t.__ui;let i=t.__uid||"",r=t.__create||"";e[this.config.loggingConfig.zone.param.uid]=i||this.store.state.UID,e[this.config.loggingConfig.zone.param.ui]=i,e[this.config.loggingConfig.zone.param.cr]=r}else{let n=t.getCookie("__create"),i=t.getCookie("__uid");e[this.config.loggingConfig.zone.param.ui]=i,e[this.config.loggingConfig.zone.param.uid]=i||this.store.state.UID,e[this.config.loggingConfig.zone.param.cr]=n}}catch(i){}return new qa(this.config.loggingConfig).zoneLoggingUrl(e)}logging(){this.store.state.IS_PREVIEW||new qa(this.config.loggingConfig).logging(this.loggingUrl())}}function wl(e,t,n,i){!function(e,t,n,i){if(!e.css)return;const r=t;let s=e.outputCss||`#${r}-${e.id}{\n        ${e.css}\n      }`;n=s,i(t,e,n,e.id)}(t,e,n,((e,t,n,i)=>{!function(e,t,n,i){if(!n)return;const r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.id=`style-${e}-${i||t.id}`,s.type="text/css";const o=n||"";s.styleSheet?s.styleSheet.cssText=o:s.appendChild(document.createTextNode(o));r.appendChild(s)}(e,t,n,i)}))}class bl{constructor(e){this.observerConfig={attributes:!0,childList:!0,characterData:!0,subtree:!0},this.mutation=MutationObserver?new MutationObserver(e):()=>{}}start(e,t){this.mutation.observe(e,t||this.observerConfig)}startAfter(e,t){setTimeout((()=>{this.mutation.observe(e,this.observerConfig)}),t)}disconnect(){this.mutation.disconnect()}disconnectAfter(e,t){setTimeout((()=>{this.mutation.disconnect(),t&&t()}),e)}}class El{constructor(e,t,n,i){this.bannerComponent=e,this.bannerObject=t,this.isMobile=i,this.src=this.getIframeSrc(),this.replaceMacro(),this.el=this.createIframe(n),this.observe=null}getIframeSrc(){const e=[],t=this.bannerObject.html.match(/<iframe\b[^>]*>([\s\S]*?)<\/iframe>/gm);if(t)for(let n=0,i=t.length;n<i;n+=1){let i="";const r=t[n].match(/src="([^"]*)"/gi);if(r){i=r[0].replace(/src="([^"]*)"/gi,"$1"),e.push(i)}}return e[0]}createIframe(e){const t=document.createElement("iframe");return t.id=`iframe${this.bannerObject.tree?`-${this.bannerObject.tree.zoneId}`:""}-${this.bannerObject.id}`,t.src=this.src,t.onload=e,t.frameBorder=0,t.marginWidth=0,t.marginHeight=0,t.scrolling="no",t.width=this.isMobile?this.bannerComponent.clientWidth:this.bannerObject.width,t.height=this.bannerObject.height,t.style.display="block",t}replaceMacro(){this.src=new tl(this.src,this.bannerObject).replaceMacro(!1,!1)}watch(){if(window.ResizeObserver){const e=new window.ResizeObserver((()=>{this.el.width=this.isMobile?this.bannerComponent.clientWidth:this.bannerObject.width}));e.observe(this.bannerComponent),this.observe=e}else{const e=new bl((()=>{this.el.width=this.isMobile?this.bannerComponent.clientWidth:this.bannerObject.width}));e.start(this.bannerComponent,{attributes:!0}),this.observe=e}}stopWatch(){this.observe&&this.observe.disconnect()}}class Tl{constructor(e,t,n){this.name=e,this.data=n,this.scopes=t,this.isResnponse=!1,this.channel="cms-arf"}}const Sl=new class{constructor(){this.messages=[]}handler(e,...t){-1!==e.scopes.indexOf("global")?function(e){if("parent"===e.name){const t=new Tl("parent",[],"");e.source.postMessage(t,"*")}}(e):-1!==e.name.indexOf("bodySize")&&function(e,t){const n=t.data;e.height=n.height}(t[0],e)}handlerAll(...e){const t=this.messages.filter((t=>-1!==t.scopes.indexOf(e[0])||-1!==t.scopes.indexOf("global")));if(0!==t.length)for(let n=0;n<t.length;n+=1){const i=t[n];this.handler(i,e[1]),this.reponseMessage(n,i,e[0])}}pushMessage(e){this.messages.push(e)}reponseMessage(e,t,n){t.response.push(n),this.messages.splice(e,1,t)}};class Al{constructor(e,t){this.scriptType={evalScript:1,scriptUrl:2},this.html=e,this.el=t&&"string"==typeof t?document.getElementById(t):t}getScriptTag(){let e=this.html;const t=[],n=e=>{let t=e;t=t.replace(/^\s+/,"");for(let n=t.length-1;n>=0;n-=1)if(/\S/.test(t.charAt(n))){t=t.substring(0,n+1);break}return t},i=this.html.match(/<script\b[^>]*>([\s\S]*?)<\/script>/gm);if(i){let r="";for(let s=0,o=i.length;s<o;s+=1){const o={type:"",value:"",index:s,attributes:[]};e=e.replace(i[s],"");const a=this.getAttributes(i[s]);o.attributes=a,o.html=i[s];a.filter((e=>"src"===e[0]))[0]?(o.type=this.scriptType.scriptUrl,t.push(o)):(r=i[s].replace(/<script\b[^>]*>([\s\S]*?)<\/script>/gm,"$1"),""!==n(r)&&(o.type=this.scriptType.evalScript,o.value=n(r),t.push(o)))}}return t}getAttributes(e){const t=e.replace(/>[\s\S]*?<\/script>/gm,"").match(/(([a-z]*?)=("|')(.*?)("|'))|\w+/gm);return t.shift(),t?t.map((e=>{const t=e.match(/(([a-z]).*?(?=(=")|(=')))|([^"=\s]=?)(.*?)(?="$)|([^'=\s]=?)(.*?)(?='$)/gm);return t||[e,!0]})):[]}installScript(e,t){let n=!1;return new Promise((i=>{e.filter((e=>"async"===e[0]&&(!0===e[1]||"true"===e[1]))).length>0&&i("installScriptDone"),setTimeout((()=>{n||i("timeout")}),5e3);const r=t||document.createElement("script");r.type="text/javascript";const s=e.filter((e=>"onload"===e[0]))[0];r.onload=function(){n=!0,i("installScriptDone"),s&&window.eval(s[1]),r.remove()},r.onerror=function(){n=!0,i("installScriptDone"),s&&window.eval(s[1]),r.remove()};for(let t=0;t<e.length;t+=1){const n=e[t];if("onload"!==n[0]){if("src"===n[0]&&n[1].indexOf("/cms")>=0&&!Ds()){const e=n[1].split("/cms/")[1];n[1]=Gs.url+Rs(`cms/${e}`)}Ds()||(n[1]=cl(n[1],ol)),r[n[0]]=n[1]}}document.head.appendChild(r)}))}async executeJS(e){const t=this.getScriptTag();for(let i=0;i<t.length;i+=1){const r=t[i];try{r.type===this.scriptType.scriptUrl?await this.installScript(r.attributes):window.eval(r.value)}catch(n){window.console.error(n),window.console.error("Lỗi template banner",r.value)}e&&e(r.html)}}}class Cl{constructor(e,t,n){this.html=e,this.el=t,this.store=n}createStackHtml(){const e=[],t=this.html.replace(/<script\b[^>]*>([\s\S]*?)<\/script>/gm,"%%script_tag%%").split(/(%%script_tag%%=?)/).filter((e=>""!==e&&"\n"!==e)),n=this.html.match(/<script\b[^>]*>([\s\S]*?)<\/script>/gm);for(let i=0;i<t.length;i+=1){const r=t[i];if("%%script_tag%%"===r){const t=n.shift();t&&e.push({html:t,type:"script"})}else e.push({html:r,type:"normal"})}return e}async injecttHTML(e){if(!this.el)return;const t=this.createStackHtml();if(this.el){let i;for(let r=0;r<t.length;r+=1){const s=`mocking${Math.floor(1e8*Math.random())}`,o=`<div id="${s}"></div>`,a=t[r],l=0===r?e:"afterend";r<t.length-1&&(a.html=`${a.html}\n${o}`);const c=i?document.getElementById(i):i;if("script"===a.type){const e=new Al(a.html,this.store);if(await e.executeJS(),c)try{c.insertAdjacentHTML(l,a.html),c.remove()}catch(n){this.el.insertAdjacentHTML(l,a.html)}else this.el.insertAdjacentHTML(l,a.html)}else c?(c.insertAdjacentHTML(l,`${a.html}`),c.remove()):this.el.insertAdjacentHTML(l,a.html);i=s}}}async injecttHTMLBeforeBegin(){await this.injecttHTML("beforebegin")}async injecttHTMLAfterBegin(){await this.injecttHTML("afterbegin")}async injecttHTMLBeforeEnd(){await this.injecttHTML("beforeend")}async injecttHTMLAfterEnd(){await this.injecttHTML("afterend")}}function Il(e,t){return new Cl(e,t)}const Ol=["id"],Pl={__name:"Banner",props:{model:{type:Object,required:!0},idExpand:{type:String}},setup(e){const t=e,n=Ir(),i=mt(null),r=mt(null),s=mt(null),o=mt(null),a=mt(null),l=mt(null),c=mt(null),u=mt([]),h=mt(!1),d=mt(null),p=mt(null),f=mt(!1),m=mt(null),g=mt(null),v=mt(!1),y=mt(!1),_=mt(null);Qt((()=>t.model),(()=>{try{a.value=t.model.id,r.value=t.model.tree?t.model.tree.zoneId:null,s.value=t.model.tree?t.model.tree.shareId:null,o.value=t.model.tree?t.model.tree.placementId:null,d.value=t.model.renderFrom}catch(e){}}));const w=Qi((()=>t.model instanceof hl?t.model:new hl(t.model)));_.value=w.value.averageMinutePerView,p.value||(p.value=t.model),a.value=t.model.id,r.value=t.model.tree?t.model.tree.zoneId:null,s.value=t.model.tree?t.model.tree.shareId:null,o.value=t.model.tree?t.model.tree.placementId:null,h.value=n.state.IS_PREVIEW,d.value=t.model.renderFrom;const b=new vl(n).getZone("id",r.value)[0];function E(e){try{e.width=e.contentWindow.document.body.scrollWidth,e.height=e.contentWindow.document.body.scrollHeight}catch(t){}}function T(e,t,n,r){try{const r=document.createElement("iframe");r.style.display="block";const s=m.value,o=new bl((e=>{for(let t=0;t<e.length;t+=1)"attributes"===e[t].type&&E(r),"childList"===e[t].type&&E(r),"characterData"===e[t].type&&E(r),"subtree"===e[t].type&&E(r)}));let a;r.onload=()=>{v.value||(v.value=!0,r.width=s?i.value.clientWidth:w.value.width,r.height=w.value.height,s&&(r.style.left=0),r.id=`iframe${w.value.tree?`-${w.value.tree.zoneId}`:""}-${w.value.id}`,r.frameBorder=0,r.marginWidth=0,r.marginHeight=0,r.scrolling="no","string"==typeof t?(r.contentWindow.document.open(),r.contentWindow.document.write(t),r.contentWindow.document.close()):"object"==typeof t&&r.contentWindow.document.body.appendChild(t),null!==r.contentWindow.document.body&&(r.contentWindow.document.body.style.margin=0),o.start(r.contentWindow.document.documentElement||r.contentDocument.documentElement),n&&n(t))},o.disconnectAfter(5e3,(()=>{E(r)})),a=/^#/.test(e)?document.getElementById(e.substr(1)):e.jquery?e[0]:e,a.appendChild(r),I(r)}catch(s){r&&r()}}function S(e,t,n,i){try{Il(t,e).injecttHTMLAfterBegin(),n&&n()}catch(r){i&&i()}}function A(e,t){const r=w.value.bannerContent(),s=`slot-${u.value.length+1}${w.value.tree?`-${w.value.tree.zoneId}`:""}-${w.value.id}${l.value}`,o=document.createElement("div");let c;if(o.id=s,i.value.appendChild(o),w.value.isIFrame&&(w.value.bannerHtmlType&&"banner-html5"!==w.value.bannerHtmlType.value||!w.value.bannerHtmlType.value)&&(T(o,r,e,t),window.addEventListener("message",(e=>{"object"==typeof e.data&&"ArfHtml5"===e.data.name&&-1!==e.data.iframeId.indexOf(a.value)&&-1!==e.data.iframeId.indexOf(w.value.tree.zoneId)&&C(s,null,0)}),!1)),w.value.bannerHtmlType&&"banner-html5"===w.value.bannerHtmlType.value)c=function(e,t,n){const r=new El(i.value,w.value,(()=>{E(r.el),I(r.el),t()}),m.value);if(w.value.isIFrame&&w.value.bannerHtmlType&&"banner-html5"===w.value.bannerHtmlType)T(e,r.el,null,n);else{let t;t=/^#/.test(e)?document.getElementById(e.substr(1)):e.jquery?e[0]:e,t.appendChild(r.el)}return r}(o,e,t);else if(!w.value.isIFrame){(void 0===w.value.isDocumentWrite||w.value.isDocumentWrite)&&!(w.value.bannerType.value.isUpload&&"img"===w.value.bannerType.value)?function(e,t,i,r){n.state.writeDomAsync(e,t,{avoidConflictDocWrite:h.value,error(e){r&&r()},done(){i&&i(t)}}),setTimeout((()=>{e.childElementCount<=0&&S(e,t,i,r)}),3e3)}(o,r,e,t):S(o,r,e,t)}u.value.push({slotId:s,bannerId:w.value.id}),C(s,c)}function C(e,t,r){setTimeout((()=>{if(y)return;y=!0;const r=function(e){try{let t=!1,n=document.getElementById(e).getElementsByTagName("iframe")[0];for(;!t;)n.src?t=!0:n=n.contentDocument.getElementsByTagName("iframe")[0];return n}catch(t){return null}}(e);if(r){const e=r.contentWindow;s=()=>{e.postMessage("start","*"),t&&t.watch()},o=()=>{e.postMessage("pause","*"),t&&t.stopWatch()},n.state.viewTracking(i.value).checkView({inView(e){s&&s(e)},outView(e){o&&o(e)},config:{percentageLimit:.25,timeLimit:100,interval:100}})}var s,o}),r||3e3)}function I(e){try{t=e,Sl.handlerAll(a.value,t)}catch(n){}var t}return m.value=!!b&&b.isMobile,g.value=t.model.revenueType,l.value=l.value||"",dn((async()=>{await w.value.initLibrary((e=>{n.commit("CORE_LOADED",e)})),wl("banner",w.value,c.value,a.value)})),pn((()=>{var e;e=()=>{const e=n.state.TRACKING_VIEW.filter((e=>2===e.type&&a.value===e.bid));for(let t=0;t<e.length;t+=1){const n=e[t];"function"==typeof n.callback&&n.callback()}i.value&&(i.value.style.minHeight=0,i.value.style.minWidth=0)},n.state.viewTracking(i.value).onPercentageTimeTestPassed((t=>{"normal"===d.value&&(w.value.height>45&&w.value.logging(2),e&&e(),t.stop())}),{percentageLimit:.25,timeLimit:500,interval:50}),function(){n.commit("SAVE_BANNER_RENDERED",a.value),w.value.logging(0);const e=new Os;_.value&&!e.getStorage(`arfBannerFrequency-${a.value}`)&&e.setStorage(`arfBannerFrequency-${a.value}`,1,_.value)}(),A((e=>{!function(e){const t={};t.bannerId=a.value,t.bannerContent=e,f.value=t,n.state.$renderBannerDone=f.value}(e),window.isInstallBanTrackingJS=!1,setTimeout((()=>{if(!w.value.sspTracking()||!w.value.isForceSSp()||window.isInstallBanTrackingJS)return;let e="";e=w.value.isMobile()?`${Gs.url}${Gs.bantrackingmb}`:`${Gs.url}${Gs.bantracking}`,window.isInstallBanTrackingJS=!0,ul(null,e)}),300),f.value=!0}))})),fn((()=>{u.value.map((e=>{!function(e){const t=u.value.filter((t=>t.bannerId===e))[0];try{t&&(document.getElementById(t.slotId).style.display="none")}catch(n){}}(e.bannerId)}))})),mn((()=>{document.getElementById(i.value.id)||i.value.parentNode.appendChild(i.value),u.value.filter((e=>e.bannerId===w.value.id)).length>0?function(){const e=u.value.filter((e=>e.bannerId===w.value.id))[0];try{e&&(document.getElementById(e.slotId).style.display="")}catch(t){}}():("roting"===d.value&&w.value.logging(3),A())})),(e,t)=>(yi(),Ei("div",{ref_key:"thisEl",ref:i,id:`banner${w.value.tree?`-${w.value.tree.zoneId}`:""}-${w.value.id}${l.value}`,style:{"min-height":"10px","min-width":"10px"}},null,8,Ol))}},Ll=["id","revenue"],Rl={__name:"Placement",props:{model:{type:Object,required:!0},idExpand:{type:String}},setup(e){const t=e,n=Ir(),i=mt(null),r=mt(null),s=mt(null),o=mt(null),a=mt(null),l=mt(null),c=mt([]),u=mt(null),h=mt(null),d=mt([]),p=mt(null),f=mt(null),m=Qi((()=>g()));function g(){return t.model instanceof pl?t.model:new pl(t.model)}function v(e){const t=g();let n;"rotating"===e?(n=t.activeBanner(["rotate"],c.value),n&&(n.renderFrom="rotating")):"redraw"===e?(n=t.activeBanner(["redraw"],c.value),n&&(n.renderFrom="redraw")):(n=t.activeBanner(),n&&(n.renderFrom="normal")),n&&(c.value.length>50&&(c.value=[]),c.value.push(n),"rotating"!==e&&t.relative&&(l.value=t.getRelative()),r.value=t.id,o.value=n,s.value=t.revenueType,a.value=t.positionOnShare)}function y(){try{for(let e=0;e<n.state.REDRAW_SIGN.length;e+=1){const{placementId:t}=n.state.REDRAW_SIGN[e],{isSolved:i}=n.state.REDRAW_SIGN[e];if(t===r&&!i){v("redraw"),n.state.REDRAW_SIGN[e].isSolved=!0;break}}}catch(e){}}return r.value=m.value.id,i.value=m.value.zoneId,v(),n.state.TOTAL_CPD_RUNNING.filter((e=>e.cpd>0&&e.zoneId===m.value.tree.zoneId)).length>0&&m.value.revenueType===m.value.config.AdsType.revenueType.cpd.value&&n.commit("CPD_FORCE",!0),wl("placement",m.value,u.value,r.value),f.value=t.idExpand,pn((()=>{m.value.isRotate&&function(){let e=m.value.rotateTime&&!isNaN(m.value.rotateTime)?1e3*parseInt(m.value.rotateTime,10):n.config.rotateConfig.share.default;e<3e3&&(e=n.state.config.rotateConfig.rotate.placement.minimum);let t;n.state.viewTracking(p.value).checkView({inView(){t=setInterval((()=>{v("rotating")}),e)},outView(){clearInterval(t)},config:{percentageLimit:.5,timeLimit:e,interval:100}})}(),y()})),Qt((()=>t.model),(()=>{v()})),Qt(d,(()=>{!function(){if(o.value&&1===d.value.length){const e={};e.placementId=r,e.revenueType=s,e.positionOnShare=a,e.bannerContent=d.value[0],n.state.$placementRenderDone=e,h.value=!0}}()})),Qt((()=>n.state.REDRAW_SIGN),(()=>{y()})),(e,t)=>(yi(),Ei("div",{id:`placement-${r.value}${f.value}`,ref_key:"thisEl",ref:p,revenue:m.value.trueRevenueType||m.value.revenueType},[o.value?(yi(),Ti(Pl,{key:0,model:o.value,idExpand:f.value},null,8,["model","idExpand"])):Ni("",!0)],8,Ll))}},Nl=(xl="adsFormat",Ya.filter((e=>e.type===xl))[0]).macro;var xl;async function kl(e,t,n,i){try{if(!(e.isTemplate||e.isTemplate&&e.template))return;const i=function(e,t){const n=t,i=`${e.id}-${n}-template`;return i}(e,n),r=new tl(e.template,e).replaceMacro(!1,!1,[{macro:Nl,value:`<div id="${i}"></div>`}]);await Il(r,t).injecttHTMLAfterEnd();document.getElementById(i).replaceWith(t)}catch(r){}}const Dl=["id"],Ml="share",Ul={__name:"Share",props:{model:{type:Object,required:!0},idExpand:{type:String}},setup(e){const t=e,n=Ir(),i=mt(null),r=mt(null),s=mt([]),o=mt([]),a=mt(3),l=mt(null),c=mt(null),u=mt(!1),h=mt([]),d=mt(!1),p=mt(null),f=Qi((()=>t.model instanceof gl?t.model:new gl(t.model))),m=mt(null);async function g(e){try{i.value=t.model.id,r.value=t.model.zoneId,a.value=t.model.totalShare,l.value=t.model.outputCss,t.model.isTemplate&&(c.value=t.model.template);const u=f.value,h=f.value.activeSharePlacements(e,o.value),d=u.type===n.state.$arfConfig.AdsType.shareType.single?u.allSharePlacementsAvailable():[];for(let e=0;e<h.length;e+=1)h[e].placement.bannerInvolves=d.filter((t=>t.positionOnShare===h[e].positionOnShare&&0===t.placement.relative&&t.id!==h[e].id)).map((e=>e.placement.banners.map((t=>(t.revenueType=e.placement.placementType(),t instanceof hl?t:new hl(t)))).filter((e=>e.isAvailable())))).reduce(((e,t)=>Array.isArray(e)?e.concat(t):t),0)||[];o.value.length>150&&(o.value=[]),h.map((e=>o.value.push(e))),s.value=h.map((e=>e.placement))}catch(u){throw u}}return dn((()=>{wl(Ml,f.value,l.value,i.value)})),p.value=p.value||"",Qt((()=>n.state.$placementRenderDone),(e=>{h.value.push(e)})),pn((async()=>{await kl(f.value,m.value,Ml),g(!1),f.value.isRotate&&function(){let e=f.value.rotateTime&&!isNaN(f.value.rotateTime)?1e3*parseInt(f.value.rotateTime,10):n.state.arfConfig.rotateConfig.rotate.share.default;e<3e3&&(e=n.state.arfConfig.rotateConfig.rotate.share.minimum);let t;n.state.viewTracking(m.value).checkView({inView(){t=setInterval((()=>{g(!0)}),e)},outView(){clearInterval(t)},config:{percentageLimit:.5,timeLimit:e,interval:100}})}(),o.value.length>50&&(o.value=[])})),Qt(s,(()=>{d||!s.value||f.value.isExtra||(d=!0,function(){const e=f.value,t=s.value,i=i.value,r=r.value,o=new ys(t.map((e=>({id:e.id,position:e.positionOnShare}))),e.value.id,[],n.state.PAGE_LOAD.activePageLoad.campaignId,n.state.FULL_CPM);n.commit("TRACK_TURN",{zoneId:r,turn:o,totalShare:i,isPageLoad:e.isPageLoad}),n.commit("SAVE_TRACK_LOAD_DATA")}())})),Qt((()=>t.model),(()=>{g(!1)})),Qt(h,(()=>{!function(e){if(s.value&&s.value.length>0&&h.length===s.value.length){const t=h.value.map((e=>({positionOnShare:e.positionOnShare,revenueType:e.revenueType,bannerContent:e.bannerContent})));u.value={shareId:i,status:t},e&&e(),n.state.$shareRenderDone=u.value}}()})),(e,t)=>(yi(),Ei("div",{id:`share-${f.value.id}${p.value}`,ref_key:"thisEl",ref:m},[(yi(!0),Ei(di,null,Tn(s.value,((e,t)=>(yi(),Ti(Rl,{key:t,model:e,idExpand:p.value},null,8,["model","idExpand"])))),128))],8,Dl))}},$l=["id"],Fl="zone",Vl={__name:"Zone",props:{model:{type:Object,required:!0}},setup(e){const t=e,n=Ir(),i=mt(null),r=mt(""),s=mt(null),o=mt(null),a=mt(null),l=mt([]),c=mt([]),u=mt(3),h=mt(null),d=mt([]),p=mt(null),f=mt(!1),m=mt(""),g=mt(null);Qt(d,(()=>{var e;e=()=>{!function(){if(p.value&&p.value.addslot&&p.value.listzone){h.value=d.value;const e={};e.id=i,e.status=h.value,e.css=o,e.addslot=p.value.addslot,e.listzone=p.value.listzone,n.dispatch("trackingZone",e)}}()},s.value&&c.value.length+1===d.value.length&&e&&(f.value||(_(),f.value=!0,t.model.hookToRenderNextZone&&t.model.hookToRenderNextZone()),e())}));const v=Qi((()=>{m.value=Date.now();const e=t.model.data.propsData.model instanceof _l?t.model.data.propsData.model:new _l(t.model.data.propsData.model);return e.commitBanner(),e}));function y(e,t,n){const i=function(e,t,n){return v.value.activeShare(e,t,n)}(e,t,n);return i?(l.value.push(i.id),t?(i.isExtra=t,c.value=[...c.value,i]):s.value=i,i):null}function _(){if(n.state.ZONE_BANNERS[i.value]&&!n.state.ZONE_BANNERS[i.value].length)try{const e=new CustomEvent("ArfZoneEmpty",{bubbles:!1,detail:{zoneId:i.value}});if(window.arfZoneEmpty.indexOf(i.value)<0&&window.arfZoneEmpty.push(i.value),document.dispatchEvent(e),v.value.isAgency){const e=window.parent.document.querySelector(`#iframezone-${i.value} iframe`);e.style.border="0",e.frameborder="0",e.width="100%",e.style.height="0 !important",e.style.display="none"}}catch(e){}n.state.$zoneRenderDone=Date.now();try{n.commit("SET_ZONE_PERFORMANCE",{id:i.value,endTime:Date.now(),total:Date.now()-n.state.ZONE_PERFORMANCE[i.value].startTime,banner:n.state.ZONE_BANNERS[i.value]})}catch(e){}}return v.value.logging(),i.value=v.value.id,u.value=v.value.totalShare,p.value=v.value.groupSSP,v.value.isTemplate&&(a.value=v.value.template),dn((()=>{wl(Fl,v.value,o.value,i.value),function(){if(document.getElementById(`zone-${v.value.id}`)){const e=(new Date).getTime(),t=Math.floor(1e6*Math.random());r.value=`-${e}${t}`}else r.value=""}(),Qt((()=>n.state.$shareRenderDone),(e=>{d.value.push(e)})),setTimeout((()=>{f.value||(f.value=!0,_(),t.model.hookToRenderNextZone&&t.model.hookToRenderNextZone())}),2e3)})),pn((async()=>{await v.value.initLibrary((()=>{n.commit("CORE_LOADED",v.value.id)})),t.model.el.replaceWith(g.value),await kl(v.value,g.value,Fl),y(),function(){try{for(let e=0;e<n.state.ADD_SHARE_SIGN.length;e+=1){const t=n.state.ADD_SHARE_SIGN[e];if("string"==typeof t){t&&t===i.value&&(y(l.value,!0),n.state.ADD_SHARE_SIGN.splice(e,1))}"object"==typeof t&&t.zoneId===i&&(y(l.value,!0,t.shareId),n.state.ADD_SHARE_SIGN.splice(e,1))}}catch(e){}}(),v.value.isMobile&&(g.value.style.width="100%");const e=window[n.state.$arfConfig.siteConfig.zonesDisable.name];Array.isArray(e)&&-1!==e.indexOf(i)&&(g.value.style.display="none")})),(e,t)=>(yi(),Ei("div",{id:`zone-${v.value.id}${r.value}`,ref_key:"thisEl",ref:g},[s.value?(yi(),Ti(Ul,{key:0,model:s.value,idExpand:r.value},null,8,["model","idExpand"])):Ni("",!0),(yi(!0),Ei(di,null,Tn(c.value,((e,t)=>(yi(),Ti(Ul,{key:t,model:e,idExpand:r.value},null,8,["model","idExpand"])))),128))],8,$l))}},jl={key:0},Gl={key:1},Bl={__name:"Arf",setup(e){const t=Ir(),n=mt([]),i=mt([]);function r(e){e&&("zone"===e.type?n.value.push(e):i.value.push(e))}var s;return Qt((()=>t.state.PUSHED_DATA),((e,t)=>{r(e)})),pn((()=>{var e;Qt((()=>t.state.pushedZone),((e,t)=>{r(e)})),e=()=>{},Qt((()=>t.state.zoneRenderDone),(t=>{e()}))})),dn((async()=>{xs.indexOf("media1")>=0&&await async function(e){const n=navigator.userAgent.toLowerCase().includes("iphone")||navigator.userAgent.toLowerCase().includes("mobile")||navigator.userAgent.toLowerCase().includes("windows phone")||navigator.userAgent.toLowerCase().includes("blackberry")||navigator.userAgent.toLowerCase().includes("opera mini")||navigator.userAgent.toLowerCase().includes("ipod"),i=Gs.commons||`${Gs.url}${Gs.admcorearf}`,r=`${Gs.url}${Gs.mb_core}`;n?(window.zoneM||-1!==t.state.REMOTE_SCRIPT_REGISTER.indexOf(r)?(await new Promise((e=>{let t=0;const n=setInterval((()=>{(window.zoneM||t>=20)&&(clearInterval(n),e()),t+=1}),50)})),t.commit("REMOTE_SCRIPT_REGISTER",{url:r,remove:!0})):(t.commit("REMOTE_SCRIPT_REGISTER",{url:r,remove:!1}),await ul(null,r,!0,null,t)),e&&e(r)):window.ADS_CHECKER||(-1===t.state.REMOTE_SCRIPT_REGISTER.indexOf(i)&&(t.commit("REMOTE_SCRIPT_REGISTER",{url:i,remove:!1}),await ul(null,i,!0,null,t)),await new Promise((e=>{let t=0;if(window.ADS_CHECKER)e();else{const n=setInterval((()=>{const i=window.ADS_CHECKER;i&&(clearInterval(n),e(i)),t>=10&&(clearInterval(n),e()),t+=1}),50)}})),t.commit("REMOTE_SCRIPT_REGISTER",{url:i,remove:!0}),e&&e(i))}((e=>{t.commit("CORE_LOADED",e)}))})),history.pushState=(s=history.pushState,function(){const e=s.apply(history,arguments);return window.dispatchEvent(new Event("locationchange")),e}),history.replaceState=(e=>function(){const t=e.apply(history,arguments);return window.dispatchEvent(new Event("locationchange")),t})(history.replaceState),window.addEventListener("popstate",(()=>{window.dispatchEvent(new Event("locationchange"))})),window.addEventListener("locationchange",(()=>{const e=t.state.ENV,n=ws("pageUrl"),i=ws(),r=ps()||ws("pageUrl");e.url=e.url==n?e.url:n,e.referrerUrl=i,e.currentChannel=r,e.isUpdate=!0,t.commit("INIT_ENV",e),t.state.ZONE_BANNERS={}})),(e,t)=>n.value.length>0?(yi(),Ei("div",jl,[(yi(!0),Ei(di,null,Tn(n.value,((e,t)=>(yi(),Ti(Vl,{key:t,model:e},null,8,["model"])))),128))])):(yi(),Ei("div",Gl,[(yi(!0),Ei(di,null,Tn(i.value,((e,t)=>(yi(),Ti(Pl,{key:t,model:e},null,8,["model"])))),128))]))}};function zl(){var e,t=this.parentNode,n=arguments.length;if(t)for(n||t.removeChild(this);n--;)"object"!=typeof(e=arguments[n])?e=this.ownerDocument.createTextNode(e):e.parentNode&&e.parentNode.removeChild(e),n?t.insertBefore(e,this.previousSibling):t.replaceChild(e,this)}var Hl;Element.prototype.replaceWith||(Element.prototype.replaceWith=zl),CharacterData.prototype.replaceWith||(CharacterData.prototype.replaceWith=zl),DocumentType.prototype.replaceWith||(DocumentType.prototype.replaceWith=zl),(Hl=window.Node||window.Element)&&Hl.prototype&&null==Hl.prototype.childElementCount&&Object.defineProperty(Hl.prototype,"childElementCount",{get:function(){try{let e,t=0,n=0,i=this.childNodes;for(;e=i[t++];)1===e.nodeType&&n++;return n}catch(e){return 0}}});const Wl="windowObject",Zl="cookie",ql="localStorage",Kl=new Os;function Jl(e,t){Ua.commit("SET_ENV_VARIABLE",{name:e,value:t})}function Ql(e){return Ua.state.ENV.variables[e]}function Yl(e){for(let t=0;t<e.length;t+=1){const n=e[t],i=n.type,r=n.valueName;let s=null;i===Zl?s=Kl.getCookie(r):i===ql?s=Kl.getStorage(r):i===Wl&&(s=window[r]),!Ql(r)&&s&&Jl(r,s)}}window.arfTesting=window.arfTesting||{};class Xl{constructor(e){this.invoke=e?e.invoke:null,this.index=e?e.index:0,this.immediatetly=!!e&&e.immediatetly,this.isExecuted=!1,this.waitTime=e&&e.waitTime||0,this.timeout=e&&e.timeout||3e3}exec(){return new Promise((e=>{this.isExecuted||(setTimeout((()=>{this.invoke(e)}),this.waitTime),setTimeout((()=>{e()}),this.timeout),this.isExecuted=!0)}))}}class ec{constructor(){this.tasks=[],this.isProcessing=0,this.waitTimeout=0,this.callbackStart=null,this.isWaitForTimeout=!1,this.observerTask(this.tasks,(()=>{this.isProcessing||this.execAsync()}))}turnOnWait(e){this.waitTimeout=e||500}push(e){e instanceof Xl||(e=new Xl(e)),e.immediatetly?e.exec():this.tasks.push(e),this.tasks.sort(((e,t)=>e.index-t.index))}async execSync(e){this.isProcessing=1,await this.waitTime(),this.callbackStart&&!e&&this.callbackStart();for(let t=0;t<this.tasks.length;t+=1){const e=this.tasks[t];e.isExecuted||await e.exec()}this.tasks.filter((e=>!e.isExecuted)).length>0&&await this.execSync(1),this.isProcessing=0}async execAsync(e){this.isProcessing=1,await this.waitTime(),this.callbackStart&&!e&&this.callbackStart();for(let t=0;t<this.tasks.length;t+=1){const e=this.tasks[t];e.isExecuted||e.exec()}this.tasks.filter((e=>!e.isExecuted)).length>0&&await this.execAsync(1),this.isProcessing=0}async waitTime(){this.isWaitForTimeout||await new Promise((e=>{setTimeout((()=>{e(),this.isWaitForTimeout=!0}),this.waitTimeout)}))}observerTask(e,t){e.push=function(...e){Array.prototype.push.apply(this,e),t(e)}}}const tc=new class{constructor(e){this.vueInstance=vr(Bl),this.vueInstance.use(Ua),this.vueInstance.mount(document.createElement("div"));const t=e||{domain:il(window.__admURL||location.href),url:ws("pageUrl"),referrerUrl:ws(),force:[],domainCore:Bs.domainCore.url,domainLog:Bs.domainLog.url,currentChannel:ps()||ws("pageUrl"),asyncBannerLoad:window._ADM_AsyncBannerLoad};this.env=t,this.store=Ua,Ua.commit("INIT_ENV",this.env),this.isSetupPageload=!1,this.isSetupArfEnv=!1,this.config=Ws,this.listInstance=[],this.tasks=new ec,Bs.domainCore.url=t.domainCore,Bs.domainLog.url=t.domainLog}async initLibrary(e){"firefox"===function(){let e,t;const n=navigator.userAgent;return t=n.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(t[1])?(e=/\brv[ :]+(\d+)/g.exec(n)||[],`IE ${e[1]||""}`):"Chrome"===t[1]&&(e=n.match(/\b(OPR|Edge|Edg)\/(\d+)/),null!=e)?e.slice(1).join(" ").replace("OPR","Opera"):(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],e=n.match(/version\/(\d+)/i),null!=e&&t.splice(1,1,e[1]),t.join(" ").substring(0,t.join(" ").indexOf(" ")).toLowerCase())}()&&(window.chkAdmblockAds=!0,await ul(null,"https://static.contineljs.com/core/corecontineljs.js",!0,null,Ua)),e&&e()}checkBlockZone(e){const t=window[zs.zonesDisable.name]||[],n=window[zs.zoneHidden.name]||[];return-1!==t.indexOf(e)&&-1!==n.indexOf(e)}async pushZone(e){if("object"==typeof e){const t=e;this.renderZone(t)}else{const n=e;if(Ua.state.ZONE_DATA[n])try{this.vueInstance.$children[0].$children.filter((e=>e.id===n)).forEach((e=>{e.$destroy()})),this.renderZone(Ua.state.ZONE_DATA[n],null,n,!0)}catch(t){this.renderZone(Ua.state.ZONE_DATA[n],null,n,!0)}else{if(n){if(this.checkBlockZone(n))return;const e=nl("arfdemo");let t=!1;e&&(t=e.toString().indexOf(n)>-1);const i=`cms/arf-${n}${t?"-demo":""}.min.js`,r=Bs.domainCore.url;ul(null,`${r}${Ds(r)?i:Rs(i)}`,!0,null,Ua)}for(;Array.isArray(window.arfZonesQueue)&&window.arfZonesQueue.length>0;){const e=window.arfZonesQueue.shift();this.setupSiteConfig(e),this.renderZone(e)}}}}setupEnvVariable(e){for(let t=0;t<e.length;t+=1){const n=e[t];Yl(JSON.parse(n.storageType))}}redrawPlacement(e){try{let t=document.getElementById(e).parentElement.parentElement.parentElement.getAttribute("id");-1!==t.indexOf("placement-")&&(t=t.replace("placement-","")),Ua.commit("PUSH_REDRAW_SIGN",t)}catch(t){}}drawMoreShare(e){try{if("string"==typeof e){const t=document.getElementById(e).parentElement.getAttribute("id").split("-")[2];Ua.commit("PUSH_ADD_SHARE_SIGN",t)}"object"==typeof e&&Ua.commit("PUSH_ADD_SHARE_SIGN",e)}catch(t){}}renderBanner(e,t,n){if(!e.propsData.model)return;e.propsData.model.isStandAlone=n,Ua.commit("SET_PREVIEW_MODE",t||!1),Ua.commit("PUSH_BANNER",e);const i=new Xl({immediatetly:!0,invoke:()=>{this.render(e,"banner")}});this.tasks.push(i)}renderZone(e,t,n,i){if(!e.propsData.model)return;Ua.commit("SET_ZONE_PERFORMANCE_START",{id:e.propsData.model.id}),Ua.commit("PUSH_ORDER_RENDER",e.propsData.model.id),Ua.commit("PUSH_ZONE",e),Ua.commit("SET_PREVIEW_MODE",t||!1);const r=Ua.state.ORDER_RENDER.indexOf(e.propsData.model.id),s=new Xl({index:r,immediatetly:i||!1,invoke:t=>{this.render(e,"zone",n,t)}});this.tasks.push(s)}observerQueue(e,t){e.push=function(...e){Array.prototype.push.apply(this,e),t(e)}}getPlaceToRender(e,t){if(t){const e=document.getElementById(t);if(e)return e}const n=document.getElementById(e.propsData.model.id);if(n)return n;const i=document.getElementById(`admzone${e.propsData.model.id}`)||document.getElementById(`adm-slot-${e.propsData.model.id}`);if(i){const t=document.createElement("div");return t.id=e.propsData.model.id,i.appendChild(t),t}return document.getElementById(e.propsData.model.id)||document.getElementById(`admzone${e.propsData.model.id}`)||document.getElementById(`adm-slot-${e.propsData.model.id}`)}render(e,t,n,i){let r=0;const s=setInterval((()=>{r+=50,r>3e3&&(clearInterval(s),i&&i());const o=this.getPlaceToRender(e,n);if(!o)return;"none"!==o.parentElement.style.display&&(clearInterval(s),Ua.state.PUSHED_DATA={el:o,type:t,data:e,hookToRenderNextZone:i})}),100)}getParamUrl(){const e=[];return location.search.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),((t,n,i,r)=>{e.push({name:n,value:r})})),e}setupSiteConfig(e){try{if(!this.isSetupArfEnv){const t=e.propsData.model.site.channels;this.setupEnvVariable(t),this.isSetupArfEnv=!0}this.setGlobalfilter(e.propsData.model),this.pushConfigMonopolyCampaign(e);this.pushConfigPageload(e).length>0&&(this.tasks.turnOnWait(),this.tasks.callbackStart=()=>{if(!this.isSetupPageload){const e=this.setupPageLoad();this.isSetupPageload=!!e.campaignId}})}catch(t){this.isSetupPageload=!1}}filterCampaign(e,t){try{if(0===t.length)return[];let n=[],i=[];t.forEach((t=>{const n=new vl(null,e).getPlacement("campaignId",t.campaignId);i=i.concat(n)})),i=i.map((e=>e instanceof pl?e:new pl(e))),i=i.filter((t=>(t.tree=t.tree||{},t.tree.siteId=e.propsData.model.site.id,t.tree.zoneId=e.propsData.model.id,t.passTree(),t.isAvailable()))),n=i.map((e=>e.campaignId));const r=t.filter((e=>-1!==n.indexOf(e.campaignId))).filter((e=>{if(e.options){const t=JSON.parse(e.options).filter((e=>e.domain===Ua.state.ENV.domain));return t.length>0&&new hs(t,Ua.state.env,"||").isPass}return!0}));return r}catch(n){return[]}}pushConfigMonopolyCampaign(e){try{const t=JSON.parse(JSON.stringify(e)),n=t.propsData.model.site.campaignMonopoly;let i=n?n.campaigns:[];i=this.filterCampaign(t,i);const r=t.propsData.model.site.pageLoad||{};r.existMonopoly=i.length>0,r.monopolyCampaign=i[Math.floor(Math.random()*i.length)],Ua.commit("PUSH_CONFIG_PAGELOAD",r)}catch(t){}}pushConfigPageload(e){try{const t=JSON.parse(JSON.stringify(e));if(Ua.state.PAGE_LOAD.EXIST_MONOPOLY)return[];if(!t.propsData.model.isPageLoad)return[];const n=t.propsData.model.site.pageLoad;if(!n)return[];let{campaigns:i}=n;return i=this.filterCampaign(t,i),n.campaigns=i,Ua.commit("PUSH_CONFIG_PAGELOAD",n),i}catch(t){return[]}}setupPageLoad(){try{const e=Ua.state.PAGE_LOAD.CAMPAIGNS;let t={campaignId:""};Ua.state.PAGE_LOAD.TOTAL_PAGELOAD;if(e&&e.length>0){const n={},i=Ua.state.TRACK_LOAD.pageload;e.map((e=>{n[e.campaignId]={};let t=0;i.map((n=>{n.campaignId===e.campaignId&&(t+=1)})),n[e.campaignId].times=t}));const r=e.filter((e=>{let t;try{t=n[e.campaignId].times}catch(i){t=0}return!(t>=e.pageLoad)}));if(r.length>0){let e=r.length>3?r.length:3;Math.random()>.5&&3==e&&(e=r.length);const n=Math.floor(Math.random()*e);r[n]&&(t=r[n])}return Ua.commit("SET_ACTIVE_PAGE_LOAD",t),t}return t}catch(e){return{campaignId:""}}}setGlobalfilter(e){const t=e.site.id;if(Ua.state.GLOBAL_FILTER_RESULT[t])return;const n=e.site.globalFilters;Ua.commit("SET_GLOBAL_FILTER",n);const i=new hs(n,Ua.state.ENV,"&&").isPass;Ua.commit("GLOBAL_FILTER_RESULT",{isPassGlobalFilter:i,siteId:t})}receiveMessage(e){try{if("https://static-cmsads.admicro.vn"!==e.origin&&e.origin!==document.location.origin)return;if(e.data.channel&&"cms-arf"===e.data.channel){const{data:t,source:n}=e;t.source=n,Sl.pushMessage(t),Ua.commit("PUSH_MESSAGE",t.scopes)}}catch(t){}}}(window.arfTesting.env);const nc=Object.freeze(Object.defineProperty({__proto__:null,getCurrentPageLoad:function(){try{return Ua.state.PAGE_LOAD.activePageLoad}catch(e){return{}}},getValue:function(e){return as(e,Ua.state.ENV)},cpdFlag:function(){return Ua.state.CPD_FORCE},cpmFlag:function(){return Ua.state.FULL_CPM},getState:function(){return Ua.state},registerViewTracking:function(e){Ua.commit("PUSH_TRACKING_VIEW",e)},getZonePerformance:function(){return Ua.getters.getZonePerformance},getVersion:function(){return"Arf Vue3"}},Symbol.toStringTag,{value:"Module"})),ic=new Os;const rc=Object.freeze(Object.defineProperty({__proto__:null,loadScript:async function(e,t){await ul(null,e,!0,0,null,!1),t&&t()},WriteDomAsync:function(e,t,n){ka(e,t,n)},getValue:function(e,t){let n=null;return t===Zl?n=ic.getCookie(e):t===ql?n=ic.getStorage(e):t===Wl&&(n=window[e]),n},startStopBanner:function(e){const t=zo(e),n=e.contentWindow;t.checkView({inView(){n.postMessage("start","*")},outView(){n.postMessage("pause","*")},config:{percentageLimit:.25,timeLimit:100,interval:100}})},insertAdjacentHTML:function(e,t){Il(t,e).injecttHTMLAfterBegin()}},Symbol.toStringTag,{value:"Module"}));window.__meta_keywords=Array.from(document.getElementsByTagName("meta")).filter((e=>e.name.indexOf("keywords")>-1)).reduce(((e,t)=>e?`${e},${t.content}`:t.content),0),window.__admisInIframe=window.__admisInIframe||function(){try{return window.self!==window.top}catch(e){return!0}}(),window.__admURL=window.__admURL||(window.__admisInIframe&&""!==document.referrer?document.referrer:document.URL).replace(/'/g,""),Ds()||window.parent&&(window.__admURL=window.parent.__admURL||window.parent.document.URL||window.parent.document.referrer,window._ADM_Channel=window.parent._ADM_Channel||void 0),window.arfAsync=window.arfAsync||[],window._ADMpageloadAds=window._ADMpageloadAds||"",window.admicroAD=window.admicroAD||{},window.admicroAD.unit=window.admicroAD.unit||[],window.arfZonesQueue=window.arfZonesQueue||[],window.arfZonesQueue=window.arfZonesQueue.filter((e=>e.propsData.model)),window.isArfInitLibraryDone=window.isArfInitLibraryDone||!1,window._ArfListZoneDisable=window._ArfListZoneDisable||[],window.arf=window.arf||{},window.arf.env=window.arf.env||{},window.isArfLoaded=!0,window._ADM_refAdmicro=document.referrer,window.arfZoneEmpty=[],window.vueInstance=window.vueInstance||[],window.arfFirstBannerClick="",window.addEventListener("message",tc.receiveMessage,!1);const sc=async e=>tc.pushZone(e);window._chkPrLinkAll=window._chkPrLinkAll||!1,!0!==window._chkPrLinkAll&&!0!==window._isAdsHidden&&tc.initLibrary((()=>{sc(),tc.observerQueue(window.arfZonesQueue,(()=>{sc()})),async function(){let e;for(;window.arfAsync.length>0;){const t=window.arfAsync.shift();e===t&&await new Promise((e=>{setTimeout((()=>{e()}),500)})),e=t,sc(t)}tc.observerQueue(window.arfAsync,(()=>{for(;window.arfAsync.length>0;){const e=window.arfAsync.shift();sc(e)}}))}()}));return e.ArfStorage=Os,e.Banner=(e,t)=>tc.renderBanner(e,t,!0),e.Zone=(e,t)=>tc.renderZone(e,t),e.decrypt=Ns,e.detail=nc,e.drawMoreShare=e=>tc.drawMoreShare(e),e.encrypt=Rs,e.imgURLReplacer=ll,e.pushZone=sc,e.redrawPlacement=e=>tc.redrawPlacement(e),e.refresh=e=>{Array.from(document.querySelectorAll('div[id*="zone-"]')).forEach((t=>{const n=t.id.replace("zone-","");if(e&&(!Array.isArray(e)||!e.includes(n)))return;const i=document.createElement("div");i.id=n,t.replaceWith(i),arfAsync.push(n)}))},e.utils=rc,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),e}({});
